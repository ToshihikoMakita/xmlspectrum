<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>titlepages.xsl</title><link rel="stylesheet" type="text/css" href="../../../theme.css"></head><body><div><p class="spectrum"><span class="z">&lt;?</span><span class="pi">xml version="1.0" encoding="utf-8"</span><span class="z">?&gt;</span><span class="txt">
</span><span class="ww" id="w5"><span class="es">&lt;</span><span class="enxsl">xsl:stylesheet</span><span class="z"> </span><span class="atn">xmlns:xsl</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/XSL/Transform</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:db</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:doc</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://nwalsh.com/xsl/documentation/1.0</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:f</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/extension</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:fn</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2005/xpath-functions</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:h</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:m</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/mode</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:t</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/template</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:xs</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2001/XMLSchema</span><span class="z">"</span><span class="z">
                		</span><span class="atn">exclude-result-prefixes</span><span class="atneq">=</span><span class="z">"</span><span class="av">h f m fn db doc t xs</span><span class="z">"</span><span class="z">
                                </span><span class="atn">version</span><span class="atneq">=</span><span class="z">"</span><span class="av">2.0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> FIXME: This template is now used only in HTML. HTML code should by updated to more
     sophisticated t:titlepage </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ww" id="w85"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">titlepage</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w101"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Processes a title page</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx107" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w109"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w113"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template processes the title page content for an element
based on a specified template.
For each element in the template, the corresponding element from the
content is processed (with </span><span class="ww" id="w117"><span class="es">&lt;</span><span class="en">code</span><span class="scx">&gt;</span><span class="txt">apply-templates</span><span class="ez">&lt;/</span><span class="cl">code</span><span id="wx123" class="ec">&gt;</span></span><span class="txt">).</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx127" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx131" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w133"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w137"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w141"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w145"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">info</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx151" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w153"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w157"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The bibliographic metadata associated with the element. By default,
this is </span><span class="ww" id="w161"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">db:info/*</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx167" class="ec">&gt;</span></span><span class="txt">.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx171" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx175" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx179" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w181"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w185"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">content</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx191" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w193"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w197"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The title page template.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx203" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx207" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx211" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx215" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx219" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w221"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w225"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The formatted title page.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx231" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx235" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx239" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w241"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?titlepage">titlepage</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w251"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?context">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx265" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w267"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?info">info</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$context</span><span class="step" start="9">/</span><span class="qname" start="10" select="quick">db:title</span><span class="whitespace" start="18">
                                                                </span><span class="op" start="52">|</span><span class="variable" start="53" select="quick">$context</span><span class="step" start="61">/</span><span class="qname" start="62" select="quick">db:subtitle</span><span class="whitespace" start="73">
                                                                </span><span class="op" start="107">|</span><span class="variable" start="108" select="quick">$context</span><span class="step" start="116">/</span><span class="qname" start="117" select="quick">db:titleabbrev</span><span class="whitespace" start="131">
                                                                </span><span class="op" start="165">|</span><span class="variable" start="166" select="quick">$context</span><span class="step" start="174">/</span><span class="qname" start="175" select="quick">db:info</span><span class="step" start="182">/</span><span class="qname" start="183" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()*</span><span class="z">"</span><span id="wx306" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w308"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?content">content</span><span class="z">"</span><span id="wx316" class="sc">/&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm">
  &lt;xsl:message&gt;
    &lt;xsl:text&gt;titlepage for: &lt;/xsl:text&gt;
    &lt;xsl:value-of select="node-name($context)"/&gt;
    &lt;xsl:copy-of select="$content"/&gt;
  &lt;/xsl:message&gt;

  &lt;xsl:message&gt;
    &lt;xsl:text&gt;titlepage with: &lt;/xsl:text&gt;
    &lt;xsl:copy-of select="$info"/&gt;
  &lt;/xsl:message&gt;
</span><span class="z">--&gt;</span><span class="txt">

  </span><span class="ww" id="w322"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w326"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="whitespace" start="9"> </span><span class="type-op" start="10">instance of</span><span class="whitespace" start="21"> </span><span class="node-type" start="22" pair-end="36">document-node</span><span class="parenthesis">(</span><span class="parenthesis" start="36">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w342"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:titlepage-templates</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w358"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$context</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx378" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w380"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">info</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$info</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx400" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx404" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx408" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w410"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="whitespace" start="9"> </span><span class="type-op" start="10">instance of</span><span class="whitespace" start="21"> </span><span class="node-type" start="22" pair-end="30">element</span><span class="parenthesis">(</span><span class="parenthesis" start="30">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w426"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="step" start="9">/</span><span class="qname" start="10" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:titlepage-templates</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w444"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$context</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx464" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w466"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">info</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$info</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx486" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx490" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx494" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w496"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="18" select="quick">fn:empty</span><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$content</span><span class="parenthesis" start="18">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w509"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w513"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Empty $content in titlepage template (for </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx519" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w521"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="7" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">.</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span id="wx532" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w534"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">).</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx540" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx544" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx548" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w550"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w554"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w558"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Unexpected $content in titlepage template (for </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx564" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w566"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="7" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">.</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span id="wx577" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w579"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">).</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx585" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx589" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx593" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx597" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx601" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w603"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">t:titlepage</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w619"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Generates titlepage for element</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx625" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w627"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w631"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template FIXME</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx637" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w639"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template also copies content of
</span><span class="ww" id="w643"><span class="es">&lt;</span><span class="en">literal</span><span class="scx">&gt;</span><span class="txt">before-recto</span><span class="ez">&lt;/</span><span class="cl">literal</span><span id="wx649" class="ec">&gt;</span></span><span class="txt">, </span><span class="ww" id="w651"><span class="es">&lt;</span><span class="en">literal</span><span class="scx">&gt;</span><span class="txt">after-recto</span><span class="ez">&lt;/</span><span class="cl">literal</span><span id="wx657" class="ec">&gt;</span></span><span class="txt"> and
</span><span class="ww" id="w659"><span class="es">&lt;</span><span class="en">literal</span><span class="scx">&gt;</span><span class="txt">before-verso</span><span class="ez">&lt;/</span><span class="cl">literal</span><span id="wx665" class="ec">&gt;</span></span><span class="txt">, </span><span class="ww" id="w667"><span class="es">&lt;</span><span class="en">literal</span><span class="scx">&gt;</span><span class="txt">after-verso</span><span class="ez">&lt;/</span><span class="cl">literal</span><span id="wx673" class="ec">&gt;</span></span><span class="txt">
templates into output. Templates for verso side are applied only if
verso template returns non-empty content.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx677" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx681" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w683"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w687"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w691"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w695"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">info</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx701" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w703"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w707"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The bibliographic metadata associated with the element. By default,
this is </span><span class="ww" id="w711"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">db:info/*</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx717" class="ec">&gt;</span></span><span class="txt">.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx721" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx725" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx729" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w731"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w735"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">content</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx741" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w743"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w747"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The title page template.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx753" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx757" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx761" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx765" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx769" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w771"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w775"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The formatted title page.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx781" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx785" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx789" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w791"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}titlepage">t:titlepage</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w801"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?recto">recto</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="87" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27"> </span><span class="op" start="28">=</span><span class="whitespace" start="29"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="30" pair-end="49" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="40" pair-end="48" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="48">)</span><span class="parenthesis" start="49">)</span><span class="whitespace" start="50">
                      </span><span class="qname" start="51" select="quick">	</span><span class="qname" start="52" select="quick">	</span><span class="qname" start="53" select="quick">	</span><span class="whitespace" start="54">              </span><span class="op" start="68">and</span><span class="whitespace" start="71"> </span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">t:side</span><span class="op" start="79">=</span><span class="op">'</span><span class="literal" start="80">recto</span><span class="op">'</span><span class="filter" start="87">]</span><span class="filter" start="88" pair-end="90" select="quick">[</span><span class="numeric" start="89">1</span><span class="filter" start="90">]</span><span class="z">"</span><span id="wx848" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w850"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?verso">verso</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="87" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27"> </span><span class="op" start="28">=</span><span class="whitespace" start="29"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="30" pair-end="49" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="40" pair-end="48" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="48">)</span><span class="parenthesis" start="49">)</span><span class="whitespace" start="50">
                      </span><span class="qname" start="51" select="quick">	</span><span class="qname" start="52" select="quick">	</span><span class="qname" start="53" select="quick">	</span><span class="whitespace" start="54">              </span><span class="op" start="68">and</span><span class="whitespace" start="71"> </span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">t:side</span><span class="op" start="79">=</span><span class="op">'</span><span class="literal" start="80">verso</span><span class="op">'</span><span class="filter" start="87">]</span><span class="filter" start="88" pair-end="90" select="quick">[</span><span class="numeric" start="89">1</span><span class="filter" start="90">]</span><span class="z">"</span><span id="wx897" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w899"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?before-recto">before-recto</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="94" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27"> </span><span class="op" start="28">=</span><span class="whitespace" start="29"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="30" pair-end="49" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="40" pair-end="48" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="48">)</span><span class="parenthesis" start="49">)</span><span class="whitespace" start="50">
                      </span><span class="qname" start="51" select="quick">	</span><span class="qname" start="52" select="quick">	</span><span class="qname" start="53" select="quick">	</span><span class="whitespace" start="54">              </span><span class="op" start="68">and</span><span class="whitespace" start="71"> </span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">t:side</span><span class="op" start="79">=</span><span class="op">'</span><span class="literal" start="80">before-recto</span><span class="op">'</span><span class="filter" start="94">]</span><span class="filter" start="95" pair-end="97" select="quick">[</span><span class="numeric" start="96">1</span><span class="filter" start="97">]</span><span class="z">"</span><span id="wx946" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w948"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?before-verso">before-verso</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="94" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27"> </span><span class="op" start="28">=</span><span class="whitespace" start="29"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="30" pair-end="49" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="40" pair-end="48" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="48">)</span><span class="parenthesis" start="49">)</span><span class="whitespace" start="50">
                      </span><span class="qname" start="51" select="quick">	</span><span class="qname" start="52" select="quick">	</span><span class="qname" start="53" select="quick">	</span><span class="whitespace" start="54">              </span><span class="op" start="68">and</span><span class="whitespace" start="71"> </span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">t:side</span><span class="op" start="79">=</span><span class="op">'</span><span class="literal" start="80">before-verso</span><span class="op">'</span><span class="filter" start="94">]</span><span class="filter" start="95" pair-end="97" select="quick">[</span><span class="numeric" start="96">1</span><span class="filter" start="97">]</span><span class="z">"</span><span id="wx995" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w997"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?after-recto">after-recto</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="93" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27"> </span><span class="op" start="28">=</span><span class="whitespace" start="29"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="30" pair-end="49" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="40" pair-end="48" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="48">)</span><span class="parenthesis" start="49">)</span><span class="whitespace" start="50">
                      </span><span class="qname" start="51" select="quick">	</span><span class="qname" start="52" select="quick">	</span><span class="qname" start="53" select="quick">	</span><span class="whitespace" start="54">              </span><span class="op" start="68">and</span><span class="whitespace" start="71"> </span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">t:side</span><span class="op" start="79">=</span><span class="op">'</span><span class="literal" start="80">after-recto</span><span class="op">'</span><span class="filter" start="93">]</span><span class="filter" start="94" pair-end="96" select="quick">[</span><span class="numeric" start="95">1</span><span class="filter" start="96">]</span><span class="z">"</span><span id="wx1044" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w1046"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?after-verso">after-verso</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="93" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27"> </span><span class="op" start="28">=</span><span class="whitespace" start="29"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="30" pair-end="49" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="40" pair-end="48" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="48">)</span><span class="parenthesis" start="49">)</span><span class="whitespace" start="50">
                      </span><span class="qname" start="51" select="quick">	</span><span class="qname" start="52" select="quick">	</span><span class="qname" start="53" select="quick">	</span><span class="whitespace" start="54">              </span><span class="op" start="68">and</span><span class="whitespace" start="71"> </span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">t:side</span><span class="op" start="79">=</span><span class="op">'</span><span class="literal" start="80">after-verso</span><span class="op">'</span><span class="filter" start="93">]</span><span class="filter" start="94" pair-end="96" select="quick">[</span><span class="numeric" start="95">1</span><span class="filter" start="96">]</span><span class="z">"</span><span id="wx1093" class="sc">/&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1095"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="25" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$before-recto</span><span class="parenthesis" start="24">)</span><span class="parenthesis" start="25">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1111"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/titlepages.xsl.html#t?{http://docbook.org/xslt/ns/template}process-titlepage-content" class="solar"><span class="tcall">t:process-titlepage-content</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1121"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$before-recto</span><span class="z">"</span><span id="wx1135" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1137"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">before-recto</span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1149" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1153" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1157" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1159"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/titlepages.xsl.html#t?{http://docbook.org/xslt/ns/template}process-titlepage-content" class="solar"><span class="tcall">t:process-titlepage-content</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1169"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$recto</span><span class="z">"</span><span id="wx1183" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1185"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">recto</span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1197" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1201" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1203"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="24" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$after-recto</span><span class="parenthesis" start="23">)</span><span class="parenthesis" start="24">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1219"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/titlepages.xsl.html#t?{http://docbook.org/xslt/ns/template}process-titlepage-content" class="solar"><span class="tcall">t:process-titlepage-content</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1229"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$after-recto</span><span class="z">"</span><span id="wx1243" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1245"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">after-recto</span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1257" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1261" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1265" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1267"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="18" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$verso</span><span class="parenthesis" start="17">)</span><span class="parenthesis" start="18">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1283"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="25" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$before-verso</span><span class="parenthesis" start="24">)</span><span class="parenthesis" start="25">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1299"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/titlepages.xsl.html#t?{http://docbook.org/xslt/ns/template}process-titlepage-content" class="solar"><span class="tcall">t:process-titlepage-content</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1309"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$before-verso</span><span class="z">"</span><span id="wx1323" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w1325"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">before-verso</span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1337" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1341" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1345" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1347"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/titlepages.xsl.html#t?{http://docbook.org/xslt/ns/template}process-titlepage-content" class="solar"><span class="tcall">t:process-titlepage-content</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1357"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$verso</span><span class="z">"</span><span id="wx1371" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1373"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">verso</span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1385" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1389" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1391"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="24" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$after-verso</span><span class="parenthesis" start="23">)</span><span class="parenthesis" start="24">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1407"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/titlepages.xsl.html#t?{http://docbook.org/xslt/ns/template}process-titlepage-content" class="solar"><span class="tcall">t:process-titlepage-content</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1417"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$after-verso</span><span class="z">"</span><span id="wx1431" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w1433"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">after-verso</span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1445" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1449" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1453" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1457" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1461" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1463"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">t:process-titlepage-content</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1479"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Processes a title page</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx1485" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1487"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1491"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template processes the title page content for an element
based on a specified template.  For each element in the template, the
corresponding element from the content is processed (with
</span><span class="ww" id="w1495"><span class="es">&lt;</span><span class="en">code</span><span class="scx">&gt;</span><span class="txt">apply-templates</span><span class="ez">&lt;/</span><span class="cl">code</span><span id="wx1501" class="ec">&gt;</span></span><span class="txt">). This is done for both recto and verso
templates.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1505" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w1507"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template also copies content of
</span><span class="ww" id="w1511"><span class="es">&lt;</span><span class="en">literal</span><span class="scx">&gt;</span><span class="txt">before-recto</span><span class="ez">&lt;/</span><span class="cl">literal</span><span id="wx1517" class="ec">&gt;</span></span><span class="txt">, </span><span class="ww" id="w1519"><span class="es">&lt;</span><span class="en">literal</span><span class="scx">&gt;</span><span class="txt">after-recto</span><span class="ez">&lt;/</span><span class="cl">literal</span><span id="wx1525" class="ec">&gt;</span></span><span class="txt"> and
</span><span class="ww" id="w1527"><span class="es">&lt;</span><span class="en">literal</span><span class="scx">&gt;</span><span class="txt">before-verso</span><span class="ez">&lt;/</span><span class="cl">literal</span><span id="wx1533" class="ec">&gt;</span></span><span class="txt">, </span><span class="ww" id="w1535"><span class="es">&lt;</span><span class="en">literal</span><span class="scx">&gt;</span><span class="txt">after-verso</span><span class="ez">&lt;/</span><span class="cl">literal</span><span id="wx1541" class="ec">&gt;</span></span><span class="txt">
templates into output. Templates for verso side are applied only if
verso template returns non-empty content.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1545" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx1549" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1551"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1555"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1559"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w1563"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">info</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx1569" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w1571"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1575"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The bibliographic metadata associated with the element. By default,
this is </span><span class="ww" id="w1579"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">db:info/*</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx1585" class="ec">&gt;</span></span><span class="txt">.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1589" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx1593" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx1597" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w1599"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w1603"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">content</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx1609" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w1611"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1615"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The title page template.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1621" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx1625" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx1629" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx1633" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx1637" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1639"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1643"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The formatted title page.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1649" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx1653" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx1657" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1659"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}process-titlepage-content">t:process-titlepage-content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1669"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?context">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1683" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w1685"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?info">info</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$context</span><span class="step" start="9">/</span><span class="qname" start="10" select="quick">db:title</span><span class="whitespace" start="18">
                                                                </span><span class="op" start="52">|</span><span class="variable" start="53" select="quick">$context</span><span class="step" start="61">/</span><span class="qname" start="62" select="quick">db:subtitle</span><span class="whitespace" start="73">
                                                                </span><span class="op" start="107">|</span><span class="variable" start="108" select="quick">$context</span><span class="step" start="116">/</span><span class="qname" start="117" select="quick">db:titleabbrev</span><span class="whitespace" start="131">
                                                                </span><span class="op" start="165">|</span><span class="variable" start="166" select="quick">$context</span><span class="step" start="174">/</span><span class="qname" start="175" select="quick">db:info</span><span class="step" start="182">/</span><span class="qname" start="183" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()*</span><span class="z">"</span><span id="wx1724" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w1726"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?content">content</span><span class="z">"</span><span id="wx1734" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w1736"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?side">side</span><span class="z">"</span><span id="wx1744" class="sc">/&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm">
  &lt;xsl:message&gt;
    &lt;xsl:text&gt;titlepage for: &lt;/xsl:text&gt;
    &lt;xsl:value-of select="node-name($context)"/&gt;
    &lt;xsl:copy-of select="$content"/&gt;
  &lt;/xsl:message&gt;

  &lt;xsl:message&gt;
    &lt;xsl:text&gt;titlepage with: &lt;/xsl:text&gt;
    &lt;xsl:copy-of select="$info"/&gt;
  &lt;/xsl:message&gt;
</span><span class="z">--&gt;</span><span class="txt">

  </span><span class="ww" id="w1750"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1754"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="whitespace" start="9"> </span><span class="type-op" start="10">instance of</span><span class="whitespace" start="21"> </span><span class="node-type" start="22" pair-end="36">document-node</span><span class="parenthesis">(</span><span class="parenthesis" start="36">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1770"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:titlepage-templates</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1786"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$context</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx1806" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w1808"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">info</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$info</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx1828" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w1830"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$side</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx1850" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx1854" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1858" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1860"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="whitespace" start="9"> </span><span class="type-op" start="10">instance of</span><span class="whitespace" start="21"> </span><span class="node-type" start="22" pair-end="30">element</span><span class="parenthesis">(</span><span class="parenthesis" start="30">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1876"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="step" start="9">/</span><span class="qname" start="10" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:titlepage-templates</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1894"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$context</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx1914" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w1916"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">info</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$info</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx1936" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w1938"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$side</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx1958" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx1962" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1966" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1968"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="18" select="quick">fn:empty</span><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$content</span><span class="parenthesis" start="18">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1981"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1985"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Empty $content in titlepage template (for </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1991" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w1993"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="7" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">.</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span id="wx2004" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w2006"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">).</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2012" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx2016" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2020" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2022"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2026"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2030"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Unexpected $content in titlepage template (for </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2036" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w2038"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="7" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">.</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span id="wx2049" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w2051"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">).</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2057" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx2061" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2065" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2069" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2073" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2075"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:titlepage-templates</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2091"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for processing the title page template contents</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx2097" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2099"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2103"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to process the title page template contents.
For each DocBook element in the template, the corresponding element from
the metadata (if there is one) is formatted. Elements in other namespaces
are generally copied directly to the title page.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2109" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2111"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">One exception is made if the element specifies a
</span><span class="ww" id="w2115"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">t:conditional</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2127" class="ec">&gt;</span></span><span class="txt"> attribute with a non-zero value
then the element is only copied if it contains (among its descendants)
an element that occurs in the source document.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2131" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx2135" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx2139" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2141"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:titlepage-templates</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">1000</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2163"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx2177" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2179"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?info">info</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx2193" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2195"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?side">side</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx2216" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2218"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?this">this</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx2232" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2234"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?content">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$info</span><span class="filter" start="6" pair-end="30" select="quick">[</span><a href="xslt/base/common/titlepages.xsl.html#f?{http://docbook.org/xslt/ns/extension}node-matches" class="solar"><span class="function" start="7" pair-end="29" select="quick">f:node-matches</span></a><span class="parenthesis">(</span><span class="variable" start="22" select="quick">$this</span><span class="op" start="27">,</span><span class="context" start="28">.</span><span class="parenthesis" start="29">)</span><span class="filter" start="30">]</span><span class="z">"</span><span id="wx2256" class="sc">/&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm">
  &lt;xsl:message&gt;
    &lt;xsl:text&gt;titlepage-templates for: &lt;/xsl:text&gt;
    &lt;xsl:value-of select="name(.)"/&gt;
    &lt;xsl:text&gt; in the context of &lt;/xsl:text&gt;
    &lt;xsl:value-of select="name($node)"/&gt;
    &lt;xsl:text&gt; on side &lt;/xsl:text&gt;
    &lt;xsl:value-of select="$side"/&gt;    
  &lt;/xsl:message&gt;

  &lt;xsl:message&gt;
    &lt;xsl:copy-of select="$content"/&gt;
  &lt;/xsl:message&gt;
</span><span class="z">--&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> Title, subtitle, and titleabbrev are special because they're sometimes optional </span><span class="z">--&gt;</span><span class="txt">

  </span><span class="ww" id="w2266"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2270"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">self::</span><span class="qname" start="7" select="quick">db:title</span><span class="whitespace" start="15">
                                    </span><span class="op" start="36">and</span><span class="whitespace" start="39"> </span><span class="parenthesis" start="40" pair-end="471" select="quick">(</span><span class="variable" start="41" select="quick">$node</span><span class="step" start="46">/</span><span class="axis" start="47">self::</span><span class="qname" start="53" select="quick">db:bibliography</span><span class="whitespace" start="68">
                                         </span><span class="op" start="94">or</span><span class="whitespace" start="96"> </span><span class="variable" start="97" select="quick">$node</span><span class="step" start="102">/</span><span class="axis" start="103">self::</span><span class="qname" start="109" select="quick">db:glossary</span><span class="whitespace" start="120">
                                         </span><span class="op" start="146">or</span><span class="whitespace" start="148"> </span><span class="variable" start="149" select="quick">$node</span><span class="step" start="154">/</span><span class="axis" start="155">self::</span><span class="qname" start="161" select="quick">db:index</span><span class="whitespace" start="169">
                                         </span><span class="op" start="195">or</span><span class="whitespace" start="197"> </span><span class="variable" start="198" select="quick">$node</span><span class="step" start="203">/</span><span class="axis" start="204">self::</span><span class="qname" start="210" select="quick">db:setindex</span><span class="whitespace" start="221">
                                         </span><span class="op" start="247">or</span><span class="whitespace" start="249"> </span><span class="variable" start="250" select="quick">$node</span><span class="step" start="255">/</span><span class="axis" start="256">self::</span><span class="qname" start="262" select="quick">db:tip</span><span class="whitespace" start="268">
                                         </span><span class="op" start="294">or</span><span class="whitespace" start="296"> </span><span class="variable" start="297" select="quick">$node</span><span class="step" start="302">/</span><span class="axis" start="303">self::</span><span class="qname" start="309" select="quick">db:note</span><span class="whitespace" start="316">
                                         </span><span class="op" start="342">or</span><span class="whitespace" start="344"> </span><span class="variable" start="345" select="quick">$node</span><span class="step" start="350">/</span><span class="axis" start="351">self::</span><span class="qname" start="357" select="quick">db:important</span><span class="whitespace" start="369">
                                         </span><span class="op" start="395">or</span><span class="whitespace" start="397"> </span><span class="variable" start="398" select="quick">$node</span><span class="step" start="403">/</span><span class="axis" start="404">self::</span><span class="qname" start="410" select="quick">db:warning</span><span class="whitespace" start="420">
                                         </span><span class="op" start="446">or</span><span class="whitespace" start="448"> </span><span class="variable" start="449" select="quick">$node</span><span class="step" start="454">/</span><span class="axis" start="455">self::</span><span class="qname" start="461" select="quick">db:caution</span><span class="parenthesis" start="471">)</span><span class="whitespace" start="472">
                </span><span class="qname" start="473" select="quick">	</span><span class="qname" start="474" select="quick">	</span><span class="whitespace" start="475">    </span><span class="op" start="479">and</span><span class="whitespace" start="482"> </span><span class="parenthesis" start="483" pair-end="516" select="quick">(</span><span class="variable" start="484" select="quick">$side</span><span class="whitespace" start="489"> </span><span class="op" start="490">eq</span><span class="whitespace" start="492"> </span><span class="op">'</span><span class="literal" start="493">recto</span><span class="op">'</span><span class="whitespace" start="500"> </span><span class="op" start="501">or</span><span class="whitespace" start="503"> </span><span class="type" start="504">empty</span><span class="parenthesis">(</span><span class="variable" start="510" select="quick">$side</span><span class="parenthesis" start="515">)</span><span class="parenthesis" start="516">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2368"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:title-markup</span><span class="z">"</span><span id="wx2382" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2384"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="41" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><a href="xslt/base/common/titlepages.xsl.html#f?{http://docbook.org/xslt/ns/extension}select-style-attributes" class="solar"><span class="function" start="11" pair-end="39" select="quick">f:select-style-attributes</span></a><span class="parenthesis">(</span><span class="axis" start="37">@</span><span class="qname" start="38" select="quick">*</span><span class="parenthesis" start="39">)</span><span class="parenthesis" start="40">)</span><span class="parenthesis" start="41">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w2404"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">Direct styling of title in titlepage template is not supported. Customize approapriate attribute set instead.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx2410" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2414" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2418" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w2420"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">self::</span><span class="qname" start="7" select="quick">db:title</span><span class="whitespace" start="15"> </span><span class="op" start="16">and</span><span class="whitespace" start="19"> </span><span class="variable" start="20" select="quick">$content</span><span class="whitespace" start="28"> </span><span class="op" start="29">and</span><span class="whitespace" start="32"> </span><span class="parenthesis" start="33" pair-end="66" select="quick">(</span><span class="variable" start="34" select="quick">$side</span><span class="whitespace" start="39"> </span><span class="op" start="40">eq</span><span class="whitespace" start="42"> </span><span class="op">'</span><span class="literal" start="43">recto</span><span class="op">'</span><span class="whitespace" start="50"> </span><span class="op" start="51">or</span><span class="whitespace" start="53"> </span><span class="type" start="54">empty</span><span class="parenthesis">(</span><span class="variable" start="60" select="quick">$side</span><span class="parenthesis" start="65">)</span><span class="parenthesis" start="66">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2454"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:title-markup</span><span class="z">"</span><span id="wx2468" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2470"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="41" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><a href="xslt/base/common/titlepages.xsl.html#f?{http://docbook.org/xslt/ns/extension}select-style-attributes" class="solar"><span class="function" start="11" pair-end="39" select="quick">f:select-style-attributes</span></a><span class="parenthesis">(</span><span class="axis" start="37">@</span><span class="qname" start="38" select="quick">*</span><span class="parenthesis" start="39">)</span><span class="parenthesis" start="40">)</span><span class="parenthesis" start="41">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w2490"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">Direct styling of title in titlepage template is not supported. Customize approapriate attribute set instead.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx2496" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2500" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2504" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w2506"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">self::</span><span class="qname" start="7" select="quick">db:subtitle</span><span class="whitespace" start="18"> </span><span class="op" start="19">and</span><span class="whitespace" start="22"> </span><span class="variable" start="23" select="quick">$content</span><span class="whitespace" start="31"> </span><span class="op" start="32">and</span><span class="whitespace" start="35"> </span><span class="parenthesis" start="36" pair-end="69" select="quick">(</span><span class="variable" start="37" select="quick">$side</span><span class="whitespace" start="42"> </span><span class="op" start="43">eq</span><span class="whitespace" start="45"> </span><span class="op">'</span><span class="literal" start="46">recto</span><span class="op">'</span><span class="whitespace" start="53"> </span><span class="op" start="54">or</span><span class="whitespace" start="56"> </span><span class="type" start="57">empty</span><span class="parenthesis">(</span><span class="variable" start="63" select="quick">$side</span><span class="parenthesis" start="68">)</span><span class="parenthesis" start="69">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2540"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:subtitle-markup</span><span class="z">"</span><span id="wx2554" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2556"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="41" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><a href="xslt/base/common/titlepages.xsl.html#f?{http://docbook.org/xslt/ns/extension}select-style-attributes" class="solar"><span class="function" start="11" pair-end="39" select="quick">f:select-style-attributes</span></a><span class="parenthesis">(</span><span class="axis" start="37">@</span><span class="qname" start="38" select="quick">*</span><span class="parenthesis" start="39">)</span><span class="parenthesis" start="40">)</span><span class="parenthesis" start="41">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w2576"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">Direct styling of subtitle in titlepage template is not supported. Customize approapriate attribute set instead.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx2582" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2586" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2590" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w2592"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">self::</span><span class="qname" start="7" select="quick">db:titleabbrev</span><span class="whitespace" start="21"> </span><span class="op" start="22">and</span><span class="whitespace" start="25"> </span><span class="variable" start="26" select="quick">$content</span><span class="whitespace" start="34"> </span><span class="op" start="35">and</span><span class="whitespace" start="38"> </span><span class="parenthesis" start="39" pair-end="72" select="quick">(</span><span class="variable" start="40" select="quick">$side</span><span class="whitespace" start="45"> </span><span class="op" start="46">eq</span><span class="whitespace" start="48"> </span><span class="op">'</span><span class="literal" start="49">recto</span><span class="op">'</span><span class="whitespace" start="56"> </span><span class="op" start="57">or</span><span class="whitespace" start="59"> </span><span class="type" start="60">empty</span><span class="parenthesis">(</span><span class="variable" start="66" select="quick">$side</span><span class="parenthesis" start="71">)</span><span class="parenthesis" start="72">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2626"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:titleabbrev-markup</span><span class="z">"</span><span id="wx2640" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2642"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="41" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><a href="xslt/base/common/titlepages.xsl.html#f?{http://docbook.org/xslt/ns/extension}select-style-attributes" class="solar"><span class="function" start="11" pair-end="39" select="quick">f:select-style-attributes</span></a><span class="parenthesis">(</span><span class="axis" start="37">@</span><span class="qname" start="38" select="quick">*</span><span class="parenthesis" start="39">)</span><span class="parenthesis" start="40">)</span><span class="parenthesis" start="41">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w2662"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">Direct styling of titleabbrev in titlepage template is not supported. Customize approapriate attribute set instead.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx2668" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2672" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2676" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w2678"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2688"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w2692"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$side</span><span class="whitespace" start="6"> </span><span class="op" start="7">eq</span><span class="whitespace" start="9"> </span><span class="op">'</span><span class="literal" start="10">recto</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w2708"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:titlepage-recto-mode</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w2724"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">attributes</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/titlepages.xsl.html#f?{http://docbook.org/xslt/ns/extension}select-style-attributes" class="solar"><span class="function" start="1" pair-end="29" select="quick">f:select-style-attributes</span></a><span class="parenthesis">(</span><span class="axis" start="27">@</span><span class="qname" start="28" select="quick">*</span><span class="parenthesis" start="29">)</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx2748" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx2752" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2756" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w2758"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$side</span><span class="whitespace" start="6"> </span><span class="op" start="7">eq</span><span class="whitespace" start="9"> </span><span class="op">'</span><span class="literal" start="10">verso</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w2774"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:titlepage-verso-mode</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w2790"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">attributes</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/titlepages.xsl.html#f?{http://docbook.org/xslt/ns/extension}select-style-attributes" class="solar"><span class="function" start="1" pair-end="29" select="quick">f:select-style-attributes</span></a><span class="parenthesis">(</span><span class="axis" start="27">@</span><span class="qname" start="28" select="quick">*</span><span class="parenthesis" start="29">)</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx2814" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx2818" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2822" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w2824"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w2828"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:titlepage-mode</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w2844"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">attributes</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/titlepages.xsl.html#f?{http://docbook.org/xslt/ns/extension}select-style-attributes" class="solar"><span class="function" start="1" pair-end="29" select="quick">f:select-style-attributes</span></a><span class="parenthesis">(</span><span class="axis" start="27">@</span><span class="qname" start="28" select="quick">*</span><span class="parenthesis" start="29">)</span><span class="z">"</span><span id="wx2862" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx2866" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2870" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2874" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2878" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2880"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="z">&lt;!--</span><span class="cm"> nop </span><span class="z">--&gt;</span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2890" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2894" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2898" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2900"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:titlepage-templates</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2916"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx2930" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2932"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?info">info</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx2946" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2948"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?side">side</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx2962" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2964"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?render">render</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:boolean*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2980"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2984"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="19" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="5">@</span><span class="qname" start="6" select="quick">t:conditional</span><span class="parenthesis" start="19">)</span><span class="whitespace" start="20"> </span><span class="op" start="21">or</span><span class="whitespace" start="23"> </span><span class="axis" start="24">@</span><span class="qname" start="25" select="quick">t:conditional</span><span class="whitespace" start="38"> </span><span class="op" start="39">=</span><span class="whitespace" start="40"> </span><span class="numeric" start="41">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w3007"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-true" class="solar"><span class="function" start="1" pair-end="6" select="quick">true</span></a><span class="parenthesis">(</span><span class="parenthesis" start="6">)</span><span class="z">"</span><span id="wx3017" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3021" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3023"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w3027"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="step" start="2">//</span><span class="qname" start="4" select="quick">db:*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w3039"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?this">this</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx3053" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w3055"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$info</span><span class="filter" start="6" pair-end="31" select="quick">[</span><a href="xslt/base/common/titlepages.xsl.html#f?{http://docbook.org/xslt/ns/extension}node-matches" class="solar"><span class="function" start="7" pair-end="30" select="quick">f:node-matches</span></a><span class="parenthesis">(</span><span class="variable" start="22" select="quick">$this</span><span class="op" start="27">,</span><span class="whitespace" start="28"> </span><span class="context" start="29">.</span><span class="parenthesis" start="30">)</span><span class="filter" start="31">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w3074"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-true" class="solar"><span class="function" start="1" pair-end="6" select="quick">true</span></a><span class="parenthesis">(</span><span class="parenthesis" start="6">)</span><span class="z">"</span><span id="wx3084" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3088" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx3092" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx3096" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3100" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx3104" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w3106"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="19" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$render</span><span class="parenthesis" start="18">)</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3122"><span class="es">&lt;</span><span class="enxsl">xsl:element</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">namespace</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-namespace-uri" class="solar"><span class="function" start="1" pair-end="16" select="quick">namespace-uri</span></a><span class="parenthesis">(</span><span class="context" start="15">.</span><span class="parenthesis" start="16">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3148"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w3159"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w3163"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-namespace-uri" class="solar"><span class="function" start="1" pair-end="16" select="quick">namespace-uri</span></a><span class="parenthesis">(</span><span class="context" start="15">.</span><span class="parenthesis" start="16">)</span><span class="whitespace" start="17">
                </span><span class="qname" start="18" select="quick">	</span><span class="qname" start="19" select="quick">	</span><span class="qname" start="20" select="quick">	</span><span class="whitespace" start="21">  </span><span class="op" start="23">=</span><span class="whitespace" start="24"> </span><span class="op">'</span><span class="literal" start="25">http://docbook.org/xslt/ns/template</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="z">&lt;!--</span><span class="cm"> discard </span><span class="z">--&gt;</span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3192" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w3194"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="15" select="quick">contains</span></a><span class="parenthesis">(</span><span class="context" start="10">.</span><span class="op" start="11">,</span><span class="op">'</span><span class="literal" start="12">{</span><span class="op">'</span><span class="parenthesis" start="15">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="z">&lt;!--</span><span class="cm"> there's no 'eval' in XSLT, so do this the hard way </span><span class="z">--&gt;</span><span class="txt">
	    </span><span class="ww" id="w3215"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="7" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">.</span><span class="parenthesis" start="7">)</span><span class="op">}</span><span class="z">"</span><span class="z">
               			   </span><span class="atn">namespace</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-namespace-uri" class="solar"><span class="function" start="1" pair-end="16" select="quick">namespace-uri</span></a><span class="parenthesis">(</span><span class="context" start="15">.</span><span class="parenthesis" start="16">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	      </span><span class="ww" id="w3241"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}fake-eval-avt" class="solar"><span class="function" start="1" pair-end="18" select="quick">f:fake-eval-avt</span></a><span class="parenthesis">(</span><span class="context" start="17">.</span><span class="parenthesis" start="18">)</span><span class="z">"</span><span id="wx3252" class="sc">/&gt;</span></span><span class="txt">
	    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx3256" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3260" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w3262"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w3266"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span id="wx3268" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx3272" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3276" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx3280" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3282"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:titlepage-templates</span><span class="z">"</span><span id="wx3290" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:element</span><span id="wx3294" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3298" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3302" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3304"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="node" start="1" pair-end="24" select="quick">processing-instruction</span><span class="parenthesis">(</span><span class="parenthesis" start="24">)</span><span class="op" start="25">|</span><span class="node" start="26" pair-end="34" select="quick">comment</span><span class="parenthesis">(</span><span class="parenthesis" start="34">)</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:titlepage-templates</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3326"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span id="wx3328" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3332" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3334"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="node" start="1" pair-end="6" select="quick">text</span><span class="parenthesis">(</span><span class="parenthesis" start="6">)</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:titlepage-templates</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3352"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="21" select="quick">fn:normalize-space</span><span class="parenthesis">(</span><span class="context" start="20">.</span><span class="parenthesis" start="21">)</span><span class="whitespace" start="22"> </span><span class="op" start="23">!=</span><span class="whitespace" start="25"> </span><span class="op">'</span><span class="literal" start="26"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3371"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span id="wx3373" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3377" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3381" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3383"><span class="es">&lt;</span><span class="en">doc:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:node-matches</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3399"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Tests if an element from the title page content matches an element
from the document.</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx3405" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3407"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3411"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">An element from the document matches an element from the title page
content if it has the same (qualified) name and if all the attributes
specified in the title page content are equal to the attributes on the
document element.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3417" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3419"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">See also: </span><span class="ww" id="w3423"><span class="es">&lt;</span><span class="en">function</span><span class="scx">&gt;</span><span class="txt">f:user-node-matches</span><span class="ez">&lt;/</span><span class="cl">function</span><span id="wx3429" class="ec">&gt;</span></span><span class="txt">.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3433" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx3437" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3439"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3443"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3447"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3451"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">template-node</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3457" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3459"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3463"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The node from the title page content.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3469" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3473" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3477" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3479"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3483"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">document-node</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3489" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3491"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3495"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The node from the document.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3501" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3505" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3509" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx3513" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx3517" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3519"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3523"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">True if the nodes match.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3529" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx3533" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:function</span><span id="wx3537" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3539"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension}node-matches">f:node-matches</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:boolean</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3555"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?template-node">template-node</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span id="wx3569" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3571"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?document-node">document-node</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span id="wx3585" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w3587"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3591"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="28" select="quick">fn:node-name</span><span class="parenthesis">(</span><span class="variable" start="14" select="quick">$template-node</span><span class="parenthesis" start="28">)</span><span class="whitespace" start="29"> </span><span class="op" start="30">=</span><span class="whitespace" start="31"> </span><span class="function" start="32" pair-end="59" select="quick">fn:node-name</span><span class="parenthesis">(</span><span class="variable" start="45" select="quick">$document-node</span><span class="parenthesis" start="59">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3611"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?attrMatch">attrMatch</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w3621"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$template-node</span><span class="step" start="15">/</span><span class="axis" start="16">@</span><span class="qname" start="17" select="quick">*</span><span class="filter" start="18" pair-end="40" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-namespace-uri" class="solar"><span class="function" start="19" pair-end="34" select="quick">namespace-uri</span></a><span class="parenthesis">(</span><span class="context" start="33">.</span><span class="parenthesis" start="34">)</span><span class="whitespace" start="35"> </span><span class="op" start="36">=</span><span class="whitespace" start="37"> </span><span class="op">'</span><span class="literal" start="38"></span><span class="op">'</span><span class="filter" start="40">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w3646"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?aname">aname</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="z">"</span><span id="wx3663" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w3665"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?attr">attr</span><span class="z">"</span><span class="z">
              			</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$document-node</span><span class="step" start="15">/</span><span class="axis" start="16">@</span><span class="qname" start="17" select="quick">*</span><span class="filter" start="18" pair-end="41" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="19" pair-end="31" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="30">.</span><span class="parenthesis" start="31">)</span><span class="whitespace" start="32"> </span><span class="op" start="33">=</span><span class="whitespace" start="34"> </span><span class="variable" start="35" select="quick">$aname</span><span class="filter" start="41">]</span><span class="z">"</span><span id="wx3692" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w3694"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w3698"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$attr</span><span class="whitespace" start="6"> </span><span class="op" start="7">=</span><span class="whitespace" start="8"> </span><span class="context" start="9">.</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">1</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3714" class="ec">&gt;</span></span><span class="txt">
	    </span><span class="ww" id="w3716"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">0</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx3722" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3726" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx3730" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx3734" class="ec">&gt;</span></span><span class="txt">

      </span><span class="ww" id="w3736"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w3740"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="30" select="quick">not</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="5" pair-end="29" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="14" select="quick">$attrMatch</span><span class="op" start="24">,</span><span class="whitespace" start="25"> </span><span class="op">'</span><span class="literal" start="26">0</span><span class="op">'</span><span class="parenthesis" start="29">)</span><span class="parenthesis" start="30">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w3761"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/titlepages.xsl.html#f?{http://docbook.org/xslt/ns/extension}user-node-matches" class="solar"><span class="function" start="1" pair-end="75" select="quick">f:user-node-matches</span></a><span class="parenthesis">(</span><span class="variable" start="21" select="quick">$template-node</span><span class="op" start="35">,</span><span class="whitespace" start="36">
                      </span><span class="qname" start="37" select="quick">	</span><span class="qname" start="38" select="quick">	</span><span class="qname" start="39" select="quick">	</span><span class="qname" start="40" select="quick">	</span><span class="whitespace" start="41">                    </span><span class="variable" start="61" select="quick">$document-node</span><span class="parenthesis" start="75">)</span><span class="z">"</span><span id="wx3780" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3784" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w3786"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3790"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-false" class="solar"><span class="function" start="1" pair-end="7" select="quick">false</span></a><span class="parenthesis">(</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span id="wx3800" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx3804" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3808" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3812" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3814"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3818"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-false" class="solar"><span class="function" start="1" pair-end="7" select="quick">false</span></a><span class="parenthesis">(</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span id="wx3828" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx3832" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3836" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx3840" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3842"><span class="es">&lt;</span><span class="en">doc:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:user-node-matches</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3858"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Tests if an element from the title page content matches an element
from the document.</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx3864" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3866"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3870"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">An element from the document matches an element from the title page
content if it has the same (qualified) name and if all the attributes
specified in the title page content are equal to the attributes on the
document element.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3876" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3878"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">See also: </span><span class="ww" id="w3882"><span class="es">&lt;</span><span class="en">function</span><span class="scx">&gt;</span><span class="txt">f:user-node-matches</span><span class="ez">&lt;/</span><span class="cl">function</span><span id="wx3888" class="ec">&gt;</span></span><span class="txt">.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3892" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3894"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This function is a hook to customize
</span><span class="ww" id="w3898"><span class="es">&lt;</span><span class="en">function</span><span class="scx">&gt;</span><span class="txt">f:node-matches</span><span class="ez">&lt;/</span><span class="cl">function</span><span id="wx3904" class="ec">&gt;</span></span><span class="txt">. 
Customizers can make the node matching algorithm more selective by redefining
</span><span class="ww" id="w3906"><span class="es">&lt;</span><span class="en">function</span><span class="scx">&gt;</span><span class="txt">f:user-node-matches</span><span class="ez">&lt;/</span><span class="cl">function</span><span id="wx3912" class="ec">&gt;</span></span><span class="txt">, which will be called for every
matching element. If </span><span class="ww" id="w3914"><span class="es">&lt;</span><span class="en">function</span><span class="scx">&gt;</span><span class="txt">f:user-node-matches</span><span class="ez">&lt;/</span><span class="cl">function</span><span id="wx3920" class="ec">&gt;</span></span><span class="txt"> returns
</span><span class="ww" id="w3922"><span class="es">&lt;</span><span class="en">literal</span><span class="scx">&gt;</span><span class="txt">false()</span><span class="ez">&lt;/</span><span class="cl">literal</span><span id="wx3928" class="ec">&gt;</span></span><span class="txt">, the elements will be deemed not to match.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3932" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3934"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">Note that </span><span class="ww" id="w3938"><span class="es">&lt;</span><span class="en">function</span><span class="scx">&gt;</span><span class="txt">f:user-node-matches</span><span class="ez">&lt;/</span><span class="cl">function</span><span id="wx3944" class="ec">&gt;</span></span><span class="txt"> can only make
the match more selective. There is no function that can force a non-matching
element to match.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3948" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx3952" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3954"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3958"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3962"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3966"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">template-node</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3972" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3974"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3978"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The node from the title page content.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3984" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3988" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3992" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3994"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3998"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">document-node</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx4004" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w4006"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4010"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The node from the document.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx4016" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx4020" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx4024" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx4028" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx4032" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4034"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4038"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">True if the nodes match.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx4044" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx4048" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:function</span><span id="wx4052" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4054"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension}user-node-matches">f:user-node-matches</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:boolean</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w4070"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?template-node">template-node</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span id="wx4084" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4086"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?document-node">document-node</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span id="wx4100" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4102"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-true" class="solar"><span class="function" start="1" pair-end="6" select="quick">true</span></a><span class="parenthesis">(</span><span class="parenthesis" start="6">)</span><span class="z">"</span><span id="wx4112" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx4116" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4118"><span class="es">&lt;</span><span class="en">doc:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:select-style-attrbutes</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4134"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Return attributes required for styling of element in titlepage tempate.</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx4140" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4142"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4146"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">Only attributes in namespace which is different from template
namespace are returned. Depending on stylesheet result type attributes
from FO or HTML namespace are returned in no namespace.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx4152" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx4156" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4158"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4162"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4166"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w4170"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">attributes</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx4176" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w4178"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4182"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">Attributes for adjusting.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx4188" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx4192" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx4196" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx4200" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx4204" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4206"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4210"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">Adjusted style attributes.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx4216" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx4220" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:function</span><span id="wx4224" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4226"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension}select-style-attributes">f:select-style-attributes</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute()*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w4242"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?attributes">attributes</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute()*</span><span class="z">"</span><span id="wx4256" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w4258"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?style-namespace">style-namespace</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="if" start="1">if</span><span class="whitespace" start="3"> </span><span class="parenthesis" start="4" pair-end="36" select="quick">(</span><a href="xslt/base/html/docbook.xsl.html#v?stylesheet.result.type" class="solar"><span class="variable" start="5" select="quick">$stylesheet.result.type</span></a><span class="whitespace" start="28"> </span><span class="op" start="29">eq</span><span class="whitespace" start="31"> </span><span class="op">'</span><span class="literal" start="32">fo</span><span class="op">'</span><span class="parenthesis" start="36">)</span><span class="whitespace" start="37"> </span><span class="op" start="38">then</span><span class="whitespace" start="42"> </span><span class="op">'</span><span class="literal" start="43">http://www.w3.org/1999/XSL/Format</span><span class="op">'</span><span class="whitespace" start="78"> </span><span class="op" start="79">else</span><span class="whitespace" start="83"> </span><span class="op">'</span><span class="literal" start="84">http://www.w3.org/1999/xhtml</span><span class="op">'</span><span class="z">"</span><span id="wx4294" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w4296"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$attributes</span><span class="filter" start="12" pair-end="101" select="quick">[</span><span class="parenthesis" start="13" pair-end="36" select="quick">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-namespace-uri" class="solar"><span class="function" start="14" pair-end="29" select="quick">namespace-uri</span></a><span class="parenthesis">(</span><span class="context" start="28">.</span><span class="parenthesis" start="29">)</span><span class="whitespace" start="30"> </span><span class="op" start="31">ne</span><span class="whitespace" start="33"> </span><span class="op">'</span><span class="literal" start="34"></span><span class="op">'</span><span class="parenthesis" start="36">)</span><span class="whitespace" start="37"> </span><span class="op" start="38">and</span><span class="whitespace" start="41"> </span><span class="parenthesis" start="42" pair-end="100" select="quick">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-namespace-uri" class="solar"><span class="function" start="43" pair-end="58" select="quick">namespace-uri</span></a><span class="parenthesis">(</span><span class="context" start="57">.</span><span class="parenthesis" start="58">)</span><span class="whitespace" start="59"> </span><span class="op" start="60">ne</span><span class="whitespace" start="62"> </span><span class="op">'</span><span class="literal" start="63">http://docbook.org/xslt/ns/template</span><span class="op">'</span><span class="parenthesis" start="100">)</span><span class="filter" start="101">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4335"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4339"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-namespace-uri" class="solar"><span class="function" start="1" pair-end="16" select="quick">namespace-uri</span></a><span class="parenthesis">(</span><span class="context" start="15">.</span><span class="parenthesis" start="16">)</span><span class="whitespace" start="17"> </span><span class="op" start="18">!=</span><span class="whitespace" start="20"> </span><span class="variable" start="21" select="quick">$style-namespace</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w4356"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx4364" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx4368" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4370"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w4374"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx4393" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx4397" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx4401" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx4405" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx4409" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="clxsl">xsl:stylesheet</span><span id="wx4413" class="ec">&gt;</span></span><span class="txt">
</span></p></div></body></html>