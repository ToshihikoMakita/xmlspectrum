<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>table.xsl</title><link rel="stylesheet" type="text/css" href="../../../theme.css"></head><body><div><p class="spectrum"><span class="z">&lt;?</span><span class="pi">xml version="1.0" encoding="utf-8"</span><span class="z">?&gt;</span><span class="txt">
</span><span class="ww" id="w5"><span class="es">&lt;</span><span class="enxsl">xsl:stylesheet</span><span class="z"> </span><span class="atn">xmlns:xsl</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/XSL/Transform</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:db</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:html</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:doc</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://nwalsh.com/xsl/documentation/1.0</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:f</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/extension</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:fp</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/extension/private</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:ghost</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook/ephemeral</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:h</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:m</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/mode</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:u</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://nwalsh.com/xsl/unittests#</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:xs</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2001/XMLSchema</span><span class="z">"</span><span class="z">
                		</span><span class="atn">exclude-result-prefixes</span><span class="atneq">=</span><span class="z">"</span><span class="av">db doc f fp ghost h m u xs html</span><span class="z">"</span><span class="z">
                                </span><span class="atn">version</span><span class="atneq">=</span><span class="z">"</span><span class="av">2.0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">

</span><span class="ww" id="w93"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w109"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for normalizing CALS tables</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx115" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w117"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w121"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to normalize CALS tables. A table has a rectangular
structure with a certain number of rows and columns. In the simplest case,
each row has the same number of entries (equal to the number of columns
in the table). Two complications arise: first, cells can span columns or
rows, second, a cell can identify the column in which it appears, potentially
“skipping” earlier columns (cells cannot appear out of order, so there's
no possibility of that column being “back filled” by a later cell that
explicitly identifies the skipped column).</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx127" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w129"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">Another complication arises in the way default values for cell
properties like alignment and row or column separators are calculated.
See </span><span class="ww" id="w133"><span class="es">&lt;</span><span class="en">function</span><span class="z"> </span><span class="atn">role</span><span class="atneq">=</span><span class="z">"</span><span class="av">named-template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">inherit-table-attributes</span><span class="ez">&lt;/</span><span class="cl">function</span><span id="wx145" class="ec">&gt;</span></span><span class="txt">.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx149" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w151"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">These complications make processing tables quite complicated. The
result of processing a table in the </span><span class="ww" id="w155"><span class="es">&lt;</span><span class="en">literal</span><span class="scx">&gt;</span><span class="txt">m:cals-phase-1</span><span class="ez">&lt;/</span><span class="cl">literal</span><span id="wx161" class="ec">&gt;</span></span><span class="txt"> mode
is a normalized table. In the normalized table, all of rows have one
child element for each column and all of the attributes associated with
an entry appear literally on the entry.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx165" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w167"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">In the case where a cell spans across columns or rows, the normalized
table will have a </span><span class="ww" id="w171"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">ghost:overlapped</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx177" class="ec">&gt;</span></span><span class="txt"> element in the phantom cells.
In the case where a cell has skipped some columns, those columns will have
a </span><span class="ww" id="w179"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">ghost:empty</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx185" class="ec">&gt;</span></span><span class="txt"> element.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx189" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w191"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">Processing a normalized table is a simple matter of processing
each row and cell.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx197" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx201" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx205" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w207"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:tgroup</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w223"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w227"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx236" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w238"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">ghost:phase</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">1</span><span class="z">"</span><span id="wx252" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w254"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span id="wx262" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx266" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx270" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w272"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:thead</span><span class="op" start="9">|</span><span class="qname" start="10" select="quick">db:tbody</span><span class="op" start="18">|</span><span class="qname" start="19" select="quick">db:tfoot</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w292"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?overhang">overhang</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="higher" start="1">for</span><span class="whitespace" start="4"> </span><span id="rng-$col" class="variable" start="5" select="quick">$col</span><span class="whitespace" start="9"> </span><span class="op" start="10">in</span><span class="whitespace" start="12"> </span><span class="parenthesis" start="13" pair-end="39" select="quick">(</span><span class="numeric" start="14">1</span><span class="whitespace" start="15"> </span><span class="op" start="16">to</span><span class="whitespace" start="18"> </span><span class="function" start="19" pair-end="38" select="quick">xs:integer</span><span class="parenthesis">(</span><span class="context" start="30">..</span><span class="step" start="32">/</span><span class="axis" start="33">@</span><span class="qname" start="34" select="quick">cols</span><span class="parenthesis" start="38">)</span><span class="parenthesis" start="39">)</span><span class="whitespace" start="40">
                      </span><span class="qname" start="41" select="quick">	</span><span class="qname" start="42" select="quick">	</span><span class="qname" start="43" select="quick">	</span><span class="op" start="44">return</span><span class="whitespace" start="50"> </span><span class="numeric" start="51">0</span><span class="z">"</span><span id="wx331" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w333"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w337"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx346" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w348"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:row</span><span class="filter" start="7" pair-end="9" select="quick">[</span><span class="numeric" start="8">1</span><span class="filter" start="9">]</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w367"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">overhang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$overhang</span><span class="z">"</span><span id="wx381" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx385" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx389" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx393" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w395"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:row</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w411"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?overhang">overhang</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:integer+</span><span class="z">"</span><span id="wx425" class="sc">/&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm">
  &lt;xsl:message&gt;
    &lt;xsl:text&gt;ROW &lt;/xsl:text&gt;
    &lt;xsl:value-of select="count(preceding-sibling::db:row)+1"/&gt;
    &lt;xsl:text&gt; &lt;/xsl:text&gt;
    &lt;xsl:value-of select="$overhang" separator=","/&gt;
  &lt;/xsl:message&gt;
</span><span class="z">--&gt;</span><span class="txt">

  </span><span class="ww" id="w431"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?row">row</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w441"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w445"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx454" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w456"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="22" select="quick">(</span><span class="qname" start="2" select="quick">db:entry</span><span class="op" start="10">|</span><span class="qname" start="11" select="quick">db:entrytbl</span><span class="parenthesis" start="22">)</span><span class="filter" start="23" pair-end="25" select="quick">[</span><span class="numeric" start="24">1</span><span class="filter" start="25">]</span><span class="z">"</span><span class="z">
                     			   </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w479"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">overhang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$overhang</span><span class="z">"</span><span id="wx493" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w495"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">prevpos</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">0</span><span class="z">"</span><span id="wx509" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx513" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx517" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx521" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w523"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$row</span><span class="step" start="5">/</span><span class="qname" start="6" select="quick">db:row</span><span class="z">"</span><span id="wx533" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w535"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?decremented-overhang">decremented-overhang</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="higher" start="1">for</span><span class="whitespace" start="4"> </span><span id="rng-$col" class="variable" start="5" select="quick">$col</span><span class="whitespace" start="9"> </span><span class="op" start="10">in</span><span class="whitespace" start="12"> </span><span class="parenthesis" start="13" pair-end="35" select="quick">(</span><span class="numeric" start="14">1</span><span class="whitespace" start="15"> </span><span class="op" start="16">to</span><span class="whitespace" start="18"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-count" class="solar"><span class="function" start="19" pair-end="34" select="quick">count</span></a><span class="parenthesis">(</span><span class="variable" start="25" select="quick">$overhang</span><span class="parenthesis" start="34">)</span><span class="parenthesis" start="35">)</span><span class="whitespace" start="36">
                      </span><span class="qname" start="37" select="quick">	</span><span class="qname" start="38" select="quick">	</span><span class="qname" start="39" select="quick">	</span><span class="op" start="40">return</span><span class="whitespace" start="46"> </span><span class="function" start="47" pair-end="87" select="quick">xs:integer</span><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-max" class="solar"><span class="function" start="58" pair-end="86" select="quick">max</span></a><span class="parenthesis">(</span><span class="parenthesis" start="62" pair-end="85" select="quick">(</span><span class="variable" start="63" select="quick">$overhang</span><span class="filter" start="72" pair-end="77" select="quick">[</span><span class="variable" start="73" select="quick">$col</span><span class="filter" start="77">]</span><span class="whitespace" start="78"> </span><span class="op" start="79">-</span><span class="whitespace" start="80"> </span><span class="numeric" start="81">1</span><span class="op" start="82">,</span><span class="whitespace" start="83"> </span><span class="numeric" start="84">0</span><span class="parenthesis" start="85">)</span><span class="parenthesis" start="86">)</span><span class="parenthesis" start="87">)</span><span class="z">"</span><span id="wx589" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w591"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?next-overhang">next-overhang</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="higher" start="1">for</span><span class="whitespace" start="4"> </span><span id="rng-$col" class="variable" start="5" select="quick">$col</span><span class="whitespace" start="9"> </span><span class="op" start="10">in</span><span class="whitespace" start="12"> </span><span class="parenthesis" start="13" pair-end="35" select="quick">(</span><span class="numeric" start="14">1</span><span class="whitespace" start="15"> </span><span class="op" start="16">to</span><span class="whitespace" start="18"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-count" class="solar"><span class="function" start="19" pair-end="34" select="quick">count</span></a><span class="parenthesis">(</span><span class="variable" start="25" select="quick">$overhang</span><span class="parenthesis" start="34">)</span><span class="parenthesis" start="35">)</span><span class="whitespace" start="36">
                      </span><span class="qname" start="37" select="quick">	</span><span class="qname" start="38" select="quick">	</span><span class="qname" start="39" select="quick">	</span><span class="op" start="40">return</span><span class="whitespace" start="46">
                      </span><span class="qname" start="47" select="quick">	</span><span class="qname" start="48" select="quick">	</span><span class="qname" start="49" select="quick">	</span><span class="whitespace" start="50">  </span><span class="function" start="52" pair-end="145" select="quick">xs:integer</span><span class="parenthesis">(</span><span class="variable" start="63" select="quick">$decremented-overhang</span><span class="filter" start="84" pair-end="89" select="quick">[</span><span class="variable" start="85" select="quick">$col</span><span class="filter" start="89">]</span><span class="whitespace" start="90">
                      </span><span class="qname" start="91" select="quick">	</span><span class="qname" start="92" select="quick">	</span><span class="qname" start="93" select="quick">	</span><span class="whitespace" start="94">              </span><span class="op" start="108">+</span><span class="whitespace" start="109"> </span><span class="variable" start="110" select="quick">$row</span><span class="step" start="114">/</span><span class="qname" start="115" select="quick">db:row</span><span class="step" start="121">/</span><span class="qname" start="122" select="quick">*</span><span class="filter" start="123" pair-end="128" select="quick">[</span><span class="variable" start="124" select="quick">$col</span><span class="filter" start="128">]</span><span class="step" start="129">/</span><span class="axis" start="130">@</span><span class="qname" start="131" select="quick">ghost:morerows</span><span class="parenthesis" start="145">)</span><span class="z">"</span><span id="wx655" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w657"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">following-sibling::</span><span class="qname" start="20" select="quick">db:row</span><span class="filter" start="26" pair-end="28" select="quick">[</span><span class="numeric" start="27">1</span><span class="filter" start="28">]</span><span class="z">"</span><span class="z">
                     		       </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w677"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">overhang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$next-overhang</span><span class="z">"</span><span id="wx691" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx695" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx699" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w701"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:entry</span><span class="op" start="9">|</span><span class="qname" start="10" select="quick">db:entrytbl</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w719"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?overhang">overhang</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:integer+</span><span class="z">"</span><span id="wx733" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w735"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?prevpos">prevpos</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:integer</span><span class="z">"</span><span id="wx749" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w751"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?entry">entry</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx765" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w767"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?row">row</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$entry</span><span class="step" start="7">/</span><span class="axis" start="8">parent::</span><span class="qname" start="16" select="quick">db:row</span><span class="z">"</span><span id="wx784" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w786"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?container">container</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="86" select="quick">(</span><span class="axis" start="2">ancestor::</span><span class="qname" start="12" select="quick">db:tgroup</span><span class="whitespace" start="21">
                                                                                 </span><span class="op" start="64">|</span><span class="axis" start="65">ancestor::</span><span class="qname" start="75" select="quick">db:entrytbl</span><span class="parenthesis" start="86">)</span><span class="filter" start="87" pair-end="94" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-last" class="solar"><span class="function" start="88" pair-end="93" select="quick">last</span></a><span class="parenthesis">(</span><span class="parenthesis" start="93">)</span><span class="filter" start="94">]</span><span class="z">"</span><span id="wx812" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w814"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?nextpos">nextpos</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}skip-overhang" class="solar"><span class="function" start="1" pair-end="38" select="quick">f:skip-overhang</span></a><span class="parenthesis">(</span><span class="variable" start="17" select="quick">$overhang</span><span class="op" start="26">,</span><span class="whitespace" start="27"> </span><span class="variable" start="28" select="quick">$prevpos</span><span class="op" start="36">+</span><span class="numeric" start="37">1</span><span class="parenthesis" start="38">)</span><span class="z">"</span><span class="z">
              		</span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:integer</span><span class="z">"</span><span id="wx842" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w844"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?pos">pos</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:integer</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w860"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w864"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">namest</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w875"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?name">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">namest</span><span class="z">"</span><span id="wx890" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w892"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?colspec">colspec</span><span class="z">"</span><span class="z">
              		      </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$container</span><span class="step" start="11">/</span><span class="qname" start="12" select="quick">db:colspec</span><span class="filter" start="22" pair-end="37" select="quick">[</span><span class="axis" start="23">@</span><span class="qname" start="24" select="quick">colname</span><span class="op" start="31">=</span><span class="variable" start="32" select="quick">$name</span><span class="filter" start="37">]</span><span class="z">"</span><span id="wx914" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w916"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}colspec-colnum" class="solar"><span class="function" start="1" pair-end="26" select="quick">f:colspec-colnum</span></a><span class="parenthesis">(</span><span class="variable" start="18" select="quick">$colspec</span><span class="parenthesis" start="26">)</span><span class="z">"</span><span id="wx927" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx931" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w933"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">colname</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w944"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?name">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">colname</span><span class="z">"</span><span id="wx959" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w961"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?colspec">colspec</span><span class="z">"</span><span class="z">
              		      </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$container</span><span class="step" start="11">/</span><span class="qname" start="12" select="quick">db:colspec</span><span class="filter" start="22" pair-end="37" select="quick">[</span><span class="axis" start="23">@</span><span class="qname" start="24" select="quick">colname</span><span class="op" start="31">=</span><span class="variable" start="32" select="quick">$name</span><span class="filter" start="37">]</span><span class="z">"</span><span id="wx983" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w985"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}colspec-colnum" class="solar"><span class="function" start="1" pair-end="26" select="quick">f:colspec-colnum</span></a><span class="parenthesis">(</span><span class="variable" start="18" select="quick">$colspec</span><span class="parenthesis" start="26">)</span><span class="z">"</span><span id="wx996" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1000" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1002"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">spanname</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1013"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?name">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">spanname</span><span class="z">"</span><span id="wx1028" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w1030"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?spanspec">spanspec</span><span class="z">"</span><span class="z">
              		      </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$container</span><span class="step" start="11">/</span><span class="qname" start="12" select="quick">db:spanspec</span><span class="filter" start="23" pair-end="39" select="quick">[</span><span class="axis" start="24">@</span><span class="qname" start="25" select="quick">spanname</span><span class="op" start="33">=</span><span class="variable" start="34" select="quick">$name</span><span class="filter" start="39">]</span><span class="z">"</span><span id="wx1052" class="sc">/&gt;</span></span><span class="txt">

	</span><span class="ww" id="w1054"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}spanspec-colnum-start" class="solar"><span class="function" start="1" pair-end="34" select="quick">f:spanspec-colnum-start</span></a><span class="parenthesis">(</span><span class="variable" start="25" select="quick">$spanspec</span><span class="parenthesis" start="34">)</span><span class="z">"</span><span id="wx1065" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1069" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1071"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1075"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$nextpos</span><span class="z">"</span><span id="wx1083" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1087" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1091" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx1095" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1097"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?width">width</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:integer</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1113"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1117"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">nameend</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1128"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?name">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">nameend</span><span class="z">"</span><span id="wx1143" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w1145"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?colspec">colspec</span><span class="z">"</span><span class="z">
              		      </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$container</span><span class="step" start="11">/</span><span class="qname" start="12" select="quick">db:colspec</span><span class="filter" start="22" pair-end="37" select="quick">[</span><span class="axis" start="23">@</span><span class="qname" start="24" select="quick">colname</span><span class="op" start="31">=</span><span class="variable" start="32" select="quick">$name</span><span class="filter" start="37">]</span><span class="z">"</span><span id="wx1167" class="sc">/&gt;</span></span><span class="txt">

	</span><span class="ww" id="w1169"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}colspec-colnum" class="solar"><span class="function" start="1" pair-end="26" select="quick">f:colspec-colnum</span></a><span class="parenthesis">(</span><span class="variable" start="18" select="quick">$colspec</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27"> </span><span class="op" start="28">-</span><span class="whitespace" start="29"> </span><span class="variable" start="30" select="quick">$pos</span><span class="whitespace" start="34"> </span><span class="op" start="35">+</span><span class="whitespace" start="36"> </span><span class="numeric" start="37">1</span><span class="z">"</span><span id="wx1188" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1192" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1194"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">spanname</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1205"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?name">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">spanname</span><span class="z">"</span><span id="wx1220" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w1222"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?spanspec">spanspec</span><span class="z">"</span><span class="z">
              		      </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$container</span><span class="step" start="11">/</span><span class="qname" start="12" select="quick">db:spanspec</span><span class="filter" start="23" pair-end="39" select="quick">[</span><span class="axis" start="24">@</span><span class="qname" start="25" select="quick">spanname</span><span class="op" start="33">=</span><span class="variable" start="34" select="quick">$name</span><span class="filter" start="39">]</span><span class="z">"</span><span id="wx1244" class="sc">/&gt;</span></span><span class="txt">

	</span><span class="ww" id="w1246"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}spanspec-colnum-end" class="solar"><span class="function" start="1" pair-end="32" select="quick">f:spanspec-colnum-end</span></a><span class="parenthesis">(</span><span class="variable" start="23" select="quick">$spanspec</span><span class="parenthesis" start="32">)</span><span class="whitespace" start="33"> </span><span class="op" start="34">-</span><span class="whitespace" start="35"> </span><span class="variable" start="36" select="quick">$pos</span><span class="whitespace" start="40"> </span><span class="op" start="41">+</span><span class="whitespace" start="42"> </span><span class="numeric" start="43">1</span><span class="z">"</span><span id="wx1265" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1269" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1271"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">1</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1277" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1281" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx1285" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm">
  &lt;xsl:message&gt;
    &lt;xsl:text&gt;  ENT &lt;/xsl:text&gt;
    &lt;xsl:value-of select="count(preceding-sibling::db:entry)+1"/&gt;
    &lt;xsl:text&gt; &lt;/xsl:text&gt;
    &lt;xsl:value-of select="$pos"/&gt;
    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
    &lt;xsl:value-of select="$width"/&gt;
  &lt;/xsl:message&gt;
</span><span class="z">--&gt;</span><span class="txt">

  </span><span class="ww" id="w1291"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="higher" start="1">for</span><span class="whitespace" start="4"> </span><span id="rng-$col" class="variable" start="5" select="quick">$col</span><span class="whitespace" start="9"> </span><span class="op" start="10">in</span><span class="whitespace" start="12"> </span><span class="parenthesis" start="13" pair-end="36" select="quick">(</span><span class="variable" start="14" select="quick">$prevpos</span><span class="op" start="22">+</span><span class="numeric" start="23">1</span><span class="whitespace" start="24"> </span><span class="op" start="25">to</span><span class="whitespace" start="27"> </span><span class="variable" start="28" select="quick">$pos</span><span class="whitespace" start="32"> </span><span class="op" start="33">-</span><span class="whitespace" start="34"> </span><span class="numeric" start="35">1</span><span class="parenthesis" start="36">)</span><span class="whitespace" start="37"> </span><span class="op" start="38">return</span><span class="whitespace" start="44"> </span><span class="variable" start="45" select="quick">$col</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1323"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?col">col</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1337" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1339"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1343"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$overhang</span><span class="filter" start="10" pair-end="15" select="quick">[</span><span class="variable" start="11" select="quick">$col</span><span class="filter" start="15">]</span><span class="whitespace" start="16"> </span><span class="qname" start="17" select="quick">&amp;</span><span class="op" start="18">gt</span><span class="qname" start="20" select="quick">;</span><span class="whitespace" start="21"> </span><span class="numeric" start="22">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1362"><span class="es">&lt;</span><span class="en">ghost:overlapped</span><span class="z"> </span><span class="atn">ghost:colnum</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$col</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">ghost:morerows</span><span class="atneq">=</span><span class="z">"</span><span class="av">0</span><span class="z">"</span><span id="wx1378" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1382" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1384"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1388"><span class="es">&lt;</span><span class="en">ghost:empty</span><span class="z"> </span><span class="atn">ghost:colnum</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$col</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">ghost:morerows</span><span class="atneq">=</span><span class="z">"</span><span class="av">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w1406"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#t?inherit-table-attributes" class="solar"><span class="tcall">inherit-table-attributes</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w1416"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">colnum</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1430" class="sc">/&gt;</span></span><span class="txt">
	    </span><span class="ww" id="w1432"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">row</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$row</span><span class="z">"</span><span id="wx1446" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1450" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="cl">ghost:empty</span><span id="wx1454" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1458" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1462" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx1466" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1468"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1472"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx1481" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1483"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">ghost:id</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-generate-id" class="solar"><span class="function" start="1" pair-end="14" select="quick">generate-id</span></a><span class="parenthesis">(</span><span class="context" start="13">.</span><span class="parenthesis" start="14">)</span><span class="z">"</span><span id="wx1500" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1502"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">ghost:colnum</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pos</span><span class="z">"</span><span id="wx1516" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1518"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">ghost:width</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$width</span><span class="z">"</span><span id="wx1532" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1534"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">ghost:morerows</span><span class="z">"</span><span class="z">
               		   </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="if" start="1">if</span><span class="whitespace" start="3"> </span><span class="parenthesis" start="4" pair-end="14" select="quick">(</span><span class="axis" start="5">@</span><span class="qname" start="6" select="quick">morerows</span><span class="parenthesis" start="14">)</span><span class="whitespace" start="15">
                       </span><span class="qname" start="16" select="quick">	</span><span class="qname" start="17" select="quick">	</span><span class="qname" start="18" select="quick">	</span><span class="whitespace" start="19">   </span><span class="op" start="22">then</span><span class="whitespace" start="26"> </span><span class="function" start="27" pair-end="47" select="quick">xs:integer</span><span class="parenthesis">(</span><span class="axis" start="38">@</span><span class="qname" start="39" select="quick">morerows</span><span class="parenthesis" start="47">)</span><span class="whitespace" start="48">
                       </span><span class="qname" start="49" select="quick">	</span><span class="qname" start="50" select="quick">	</span><span class="qname" start="51" select="quick">	</span><span class="whitespace" start="52">   </span><span class="op" start="55">else</span><span class="whitespace" start="59"> </span><span class="numeric" start="60">0</span><span class="z">"</span><span id="wx1573" class="sc">/&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1575"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#t?inherit-table-attributes" class="solar"><span class="tcall">inherit-table-attributes</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1585"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">colnum</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pos</span><span class="z">"</span><span id="wx1599" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1603" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1605"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span id="wx1613" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx1617" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1619"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="higher" start="1">for</span><span class="whitespace" start="4"> </span><span id="rng-$col" class="variable" start="5" select="quick">$col</span><span class="whitespace" start="9"> </span><span class="op" start="10">in</span><span class="whitespace" start="12"> </span><span class="parenthesis" start="13" pair-end="43" select="quick">(</span><span class="variable" start="14" select="quick">$pos</span><span class="whitespace" start="18"> </span><span class="op" start="19">+</span><span class="whitespace" start="20"> </span><span class="numeric" start="21">1</span><span class="whitespace" start="22"> </span><span class="op" start="23">to</span><span class="whitespace" start="25"> </span><span class="variable" start="26" select="quick">$pos</span><span class="whitespace" start="30"> </span><span class="op" start="31">+</span><span class="whitespace" start="32"> </span><span class="variable" start="33" select="quick">$width</span><span class="whitespace" start="39"> </span><span class="op" start="40">-</span><span class="whitespace" start="41"> </span><span class="numeric" start="42">1</span><span class="parenthesis" start="43">)</span><span class="whitespace" start="44"> </span><span class="op" start="45">return</span><span class="whitespace" start="51"> </span><span class="variable" start="52" select="quick">$col</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1657"><span class="es">&lt;</span><span class="en">ghost:overlapped</span><span class="z"> </span><span class="atn">ghost:colnum</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="context" start="1">.</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1669"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">ghost:morerows</span><span class="z">"</span><span class="z">
               		     </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="if" start="1">if</span><span class="whitespace" start="3"> </span><span class="parenthesis" start="4" pair-end="21" select="quick">(</span><span class="variable" start="5" select="quick">$entry</span><span class="step" start="11">/</span><span class="axis" start="12">@</span><span class="qname" start="13" select="quick">morerows</span><span class="parenthesis" start="21">)</span><span class="whitespace" start="22">
                       </span><span class="qname" start="23" select="quick">	</span><span class="qname" start="24" select="quick">	</span><span class="qname" start="25" select="quick">	</span><span class="whitespace" start="26">     </span><span class="op" start="31">then</span><span class="whitespace" start="35"> </span><span class="function" start="36" pair-end="63" select="quick">xs:integer</span><span class="parenthesis">(</span><span class="variable" start="47" select="quick">$entry</span><span class="step" start="53">/</span><span class="axis" start="54">@</span><span class="qname" start="55" select="quick">morerows</span><span class="parenthesis" start="63">)</span><span class="whitespace" start="64">
                       </span><span class="qname" start="65" select="quick">	</span><span class="qname" start="66" select="quick">	</span><span class="qname" start="67" select="quick">	</span><span class="whitespace" start="68">     </span><span class="op" start="73">else</span><span class="whitespace" start="77"> </span><span class="numeric" start="78">0</span><span class="z">"</span><span id="wx1712" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">ghost:overlapped</span><span id="wx1716" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx1720" class="ec">&gt;</span></span><span class="txt">

  </span><span class="z">&lt;!--</span><span class="cm">
  &lt;xsl:message&gt;
    &lt;xsl:value-of select="$pos"/&gt;
    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
    &lt;xsl:value-of select="count(following-sibling::*)"/&gt;
    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
    &lt;xsl:value-of select="$container/@cols"/&gt;
  &lt;/xsl:message&gt;
  </span><span class="z">--&gt;</span><span class="txt">

  </span><span class="ww" id="w1726"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="72" select="quick">(</span><span class="axis" start="2">following-sibling::</span><span class="qname" start="21" select="quick">db:entry</span><span class="whitespace" start="29">
                             </span><span class="qname" start="30" select="quick">	</span><span class="qname" start="31" select="quick">	</span><span class="qname" start="32" select="quick">	</span><span class="whitespace" start="33">        </span><span class="op" start="41">|</span><span class="axis" start="42">following-sibling::</span><span class="qname" start="61" select="quick">db:entrytbl</span><span class="parenthesis" start="72">)</span><span class="filter" start="73" pair-end="75" select="quick">[</span><span class="numeric" start="74">1</span><span class="filter" start="75">]</span><span class="z">"</span><span class="z">
                     		       </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1756"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">overhang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$overhang</span><span class="z">"</span><span id="wx1770" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1772"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">prevpos</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pos</span><span class="whitespace" start="5"> </span><span class="op" start="6">+</span><span class="whitespace" start="7"> </span><span class="variable" start="8" select="quick">$width</span><span class="whitespace" start="14"> </span><span class="op" start="15">-</span><span class="whitespace" start="16"> </span><span class="numeric" start="17">1</span><span class="z">"</span><span id="wx1794" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx1798" class="ec">&gt;</span></span><span class="txt">

  </span><span class="z">&lt;!--</span><span class="cm"> pad the row with empties if necessary </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="ww" id="w1804"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="63" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="5">following-sibling::</span><span class="qname" start="24" select="quick">db:entry</span><span class="op" start="32">|</span><span class="axis" start="33">following-sibling::</span><span class="qname" start="52" select="quick">db:entrytbl</span><span class="parenthesis" start="63">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="z">&lt;!--</span><span class="cm">
    &lt;xsl:message&gt;
      &lt;xsl:text&gt;  PAD &lt;/xsl:text&gt;
      &lt;xsl:value-of select="$pos+$width"/&gt;
      &lt;xsl:text&gt;-&lt;/xsl:text&gt;
      &lt;xsl:value-of select="$container/@cols"/&gt;
    &lt;/xsl:message&gt;
</span><span class="z">--&gt;</span><span class="txt">
    </span><span class="ww" id="w1825"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="higher" start="1">for</span><span class="whitespace" start="4"> </span><span class="variable" start="5" select="quick">$col</span><span class="whitespace" start="9">
                      </span><span class="qname" start="10" select="quick">	</span><span class="qname" start="11" select="quick">	</span><span class="qname" start="12" select="quick">	</span><span class="whitespace" start="13">  </span><span class="op" start="15">in</span><span class="whitespace" start="17"> </span><span class="parenthesis" start="18" pair-end="52" select="quick">(</span><span class="variable" start="19" select="quick">$pos</span><span class="whitespace" start="23"> </span><span class="op" start="24">+</span><span class="whitespace" start="25"> </span><span class="variable" start="26" select="quick">$width</span><span class="whitespace" start="32"> </span><span class="op" start="33">to</span><span class="whitespace" start="35"> </span><span class="variable" start="36" select="quick">$container</span><span class="step" start="46">/</span><span class="axis" start="47">@</span><span class="qname" start="48" select="quick">cols</span><span class="parenthesis" start="52">)</span><span class="whitespace" start="53">
                      </span><span class="qname" start="54" select="quick">	</span><span class="qname" start="55" select="quick">	</span><span class="qname" start="56" select="quick">	</span><span class="whitespace" start="57">  </span><span class="op" start="59">return</span><span class="whitespace" start="65"> </span><span class="variable" start="66" select="quick">$col</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1866"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?col">col</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1880" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1882"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1886"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$overhang</span><span class="filter" start="10" pair-end="15" select="quick">[</span><span class="variable" start="11" select="quick">$col</span><span class="filter" start="15">]</span><span class="whitespace" start="16"> </span><span class="op" start="17">=</span><span class="whitespace" start="18"> </span><span class="numeric" start="19">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="z">&lt;!--</span><span class="cm">
          &lt;xsl:message&gt;    empty&lt;/xsl:message&gt;
</span><span class="z">--&gt;</span><span class="txt">
          </span><span class="ww" id="w1907"><span class="es">&lt;</span><span class="en">ghost:empty</span><span class="z"> </span><span class="atn">ghost:colnum</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="context" start="1">.</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">ghost:morerows</span><span class="atneq">=</span><span class="z">"</span><span class="av">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1925"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#t?inherit-table-attributes" class="solar"><span class="tcall">inherit-table-attributes</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w1935"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">colnum</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1949" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1951"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">row</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$row</span><span class="z">"</span><span id="wx1965" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1969" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">ghost:empty</span><span id="wx1973" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1977" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w1979"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
</span><span class="z">&lt;!--</span><span class="cm">
          &lt;xsl:message&gt;    overlapped&lt;/xsl:message&gt;
</span><span class="z">--&gt;</span><span class="txt">
          </span><span class="ww" id="w1987"><span class="es">&lt;</span><span class="en">ghost:overlapped</span><span class="z"> </span><span class="atn">ghost:colnum</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="context" start="1">.</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">ghost:morerows</span><span class="atneq">=</span><span class="z">"</span><span class="av">0</span><span class="z">"</span><span id="wx2003" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2007" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2011" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx2015" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2019" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2023" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2025"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:colspec</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2041"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2045"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">ghost:colnum</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}colspec-colnum" class="solar"><span class="function" start="1" pair-end="19" select="quick">f:colspec-colnum</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span id="wx2062" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2064"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx2073" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx2077" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2081" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2083"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2099"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2103"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx2112" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2114"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span id="wx2122" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx2126" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2130" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2132"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="node" start="1" pair-end="9" select="quick">comment</span><span class="parenthesis">(</span><span class="parenthesis" start="9">)</span><span class="op" start="10">|</span><span class="node" start="11" pair-end="34" select="quick">processing-instruction</span><span class="parenthesis">(</span><span class="parenthesis" start="34">)</span><span class="op" start="35">|</span><span class="node" start="36" pair-end="41" select="quick">text</span><span class="parenthesis">(</span><span class="parenthesis" start="41">)</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2158"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span id="wx2160" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2164" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w2170"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">inherit-table-attributes</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2186"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Calculates attribute values for table cells</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx2192" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2194"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2198"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">In a CALS table, each entry can have a number of properties
(alignment, row and column separators, etc.). If these properties aren't
specified directly on the entry, then their default values are calculated
by a complex series of defaults.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2204" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2206"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">A property can be specified in any of nine locations:</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2212" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2214"><span class="es">&lt;</span><span class="en">orderedlist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2218"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2222"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The </span><span class="ww" id="w2226"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">entry</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2232" class="ec">&gt;</span></span><span class="txt">.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2236" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2240" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2242"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2246"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The </span><span class="ww" id="w2250"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">row</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2256" class="ec">&gt;</span></span><span class="txt">.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2260" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2264" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2266"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2270"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The </span><span class="ww" id="w2274"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">tgroup</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2280" class="ec">&gt;</span></span><span class="txt">.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2284" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2288" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2290"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2294"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The </span><span class="ww" id="w2298"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">table</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2304" class="ec">&gt;</span></span><span class="txt"> or </span><span class="ww" id="w2306"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">informaltable</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2312" class="ec">&gt;</span></span><span class="txt">.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2316" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2320" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2322"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2326"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The </span><span class="ww" id="w2330"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">spanspec</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2336" class="ec">&gt;</span></span><span class="txt"> if this entry has
a </span><span class="ww" id="w2338"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">spanname</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2350" class="ec">&gt;</span></span><span class="txt"> attribute.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2354" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2358" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2360"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2364"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The starting column of the span as identified by the
</span><span class="ww" id="w2368"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">namest</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2380" class="ec">&gt;</span></span><span class="txt"> attribute on the </span><span class="ww" id="w2382"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">spanspec</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2388" class="ec">&gt;</span></span><span class="txt">
(if there is one, see previous.)
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2392" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2396" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2398"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2402"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The starting column of the span identified directly by a
</span><span class="ww" id="w2406"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">namest</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2418" class="ec">&gt;</span></span><span class="txt"> attribute on the </span><span class="ww" id="w2420"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">entry</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2426" class="ec">&gt;</span></span><span class="txt">.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2430" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2434" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2436"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2440"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The </span><span class="ww" id="w2444"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">colspec</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2450" class="ec">&gt;</span></span><span class="txt"> for the column in which it occurs (either
naturally or as a result of a </span><span class="ww" id="w2452"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">colname</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2464" class="ec">&gt;</span></span><span class="txt"> attribute).
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2468" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2472" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2474"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2478"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">Some application default.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2484" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2488" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">orderedlist</span><span id="wx2492" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2494"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template performs those lookup operations and generates an
explicit attribute node for each inheritable property. In this way,
a normalized cell has all of the proper values specified directly.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2500" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx2504" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2506"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2510"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2514"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w2518"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">entry</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx2524" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2526"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2530"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The table cell element, defaults to the current context node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2536" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2540" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx2544" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2546"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="z"> </span><span class="atn">role</span><span class="atneq">=</span><span class="z">"</span><span class="av">required</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w2556"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">colnum</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx2562" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2564"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2568"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The column number in which this entry appears.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2574" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2578" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx2582" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2584"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w2588"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">row</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx2594" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2596"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2600"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The row containing the cell, defaults to the parent of the entry.
This parameter exists independent of the entry because when the entry is
an empty column (for example, at the end of a short row), the entry will
be an integer and won't have a parent.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2606" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2610" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx2614" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx2618" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx2622" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2624"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2628"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">A sequence of attribute nodes, one for each property.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2634" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx2638" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx2642" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2644"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?inherit-table-attributes">inherit-table-attributes</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2654"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?entry">entry</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx2668" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2670"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?colnum">colnum</span><span class="z">"</span><span class="z"> </span><span class="atn">required</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx2684" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2686"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?row">row</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$entry</span><span class="step" start="7">/</span><span class="axis" start="8">parent::</span><span class="qname" start="16" select="quick">db:row</span><span class="z">"</span><span id="wx2703" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="z">&lt;!--</span><span class="cm"> the table attributes come from:
       1. the entry
       2. the row
       3. the tgroup
       4. the table or informaltable
       5. the spanspec (@spanname)
       6. the starting column of the spanspec (spanspec/@namest)
       7. the starting column (@namest)
       8. the colspec for the $colnum
       9. application default
       in that order </span><span class="z">--&gt;</span><span class="txt">

  </span><span class="ww" id="w2709"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?tgroup">tgroup</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$row</span><span class="step" start="5">/</span><span class="axis" start="6">ancestor::</span><span class="qname" start="16" select="quick">db:tgroup</span><span class="filter" start="25" pair-end="27" select="quick">[</span><span class="numeric" start="26">1</span><span class="filter" start="27">]</span><span class="z">"</span><span id="wx2729" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2731"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?table">table</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$tgroup</span><span class="step" start="8">/</span><span class="axis" start="9">parent::</span><span class="qname" start="17" select="quick">*</span><span class="z">"</span><span id="wx2748" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2750"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?spanspec">spanspec</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$tgroup</span><span class="step" start="8">/</span><span class="qname" start="9" select="quick">db:spanspec</span><span class="filter" start="20" pair-end="47" select="quick">[</span><span class="axis" start="21">@</span><span class="qname" start="22" select="quick">spanname</span><span class="op" start="30">=</span><span class="variable" start="31" select="quick">$entry</span><span class="step" start="37">/</span><span class="axis" start="38">@</span><span class="qname" start="39" select="quick">spanname</span><span class="filter" start="47">]</span><span class="z">"</span><span id="wx2775" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2777"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?elements">elements</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2793"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2797"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$entry</span><span class="whitespace" start="7"> </span><span class="type-op" start="8">instance of</span><span class="whitespace" start="19"> </span><span class="node-type" start="20" pair-end="28">element</span><span class="parenthesis">(</span><span class="parenthesis" start="28">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w2813"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="260" select="quick">(</span><span class="variable" start="2" select="quick">$entry</span><span class="op" start="8">,</span><span class="whitespace" start="9">
                      </span><span class="qname" start="10" select="quick">	</span><span class="qname" start="11" select="quick">	</span><span class="qname" start="12" select="quick">	</span><span class="whitespace" start="13">       </span><span class="variable" start="20" select="quick">$row</span><span class="op" start="24">,</span><span class="whitespace" start="25">
                      </span><span class="qname" start="26" select="quick">	</span><span class="qname" start="27" select="quick">	</span><span class="qname" start="28" select="quick">	</span><span class="whitespace" start="29">       </span><span class="variable" start="36" select="quick">$spanspec</span><span class="op" start="45">,</span><span class="whitespace" start="46">
                      </span><span class="qname" start="47" select="quick">	</span><span class="qname" start="48" select="quick">	</span><span class="qname" start="49" select="quick">	</span><span class="whitespace" start="50">       </span><span class="variable" start="57" select="quick">$tgroup</span><span class="step" start="64">/</span><span class="qname" start="65" select="quick">db:colspec</span><span class="filter" start="75" pair-end="102" select="quick">[</span><span class="axis" start="76">@</span><span class="qname" start="77" select="quick">colname</span><span class="op" start="84">=</span><span class="variable" start="85" select="quick">$spanspec</span><span class="step" start="94">/</span><span class="axis" start="95">@</span><span class="qname" start="96" select="quick">namest</span><span class="filter" start="102">]</span><span class="op" start="103">,</span><span class="whitespace" start="104">
                      </span><span class="qname" start="105" select="quick">	</span><span class="qname" start="106" select="quick">	</span><span class="qname" start="107" select="quick">	</span><span class="whitespace" start="108">       </span><span class="variable" start="115" select="quick">$tgroup</span><span class="step" start="122">/</span><span class="qname" start="123" select="quick">db:colspec</span><span class="filter" start="133" pair-end="157" select="quick">[</span><span class="axis" start="134">@</span><span class="qname" start="135" select="quick">colname</span><span class="op" start="142">=</span><span class="variable" start="143" select="quick">$entry</span><span class="step" start="149">/</span><span class="axis" start="150">@</span><span class="qname" start="151" select="quick">namest</span><span class="filter" start="157">]</span><span class="op" start="158">,</span><span class="whitespace" start="159">
                      </span><span class="qname" start="160" select="quick">	</span><span class="qname" start="161" select="quick">	</span><span class="qname" start="162" select="quick">	</span><span class="whitespace" start="163">       </span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}find-colspec-by-colnum" class="solar"><span class="function" start="170" pair-end="211" select="quick">f:find-colspec-by-colnum</span></a><span class="parenthesis">(</span><span class="variable" start="195" select="quick">$tgroup</span><span class="op" start="202">,</span><span class="whitespace" start="203"> </span><span class="variable" start="204" select="quick">$colnum</span><span class="parenthesis" start="211">)</span><span class="op" start="212">,</span><span class="whitespace" start="213">
                      </span><span class="qname" start="214" select="quick">	</span><span class="qname" start="215" select="quick">	</span><span class="qname" start="216" select="quick">	</span><span class="whitespace" start="217">       </span><span class="variable" start="224" select="quick">$tgroup</span><span class="op" start="231">,</span><span class="whitespace" start="232">
                      </span><span class="qname" start="233" select="quick">	</span><span class="qname" start="234" select="quick">	</span><span class="qname" start="235" select="quick">	</span><span class="whitespace" start="236">       </span><span class="variable" start="243" select="quick">$tgroup</span><span class="step" start="250">/</span><span class="axis" start="251">parent::</span><span class="qname" start="259" select="quick">*</span><span class="parenthesis" start="260">)</span><span class="z">"</span><span id="wx2903" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2907" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2909"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w2913"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="108" select="quick">(</span><span class="variable" start="2" select="quick">$row</span><span class="op" start="6">,</span><span class="whitespace" start="7">
                      </span><span class="qname" start="8" select="quick">	</span><span class="qname" start="9" select="quick">	</span><span class="qname" start="10" select="quick">	</span><span class="whitespace" start="11">       </span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}find-colspec-by-colnum" class="solar"><span class="function" start="18" pair-end="59" select="quick">f:find-colspec-by-colnum</span></a><span class="parenthesis">(</span><span class="variable" start="43" select="quick">$tgroup</span><span class="op" start="50">,</span><span class="whitespace" start="51"> </span><span class="variable" start="52" select="quick">$colnum</span><span class="parenthesis" start="59">)</span><span class="op" start="60">,</span><span class="whitespace" start="61">
                      </span><span class="qname" start="62" select="quick">	</span><span class="qname" start="63" select="quick">	</span><span class="qname" start="64" select="quick">	</span><span class="whitespace" start="65">       </span><span class="variable" start="72" select="quick">$tgroup</span><span class="op" start="79">,</span><span class="whitespace" start="80">
                      </span><span class="qname" start="81" select="quick">	</span><span class="qname" start="82" select="quick">	</span><span class="qname" start="83" select="quick">	</span><span class="whitespace" start="84">       </span><span class="variable" start="91" select="quick">$tgroup</span><span class="step" start="98">/</span><span class="axis" start="99">parent::</span><span class="qname" start="107" select="quick">*</span><span class="parenthesis" start="108">)</span><span class="z">"</span><span id="wx2953" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2957" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2961" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx2965" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2967"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?colspec">colspec</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}find-colspec-by-colnum" class="solar"><span class="function" start="1" pair-end="42" select="quick">f:find-colspec-by-colnum</span></a><span class="parenthesis">(</span><span class="variable" start="26" select="quick">$tgroup</span><span class="op" start="33">,</span><span class="whitespace" start="34"> </span><span class="variable" start="35" select="quick">$colnum</span><span class="parenthesis" start="42">)</span><span class="z">"</span><span id="wx2987" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2989"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="87" select="quick">(</span><span class="op">'</span><span class="literal" start="2">rowsep</span><span class="op">'</span><span class="op" start="10">,</span><span class="whitespace" start="11"> </span><span class="op">'</span><span class="literal" start="12">colsep</span><span class="op">'</span><span class="op" start="20">,</span><span class="whitespace" start="21">
                                               </span><span class="op">'</span><span class="literal" start="47">align</span><span class="op">'</span><span class="op" start="54">,</span><span class="whitespace" start="55"> </span><span class="op">'</span><span class="literal" start="56">valign</span><span class="op">'</span><span class="op" start="64">,</span><span class="whitespace" start="65">
                      </span><span class="qname" start="66" select="quick">	</span><span class="qname" start="67" select="quick">	</span><span class="qname" start="68" select="quick">	</span><span class="whitespace" start="69"> </span><span class="op">'</span><span class="literal" start="70">char</span><span class="op">'</span><span class="op" start="76">,</span><span class="whitespace" start="77"> </span><span class="op">'</span><span class="literal" start="78">charoff</span><span class="op">'</span><span class="parenthesis" start="87">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3032"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?attr">attr</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-QName" class="solar"><span class="function" start="1" pair-end="12" select="quick">QName</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="7"></span><span class="op">'</span><span class="op" start="9">,</span><span class="whitespace" start="10"> </span><span class="context" start="11">.</span><span class="parenthesis" start="12">)</span><span class="z">"</span><span id="wx3054" class="sc">/&gt;</span></span><span class="txt">

    </span><span class="ww" id="w3056"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?value">value</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3066"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w3070"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}find-element-by-attribute" class="solar"><span class="function" start="1" pair-end="45" select="quick">f:find-element-by-attribute</span></a><span class="parenthesis">(</span><span class="variable" start="29" select="quick">$elements</span><span class="op" start="38">,</span><span class="whitespace" start="39"> </span><span class="variable" start="40" select="quick">$attr</span><span class="parenthesis" start="45">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w3086"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}find-element-by-attribute" class="solar"><span class="function" start="1" pair-end="45" select="quick">f:find-element-by-attribute</span></a><span class="parenthesis">(</span><span class="variable" start="29" select="quick">$elements</span><span class="op" start="38">,</span><span class="whitespace" start="39"> </span><span class="variable" start="40" select="quick">$attr</span><span class="parenthesis" start="45">)</span><span class="whitespace" start="46">
                      </span><span class="qname" start="47" select="quick">	</span><span class="qname" start="48" select="quick">	</span><span class="qname" start="49" select="quick">	</span><span class="qname" start="50" select="quick">	</span><span class="step" start="51">/</span><span class="axis" start="52">@</span><span class="qname" start="53" select="quick">*</span><span class="filter" start="54" pair-end="75" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="55" pair-end="66" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="65">.</span><span class="parenthesis" start="66">)</span><span class="whitespace" start="67"> </span><span class="op" start="68">=</span><span class="whitespace" start="69"> </span><span class="variable" start="70" select="quick">$attr</span><span class="filter" start="75">]</span><span class="z">"</span><span id="wx3118" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3122" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w3124"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w3128"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$attr</span><span class="op" start="6">=</span><a href="http://www.w3.org/TR/xpath-functions/#func-QName" class="solar"><span class="function" start="7" pair-end="24" select="quick">QName</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="13"></span><span class="op">'</span><span class="op" start="15">,</span><span class="op">'</span><span class="literal" start="16">rowsep</span><span class="op">'</span><span class="parenthesis" start="24">)</span><span class="whitespace" start="25"> </span><span class="op" start="26">or</span><span class="whitespace" start="28"> </span><span class="variable" start="29" select="quick">$attr</span><span class="op" start="34">=</span><a href="http://www.w3.org/TR/xpath-functions/#func-QName" class="solar"><span class="function" start="35" pair-end="52" select="quick">QName</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="41"></span><span class="op">'</span><span class="op" start="43">,</span><span class="op">'</span><span class="literal" start="44">colsep</span><span class="op">'</span><span class="parenthesis" start="52">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w3164"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">1</span><span class="z">"</span><span id="wx3172" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3176" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx3180" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3184" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx3188" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w3190"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3194"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}find-element-by-attribute" class="solar"><span class="function" start="1" pair-end="45" select="quick">f:find-element-by-attribute</span></a><span class="parenthesis">(</span><span class="variable" start="29" select="quick">$elements</span><span class="op" start="38">,</span><span class="whitespace" start="39"> </span><span class="variable" start="40" select="quick">$attr</span><span class="parenthesis" start="45">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w3210"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="1" pair-end="13" select="quick">string</span></a><span class="parenthesis">(</span><span class="variable" start="8" select="quick">$attr</span><span class="parenthesis" start="13">)</span><span class="op">}</span><span class="z">"</span><span class="z">
               		       </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}find-element-by-attribute" class="solar"><span class="function" start="1" pair-end="45" select="quick">f:find-element-by-attribute</span></a><span class="parenthesis">(</span><span class="variable" start="29" select="quick">$elements</span><span class="op" start="38">,</span><span class="whitespace" start="39"> </span><span class="variable" start="40" select="quick">$attr</span><span class="parenthesis" start="45">)</span><span class="whitespace" start="46">
                       </span><span class="qname" start="47" select="quick">	</span><span class="qname" start="48" select="quick">	</span><span class="qname" start="49" select="quick">	</span><span class="whitespace" start="50">       </span><span class="step" start="57">/</span><span class="axis" start="58">@</span><span class="qname" start="59" select="quick">*</span><span class="filter" start="60" pair-end="81" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="61" pair-end="72" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="71">.</span><span class="parenthesis" start="72">)</span><span class="whitespace" start="73"> </span><span class="op" start="74">=</span><span class="whitespace" start="75"> </span><span class="variable" start="76" select="quick">$attr</span><span class="filter" start="81">]</span><span class="z">"</span><span id="wx3253" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3257" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3259"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="z">&lt;!--</span><span class="cm"> According to CALS, the default for each attribute is the
	     tgroup value, which we've already found above, if it exists,
	     except for colsep and rowsep which default to "1" </span><span class="z">--&gt;</span><span class="txt">
	</span><span class="ww" id="w3267"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$attr</span><span class="op" start="6">=</span><a href="http://www.w3.org/TR/xpath-functions/#func-QName" class="solar"><span class="function" start="7" pair-end="24" select="quick">QName</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="13"></span><span class="op">'</span><span class="op" start="15">,</span><span class="op">'</span><span class="literal" start="16">rowsep</span><span class="op">'</span><span class="parenthesis" start="24">)</span><span class="whitespace" start="25"> </span><span class="op" start="26">or</span><span class="whitespace" start="28"> </span><span class="variable" start="29" select="quick">$attr</span><span class="op" start="34">=</span><a href="http://www.w3.org/TR/xpath-functions/#func-QName" class="solar"><span class="function" start="35" pair-end="52" select="quick">QName</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="41"></span><span class="op">'</span><span class="op" start="43">,</span><span class="op">'</span><span class="literal" start="44">colsep</span><span class="op">'</span><span class="parenthesis" start="52">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w3303"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="1" pair-end="13" select="quick">string</span></a><span class="parenthesis">(</span><span class="variable" start="8" select="quick">$attr</span><span class="parenthesis" start="13">)</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">1</span><span class="z">"</span><span id="wx3322" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3326" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx3330" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3334" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx3338" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3342" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w3348"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">adjust-column-widths</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3364"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Adjust column width values for HTML or XSL-FO</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx3370" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3372"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3376"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">CALS tables support column widths expressed in absolute (2.5in),
relative (2*), and mixed terms (1.5*+0.5in). HTML and XSL-FO support
column widths
expressed in either absolute units (only pixels in the HTML case)
or as a percentage of the total table width. This template takes an
HTML </span><span class="ww" id="w3380"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">colgroup</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx3386" class="ec">&gt;</span></span><span class="txt"> containing columns with widths expressed in CALS
terms and returns the equivalent group with columns expressed in terms
acceptable to HTML or XSL-FO.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3390" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3392"><span class="es">&lt;</span><span class="en">itemizedlist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3396"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3400"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">If there are no relative widths, the absolute widths are returned.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3406" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3410" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3412"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3416"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">If there are no absolute widths, the relative widths are returned.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3422" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3426" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3428"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3432"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">If there are a mixture of relative and absolute widths,</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3438" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3440"><span class="es">&lt;</span><span class="en">itemizedlist</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3444"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3448"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">If the table width is absolute, all the column widths are converted
        to absolute widths and those are returned.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3454" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3458" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3460"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3464"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">If the table width is relative, all the column widths are converted
        to absolute widths based on a
	</span><span class="ww" id="w3468"><span class="es">&lt;</span><span class="en">parameter</span><span class="scx">&gt;</span><span class="txt">table.width.nominal</span><span class="ez">&lt;/</span><span class="cl">parameter</span><span id="wx3474" class="ec">&gt;</span></span><span class="txt">. Then each width is
	converted back to a percentage and those are returned.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3478" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3482" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">itemizedlist</span><span id="wx3486" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3490" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">itemizedlist</span><span id="wx3494" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx3498" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3500"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3504"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3508"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="z"> </span><span class="atn">role</span><span class="atneq">=</span><span class="z">"</span><span class="av">required</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3518"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">table-width</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3524" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3526"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3530"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The width of the table.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3536" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3540" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3544" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3546"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="z"> </span><span class="atn">role</span><span class="atneq">=</span><span class="z">"</span><span class="av">required</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3556"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">colgroup</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3562" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3564"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3568"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The column group to adjust.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3574" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3578" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3582" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3584"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3588"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">abspixels</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3594" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3596"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3600"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">Specifies if absolute widths should be expressed in pixels: 0 for
false, any other value for true. Converting lengths to pixels is dependent
on the </span><span class="ww" id="w3604"><span class="es">&lt;</span><span class="en">parameter</span><span class="scx">&gt;</span><span class="txt">pixels.per.inch</span><span class="ez">&lt;/</span><span class="cl">parameter</span><span id="wx3610" class="ec">&gt;</span></span><span class="txt"> parameter.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3614" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3618" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3622" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx3626" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx3630" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3632"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3636"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The adjusted column group.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3642" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx3646" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3648"><span class="es">&lt;</span><span class="en">u:unittests</span><span class="z"> </span><span class="atn">template</span><span class="atneq">=</span><span class="z">"</span><span class="av">adjust-column-widths</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3658"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">pixels.per.inch</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="av">96</span><span class="z">"</span><span id="wx3672" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3674"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">table.width.nominal</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="av">6 * $pixels.per.inch</span><span class="z">"</span><span id="wx3688" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3690"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3694"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">table-width</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="av">'6in'</span><span class="z">"</span><span id="wx3708" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3710"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">colgroup</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3726"><span class="es">&lt;</span><span class="en">colgroup</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w3736"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">3.5*</span><span class="z">"</span><span id="wx3744" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w3746"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">2*</span><span class="z">"</span><span id="wx3754" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w3756"><span class="es">&lt;</span><span class="en">col</span><span id="wx3758" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w3760"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">1*</span><span class="z">"</span><span id="wx3768" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">colgroup</span><span id="wx3772" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx3776" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3778"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">abspixels</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">1</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx3790" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3792"><span class="es">&lt;</span><span class="en">u:result</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3802"><span class="es">&lt;</span><span class="en">colgroup</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"> 
	</span><span class="ww" id="w3812"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">47%</span><span class="z">"</span><span id="wx3820" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w3822"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">27%</span><span class="z">"</span><span id="wx3830" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w3832"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">13%</span><span class="z">"</span><span id="wx3840" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w3842"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">13%</span><span class="z">"</span><span id="wx3850" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">colgroup</span><span id="wx3854" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx3858" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx3862" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3864"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3868"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">table-width</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">6in</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx3880" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3882"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">colgroup</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3898"><span class="es">&lt;</span><span class="en">colgroup</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w3908"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">2in</span><span class="z">"</span><span id="wx3916" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w3918"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">3in</span><span class="z">"</span><span id="wx3926" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w3928"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">8pt</span><span class="z">"</span><span id="wx3936" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w3938"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">1in</span><span class="z">"</span><span id="wx3946" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">colgroup</span><span id="wx3950" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx3954" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3956"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">abspixels</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">1</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx3968" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3970"><span class="es">&lt;</span><span class="en">u:result</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3980"><span class="es">&lt;</span><span class="en">colgroup</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"> 
	</span><span class="ww" id="w3990"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">192</span><span class="z">"</span><span id="wx3998" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4000"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">288</span><span class="z">"</span><span id="wx4008" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4010"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">10</span><span class="z">"</span><span id="wx4018" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4020"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">96</span><span class="z">"</span><span id="wx4028" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">colgroup</span><span id="wx4032" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx4036" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx4040" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4042"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4046"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">table-width</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">6in</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx4058" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4060"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">colgroup</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4076"><span class="es">&lt;</span><span class="en">colgroup</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"> 
	</span><span class="ww" id="w4086"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">3.5*+2in</span><span class="z">"</span><span class="z"> </span><span class="atn">colname</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span id="wx4100" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4102"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">2*</span><span class="z">"</span><span id="wx4110" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4112"><span class="es">&lt;</span><span class="en">col</span><span id="wx4114" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4116"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">1in</span><span class="z">"</span><span class="z"> </span><span class="atn">align</span><span class="atneq">=</span><span class="z">"</span><span class="av">right</span><span class="z">"</span><span id="wx4130" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">colgroup</span><span id="wx4134" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx4138" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4140"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">abspixels</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">1</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx4152" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4154"><span class="es">&lt;</span><span class="en">u:result</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4164"><span class="es">&lt;</span><span class="en">colgroup</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"> 
	</span><span class="ww" id="w4174"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">502</span><span class="z">"</span><span class="z"> </span><span class="atn">colname</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span id="wx4188" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4190"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">177</span><span class="z">"</span><span id="wx4198" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4200"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">89</span><span class="z">"</span><span id="wx4208" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4210"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">96</span><span class="z">"</span><span class="z"> </span><span class="atn">align</span><span class="atneq">=</span><span class="z">"</span><span class="av">right</span><span class="z">"</span><span id="wx4224" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">colgroup</span><span id="wx4228" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx4232" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx4236" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4238"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4242"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">table-width</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">'100%'</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx4254" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4256"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">colgroup</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4272"><span class="es">&lt;</span><span class="en">colgroup</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"> 
	</span><span class="ww" id="w4282"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">3.5*+2in</span><span class="z">"</span><span class="z"> </span><span class="atn">colname</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span id="wx4296" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4298"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">2*</span><span class="z">"</span><span id="wx4306" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4308"><span class="es">&lt;</span><span class="en">col</span><span id="wx4310" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4312"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">1in</span><span class="z">"</span><span class="z"> </span><span class="atn">align</span><span class="atneq">=</span><span class="z">"</span><span class="av">right</span><span class="z">"</span><span id="wx4326" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">colgroup</span><span id="wx4330" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx4334" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4336"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">abspixels</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">1</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx4348" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4350"><span class="es">&lt;</span><span class="en">u:result</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4360"><span class="es">&lt;</span><span class="en">colgroup</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"> 
	</span><span class="ww" id="w4370"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">58.12%</span><span class="z">"</span><span class="z"> </span><span class="atn">colname</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span id="wx4384" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4386"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">20.51%</span><span class="z">"</span><span id="wx4394" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4396"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">10.26%</span><span class="z">"</span><span id="wx4404" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4406"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">11.11%</span><span class="z">"</span><span class="z"> </span><span class="atn">align</span><span class="atneq">=</span><span class="z">"</span><span class="av">right</span><span class="z">"</span><span id="wx4420" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">colgroup</span><span id="wx4424" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx4428" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx4432" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4434"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4438"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">table-width</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">6in</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx4450" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4452"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">colgroup</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4468"><span class="es">&lt;</span><span class="en">colgroup</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"> 
	</span><span class="ww" id="w4478"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">3.5*+2in</span><span class="z">"</span><span class="z"> </span><span class="atn">colname</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span id="wx4492" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4494"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">2*</span><span class="z">"</span><span id="wx4502" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4504"><span class="es">&lt;</span><span class="en">col</span><span id="wx4506" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4508"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">1in</span><span class="z">"</span><span class="z"> </span><span class="atn">align</span><span class="atneq">=</span><span class="z">"</span><span class="av">right</span><span class="z">"</span><span id="wx4522" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">colgroup</span><span id="wx4526" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx4530" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4532"><span class="es">&lt;</span><span class="en">u:result</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4542"><span class="es">&lt;</span><span class="en">colgroup</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"> 
	</span><span class="ww" id="w4552"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">5.23in</span><span class="z">"</span><span class="z"> </span><span class="atn">colname</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span id="wx4566" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4568"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">1.85in</span><span class="z">"</span><span id="wx4576" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4578"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">0.92in</span><span class="z">"</span><span id="wx4586" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4588"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">1.00in</span><span class="z">"</span><span class="z"> </span><span class="atn">align</span><span class="atneq">=</span><span class="z">"</span><span class="av">right</span><span class="z">"</span><span id="wx4602" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">colgroup</span><span id="wx4606" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx4610" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx4614" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4616"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4620"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">table-width</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">100%</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx4632" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4634"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">colgroup</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4650"><span class="es">&lt;</span><span class="en">colgroup</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"> 
	</span><span class="ww" id="w4660"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">1in</span><span class="z">"</span><span id="wx4668" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4670"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">1*</span><span class="z">"</span><span id="wx4678" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4680"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">5*</span><span class="z">"</span><span id="wx4688" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4690"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">1*+0.5in</span><span class="z">"</span><span id="wx4698" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">colgroup</span><span id="wx4702" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx4706" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4708"><span class="es">&lt;</span><span class="en">u:result</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4718"><span class="es">&lt;</span><span class="en">colgroup</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"> 
	</span><span class="ww" id="w4728"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">5.23in</span><span class="z">"</span><span class="z"> </span><span class="atn">colname</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span id="wx4742" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4744"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">1.85in</span><span class="z">"</span><span id="wx4752" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4754"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">0.92in</span><span class="z">"</span><span id="wx4762" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4764"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">width</span><span class="atneq">=</span><span class="z">"</span><span class="av">1.00in</span><span class="z">"</span><span class="z"> </span><span class="atn">align</span><span class="atneq">=</span><span class="z">"</span><span class="av">right</span><span class="z">"</span><span id="wx4778" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">colgroup</span><span id="wx4782" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx4786" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx4790" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">u:unittests</span><span id="wx4794" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx4798" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4800"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?adjust-column-widths">adjust-column-widths</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(html:colgroup)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w4816"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?table-width">table-width</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:string</span><span class="z">"</span><span id="wx4830" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4832"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?colgroup">colgroup</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span id="wx4846" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4848"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?abspixels">abspixels</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">0</span><span class="z">"</span><span id="wx4862" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w4864"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?parsedcols">parsedcols</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4880"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colgroup</span><span class="step" start="10">/</span><span class="qname" start="11" select="quick">*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4892"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w4896"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="11" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="5">@</span><span class="qname" start="6" select="quick">width</span><span class="parenthesis" start="11">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w4910"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">ghost:rel</span><span class="atneq">=</span><span class="z">"</span><span class="av">1</span><span class="z">"</span><span class="z"> </span><span class="atn">ghost:abs</span><span class="atneq">=</span><span class="z">"</span><span class="av">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w4926"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx4935" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="cl">col</span><span id="wx4939" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx4943" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4945"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="21" select="quick">contains</span></a><span class="parenthesis">(</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">width</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">*</span><span class="op">'</span><span class="parenthesis" start="21">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w4964"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">ghost:rel</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-before" class="solar"><span class="function" start="1" pair-end="29" select="quick">substring-before</span></a><span class="parenthesis">(</span><span class="axis" start="18">@</span><span class="qname" start="19" select="quick">width</span><span class="op" start="24">,</span><span class="whitespace" start="25"> </span><span class="op">'</span><span class="literal" start="26">*</span><span class="op">'</span><span class="parenthesis" start="29">)</span><span class="op">}</span><span class="z">"</span><span class="z">
     	       </span><span class="atn">ghost:abs</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="if" start="1">if</span><span class="whitespace" start="3"> </span><span class="parenthesis" start="4" pair-end="38" select="quick">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-after" class="solar"><span class="function" start="5" pair-end="32" select="quick">substring-after</span></a><span class="parenthesis">(</span><span class="axis" start="21">@</span><span class="qname" start="22" select="quick">width</span><span class="op" start="27">,</span><span class="whitespace" start="28"> </span><span class="op">'</span><span class="literal" start="29">*</span><span class="op">'</span><span class="parenthesis" start="32">)</span><span class="whitespace" start="33"> </span><span class="op" start="34">=</span><span class="whitespace" start="35"> </span><span class="op">'</span><span class="literal" start="36"></span><span class="op">'</span><span class="parenthesis" start="38">)</span><span class="whitespace" start="39">
                </span><span class="qname" start="40" select="quick">	</span><span class="qname" start="41" select="quick">	</span><span class="qname" start="42" select="quick">	</span><span class="whitespace" start="43">   </span><span class="op" start="46">then</span><span class="whitespace" start="50"> </span><span class="numeric" start="51">0</span><span class="whitespace" start="52">
                </span><span class="qname" start="53" select="quick">	</span><span class="qname" start="54" select="quick">	</span><span class="qname" start="55" select="quick">	</span><span class="whitespace" start="56">   </span><span class="op" start="59">else</span><span class="whitespace" start="63"> </span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}convert-length" class="solar"><span class="function" start="64" pair-end="109" select="quick">f:convert-length</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-after" class="solar"><span class="function" start="81" pair-end="108" select="quick">substring-after</span></a><span class="parenthesis">(</span><span class="axis" start="97">@</span><span class="qname" start="98" select="quick">width</span><span class="op" start="103">,</span><span class="whitespace" start="104"> </span><span class="op">'</span><span class="literal" start="105">*</span><span class="op">'</span><span class="parenthesis" start="108">)</span><span class="parenthesis" start="109">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w5040"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx5049" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="cl">col</span><span id="wx5053" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx5057" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w5059"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-matches" class="solar"><span class="function" start="1" pair-end="24" select="quick">matches</span></a><span class="parenthesis">(</span><span class="axis" start="9">@</span><span class="qname" start="10" select="quick">width</span><span class="op" start="15">,</span><span class="whitespace" start="16"> </span><span class="op">'</span><span class="literal" start="17">^\d+$</span><span class="op">'</span><span class="parenthesis" start="24">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w5078"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">ghost:rel</span><span class="atneq">=</span><span class="z">"</span><span class="av">0</span><span class="z">"</span><span class="z">
     	       </span><span class="atn">ghost:abs</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}convert-length" class="solar"><span class="function" start="1" pair-end="37" select="quick">f:convert-length</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function" start="18" pair-end="36" select="quick">concat</span></a><span class="parenthesis">(</span><span class="axis" start="25">@</span><span class="qname" start="26" select="quick">width</span><span class="op" start="31">,</span><span class="op">'</span><span class="literal" start="32">px</span><span class="op">'</span><span class="parenthesis" start="36">)</span><span class="parenthesis" start="37">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w5107"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx5116" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="cl">col</span><span id="wx5120" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx5124" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w5126"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w5130"><span class="es">&lt;</span><span class="en">col</span><span class="z"> </span><span class="atn">ghost:rel</span><span class="atneq">=</span><span class="z">"</span><span class="av">0</span><span class="z">"</span><span class="z"> </span><span class="atn">ghost:abs</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}convert-length" class="solar"><span class="function" start="1" pair-end="24" select="quick">f:convert-length</span></a><span class="parenthesis">(</span><span class="axis" start="18">@</span><span class="qname" start="19" select="quick">width</span><span class="parenthesis" start="24">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w5152"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx5161" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="cl">col</span><span id="wx5165" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx5169" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx5173" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx5177" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx5181" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w5183"><span class="es">&lt;</span><span class="en">colgroup</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w5193"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5197"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-sum" class="solar"><span class="function" start="1" pair-end="27" select="quick">sum</span></a><span class="parenthesis">(</span><span class="variable" start="5" select="quick">$parsedcols</span><span class="step" start="16">/</span><span class="axis" start="17">@</span><span class="qname" start="18" select="quick">ghost:rel</span><span class="parenthesis" start="27">)</span><span class="whitespace" start="28"> </span><span class="op" start="29">=</span><span class="whitespace" start="30"> </span><span class="numeric" start="31">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w5217"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$parsedcols</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w5227"><span class="es">&lt;</span><span class="en">col</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w5231"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="filter" start="3" pair-end="65" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-namespace-uri" class="solar"><span class="function" start="4" pair-end="19" select="quick">namespace-uri</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="whitespace" start="20"> </span><span class="op" start="21">!=</span><span class="whitespace" start="23"> </span><span class="op">'</span><span class="literal" start="24">http://docbook.org/ns/docbook/ephemeral</span><span class="op">'</span><span class="filter" start="65">]</span><span class="z">"</span><span id="wx5252" class="sc">/&gt;</span></span><span class="txt">
	    </span><span class="ww" id="w5254"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">width</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	      </span><span class="ww" id="w5264"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
		</span><span class="ww" id="w5268"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$abspixels</span><span class="whitespace" start="11"> </span><span class="op" start="12">=</span><span class="whitespace" start="13"> </span><span class="numeric" start="14">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
		  </span><span class="ww" id="w5282"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-format-number" class="solar"><span class="function" start="1" pair-end="73" select="quick">format-number</span></a><span class="parenthesis">(</span><span class="axis" start="15">@</span><span class="qname" start="16" select="quick">ghost:abs</span><span class="whitespace" start="25"> </span><span class="op" start="26">div</span><span class="whitespace" start="29"> </span><a href="xslt/base/html/param.xsl.html#v?pixels.per.inch" class="solar"><span class="variable" start="30" select="quick">$pixels.per.inch</span></a><span class="op" start="46">,</span><span class="whitespace" start="47">
                      </span><span class="qname" start="48" select="quick">	</span><span class="qname" start="49" select="quick">	</span><span class="qname" start="50" select="quick">	</span><span class="qname" start="51" select="quick">	</span><span class="qname" start="52" select="quick">	</span><span class="whitespace" start="53">              </span><span class="op">'</span><span class="literal" start="67">0.00</span><span class="op">'</span><span class="parenthesis" start="73">)</span><span class="z">"</span><span id="wx5309" class="sc">/&gt;</span></span><span class="txt">
		  </span><span class="ww" id="w5311"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">in</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5317" class="ec">&gt;</span></span><span class="txt">
		</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx5321" class="ec">&gt;</span></span><span class="txt">
		</span><span class="ww" id="w5323"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
		  </span><span class="ww" id="w5327"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">ghost:abs</span><span class="z">"</span><span id="wx5336" class="sc">/&gt;</span></span><span class="txt">
		</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx5340" class="ec">&gt;</span></span><span class="txt">
	      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx5344" class="ec">&gt;</span></span><span class="txt">
	    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx5348" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="cl">col</span><span id="wx5352" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx5356" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx5360" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w5362"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-sum" class="solar"><span class="function" start="1" pair-end="27" select="quick">sum</span></a><span class="parenthesis">(</span><span class="variable" start="5" select="quick">$parsedcols</span><span class="step" start="16">/</span><span class="axis" start="17">@</span><span class="qname" start="18" select="quick">ghost:abs</span><span class="parenthesis" start="27">)</span><span class="whitespace" start="28"> </span><span class="op" start="29">=</span><span class="whitespace" start="30"> </span><span class="numeric" start="31">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w5382"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?relTotal">relTotal</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-sum" class="solar"><span class="function" start="1" pair-end="27" select="quick">sum</span></a><span class="parenthesis">(</span><span class="variable" start="5" select="quick">$parsedcols</span><span class="step" start="16">/</span><span class="axis" start="17">@</span><span class="qname" start="18" select="quick">ghost:rel</span><span class="parenthesis" start="27">)</span><span class="z">"</span><span id="wx5402" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w5404"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$parsedcols</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w5414"><span class="es">&lt;</span><span class="en">col</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w5418"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="filter" start="3" pair-end="65" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-namespace-uri" class="solar"><span class="function" start="4" pair-end="19" select="quick">namespace-uri</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="whitespace" start="20"> </span><span class="op" start="21">!=</span><span class="whitespace" start="23"> </span><span class="op">'</span><span class="literal" start="24">http://docbook.org/ns/docbook/ephemeral</span><span class="op">'</span><span class="filter" start="65">]</span><span class="z">"</span><span id="wx5439" class="sc">/&gt;</span></span><span class="txt">
	    </span><span class="ww" id="w5441"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">width</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	      </span><span class="ww" id="w5451"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-round" class="solar"><span class="function" start="1" pair-end="37" select="quick">round</span></a><span class="parenthesis">(</span><span class="axis" start="7">@</span><span class="qname" start="8" select="quick">ghost:rel</span><span class="whitespace" start="17"> </span><span class="op" start="18">div</span><span class="whitespace" start="21"> </span><span class="variable" start="22" select="quick">$relTotal</span><span class="whitespace" start="31"> </span><span class="op" start="32">*</span><span class="whitespace" start="33"> </span><span class="numeric" start="34">100</span><span class="parenthesis" start="37">)</span><span class="z">"</span><span id="wx5471" class="sc">/&gt;</span></span><span class="txt">
	      </span><span class="ww" id="w5473"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">%</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5479" class="ec">&gt;</span></span><span class="txt">
	    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx5483" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="cl">col</span><span id="wx5487" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx5491" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx5495" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w5497"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w5501"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?relTotal">relTotal</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-sum" class="solar"><span class="function" start="1" pair-end="27" select="quick">sum</span></a><span class="parenthesis">(</span><span class="variable" start="5" select="quick">$parsedcols</span><span class="step" start="16">/</span><span class="axis" start="17">@</span><span class="qname" start="18" select="quick">ghost:rel</span><span class="parenthesis" start="27">)</span><span class="z">"</span><span id="wx5521" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w5523"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?pixelwidth">pixelwidth</span><span class="z">"</span><span class="z">
              		      </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="if" start="1">if</span><span class="whitespace" start="3"> </span><span class="parenthesis" start="4" pair-end="32" select="quick">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="5" pair-end="31" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="14" select="quick">$table-width</span><span class="op" start="26">,</span><span class="whitespace" start="27"> </span><span class="op">'</span><span class="literal" start="28">%</span><span class="op">'</span><span class="parenthesis" start="31">)</span><span class="parenthesis" start="32">)</span><span class="whitespace" start="33">
                      </span><span class="qname" start="34" select="quick">	</span><span class="qname" start="35" select="quick">	</span><span class="qname" start="36" select="quick">	</span><span class="whitespace" start="37">      </span><span class="op" start="43">then</span><span class="whitespace" start="47"> </span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}convert-length" class="solar"><span class="function" start="48" pair-end="85" select="quick">f:convert-length</span></a><span class="parenthesis">(</span><a href="xslt/base/html/param.xsl.html#v?table.width.nominal" class="solar"><span class="variable" start="65" select="quick">$table.width.nominal</span></a><span class="parenthesis" start="85">)</span><span class="whitespace" start="86">
                      </span><span class="qname" start="87" select="quick">	</span><span class="qname" start="88" select="quick">	</span><span class="qname" start="89" select="quick">	</span><span class="whitespace" start="90">      </span><span class="op" start="96">else</span><span class="whitespace" start="100"> </span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}convert-length" class="solar"><span class="function" start="101" pair-end="130" select="quick">f:convert-length</span></a><span class="parenthesis">(</span><span class="variable" start="118" select="quick">$table-width</span><span class="parenthesis" start="130">)</span><span class="z">"</span><span id="wx5571" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5573"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?relwidth">relwidth</span><span class="z">"</span><span class="z">
                                    </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pixelwidth</span><span class="whitespace" start="12"> </span><span class="op" start="13">-</span><span class="whitespace" start="14"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-sum" class="solar"><span class="function" start="15" pair-end="41" select="quick">sum</span></a><span class="parenthesis">(</span><span class="variable" start="19" select="quick">$parsedcols</span><span class="step" start="30">/</span><span class="axis" start="31">@</span><span class="qname" start="32" select="quick">ghost:abs</span><span class="parenthesis" start="41">)</span><span class="z">"</span><span id="wx5597" class="sc">/&gt;</span></span><span class="txt">

	</span><span class="ww" id="w5599"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?convcols">convcols</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w5615"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$parsedcols</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">

            </span><span class="z">&lt;!--</span><span class="cm">
	    &lt;xsl:message&gt;
	      &lt;xsl:value-of select="position()"/&gt;
	      &lt;xsl:text&gt;=&lt;/xsl:text&gt;
	      &lt;xsl:value-of select="@ghost:rel"/&gt;
	      &lt;xsl:text&gt;,&lt;/xsl:text&gt;
	      &lt;xsl:value-of select="@ghost:abs"/&gt;
	      &lt;xsl:text&gt;; &lt;/xsl:text&gt;
	      &lt;xsl:value-of select="$relTotal"/&gt;
	      &lt;xsl:text&gt;; &lt;/xsl:text&gt;
	      &lt;xsl:value-of select="$pixelwidth"/&gt;
	      &lt;xsl:text&gt;; &lt;/xsl:text&gt;
	      &lt;xsl:value-of select="$relwidth"/&gt;
	    &lt;/xsl:message&gt;
            </span><span class="z">--&gt;</span><span class="txt">

	    </span><span class="ww" id="w5629"><span class="es">&lt;</span><span class="en">col</span><span class="scx">&gt;</span><span class="txt">
	      </span><span class="ww" id="w5633"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx5642" class="sc">/&gt;</span></span><span class="txt">
	      </span><span class="ww" id="w5644"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">ghost:rel</span><span class="z">"</span><span class="z">
               			     </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="38" select="quick">(</span><span class="axis" start="2">@</span><span class="qname" start="3" select="quick">ghost:rel</span><span class="whitespace" start="12"> </span><span class="op" start="13">div</span><span class="whitespace" start="16"> </span><span class="variable" start="17" select="quick">$relTotal</span><span class="whitespace" start="26"> </span><span class="op" start="27">*</span><span class="whitespace" start="28"> </span><span class="variable" start="29" select="quick">$relwidth</span><span class="parenthesis" start="38">)</span><span class="whitespace" start="39">
                       </span><span class="qname" start="40" select="quick">	</span><span class="qname" start="41" select="quick">	</span><span class="qname" start="42" select="quick">	</span><span class="qname" start="43" select="quick">	</span><span class="whitespace" start="44">     </span><span class="op" start="49">+</span><span class="whitespace" start="50"> </span><span class="axis" start="51">@</span><span class="qname" start="52" select="quick">ghost:abs</span><span class="z">"</span><span id="wx5679" class="sc">/&gt;</span></span><span class="txt">
	    </span><span class="ez">&lt;/</span><span class="cl">col</span><span id="wx5683" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx5687" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx5691" class="ec">&gt;</span></span><span class="txt">

	</span><span class="ww" id="w5693"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?absTotal">absTotal</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-sum" class="solar"><span class="function" start="1" pair-end="25" select="quick">sum</span></a><span class="parenthesis">(</span><span class="variable" start="5" select="quick">$convcols</span><span class="step" start="14">/</span><span class="axis" start="15">@</span><span class="qname" start="16" select="quick">ghost:rel</span><span class="parenthesis" start="25">)</span><span class="z">"</span><span id="wx5713" class="sc">/&gt;</span></span><span class="txt">

	</span><span class="ww" id="w5715"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$absTotal</span><span class="whitespace" start="10"> </span><span class="qname" start="11" select="quick">&amp;</span><span class="op" start="12">gt</span><span class="qname" start="14" select="quick">;</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$pixelwidth</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w5731"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w5735"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Warning: table is wider than specified width. (</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5741" class="ec">&gt;</span></span><span class="txt">
	    </span><span class="ww" id="w5743"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$absTotal</span><span class="z">"</span><span id="wx5751" class="sc">/&gt;</span></span><span class="txt">
	    </span><span class="ww" id="w5753"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> vs. </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5759" class="ec">&gt;</span></span><span class="txt">
	    </span><span class="ww" id="w5761"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pixelwidth</span><span class="z">"</span><span id="wx5769" class="sc">/&gt;</span></span><span class="txt">
	    </span><span class="ww" id="w5771"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">)</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5777" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx5781" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx5785" class="ec">&gt;</span></span><span class="txt">

	</span><span class="ww" id="w5787"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w5791"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="27" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$table-width</span><span class="op" start="22">,</span><span class="whitespace" start="23"> </span><span class="op">'</span><span class="literal" start="24">%</span><span class="op">'</span><span class="parenthesis" start="27">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w5809"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$convcols</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	      </span><span class="ww" id="w5819"><span class="es">&lt;</span><span class="en">col</span><span class="scx">&gt;</span><span class="txt">
		</span><span class="ww" id="w5823"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="filter" start="3" pair-end="76" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-namespace-uri" class="solar"><span class="function" start="4" pair-end="19" select="quick">namespace-uri</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="whitespace" start="20">
                     </span><span class="qname" start="21" select="quick">	</span><span class="qname" start="22" select="quick">	</span><span class="qname" start="23" select="quick">	</span><span class="whitespace" start="24">        </span><span class="op" start="32">!=</span><span class="whitespace" start="34"> </span><span class="op">'</span><span class="literal" start="35">http://docbook.org/ns/docbook/ephemeral</span><span class="op">'</span><span class="filter" start="76">]</span><span class="z">"</span><span id="wx5848" class="sc">/&gt;</span></span><span class="txt">
		</span><span class="ww" id="w5850"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">width</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
		  </span><span class="ww" id="w5860"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-format-number" class="solar"><span class="function" start="1" pair-end="72" select="quick">format-number</span></a><span class="parenthesis">(</span><span class="axis" start="15">@</span><span class="qname" start="16" select="quick">ghost:rel</span><span class="whitespace" start="25"> </span><span class="op" start="26">div</span><span class="whitespace" start="29"> </span><span class="variable" start="30" select="quick">$absTotal</span><span class="whitespace" start="39"> </span><span class="op" start="40">*</span><span class="whitespace" start="41"> </span><span class="numeric" start="42">100</span><span class="op" start="45">,</span><span class="whitespace" start="46">
                      </span><span class="qname" start="47" select="quick">	</span><span class="qname" start="48" select="quick">	</span><span class="qname" start="49" select="quick">	</span><span class="qname" start="50" select="quick">	</span><span class="qname" start="51" select="quick">	</span><span class="whitespace" start="52">              </span><span class="op">'</span><span class="literal" start="66">0.00</span><span class="op">'</span><span class="parenthesis" start="72">)</span><span class="z">"</span><span id="wx5891" class="sc">/&gt;</span></span><span class="txt">
		  </span><span class="ww" id="w5893"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">%</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5899" class="ec">&gt;</span></span><span class="txt">
		</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx5903" class="ec">&gt;</span></span><span class="txt">
	      </span><span class="ez">&lt;/</span><span class="cl">col</span><span id="wx5907" class="ec">&gt;</span></span><span class="txt">
	    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx5911" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx5915" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w5917"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w5921"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$convcols</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	      </span><span class="ww" id="w5931"><span class="es">&lt;</span><span class="en">col</span><span class="scx">&gt;</span><span class="txt">
		</span><span class="ww" id="w5935"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="filter" start="3" pair-end="65" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-namespace-uri" class="solar"><span class="function" start="4" pair-end="19" select="quick">namespace-uri</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="whitespace" start="20"> </span><span class="op" start="21">!=</span><span class="whitespace" start="23"> </span><span class="op">'</span><span class="literal" start="24">http://docbook.org/ns/docbook/ephemeral</span><span class="op">'</span><span class="filter" start="65">]</span><span class="z">"</span><span id="wx5956" class="sc">/&gt;</span></span><span class="txt">
		</span><span class="ww" id="w5958"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">width</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
		  </span><span class="ww" id="w5968"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
		    </span><span class="ww" id="w5972"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$abspixels</span><span class="whitespace" start="11"> </span><span class="op" start="12">=</span><span class="whitespace" start="13"> </span><span class="numeric" start="14">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
		      </span><span class="ww" id="w5986"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-format-number" class="solar"><span class="function" start="1" pair-end="86" select="quick">format-number</span></a><span class="parenthesis">(</span><span class="axis" start="15">@</span><span class="qname" start="16" select="quick">ghost:rel</span><span class="whitespace" start="25">
                      </span><span class="qname" start="26" select="quick">	</span><span class="qname" start="27" select="quick">	</span><span class="qname" start="28" select="quick">	</span><span class="qname" start="29" select="quick">	</span><span class="qname" start="30" select="quick">	</span><span class="whitespace" start="31">                  </span><span class="op" start="49">div</span><span class="whitespace" start="52"> </span><a href="xslt/base/html/param.xsl.html#v?pixels.per.inch" class="solar"><span class="variable" start="53" select="quick">$pixels.per.inch</span></a><span class="op" start="69">,</span><span class="whitespace" start="70">
                      </span><span class="qname" start="71" select="quick">	</span><span class="qname" start="72" select="quick">	</span><span class="qname" start="73" select="quick">	</span><span class="qname" start="74" select="quick">	</span><span class="qname" start="75" select="quick">	</span><span class="whitespace" start="76">    </span><span class="op">'</span><span class="literal" start="80">0.00</span><span class="op">'</span><span class="parenthesis" start="86">)</span><span class="z">"</span><span id="wx6019" class="sc">/&gt;</span></span><span class="txt">
		      </span><span class="ww" id="w6021"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">in</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6027" class="ec">&gt;</span></span><span class="txt">
		    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6031" class="ec">&gt;</span></span><span class="txt">
		    </span><span class="ww" id="w6033"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
		      </span><span class="ww" id="w6037"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-round" class="solar"><span class="function" start="1" pair-end="17" select="quick">round</span></a><span class="parenthesis">(</span><span class="axis" start="7">@</span><span class="qname" start="8" select="quick">ghost:rel</span><span class="parenthesis" start="17">)</span><span class="z">"</span><span id="wx6049" class="sc">/&gt;</span></span><span class="txt">
		    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx6053" class="ec">&gt;</span></span><span class="txt">
		  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6057" class="ec">&gt;</span></span><span class="txt">
		</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx6061" class="ec">&gt;</span></span><span class="txt">
	      </span><span class="ez">&lt;/</span><span class="cl">col</span><span id="wx6065" class="ec">&gt;</span></span><span class="txt">
	    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx6069" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx6073" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6077" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx6081" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6085" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">colgroup</span><span id="wx6089" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx6093" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w6099"><span class="es">&lt;</span><span class="en">doc:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:convert-length</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w6115"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Converts a length to pixels</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx6121" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w6123"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w6127"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This function converts a length, for example, “3mm” or “2in”,
into an integral number of pixels. The size of a pixel is determined
by the </span><span class="ww" id="w6131"><span class="es">&lt;</span><span class="en">parameter</span><span class="scx">&gt;</span><span class="txt">pixels.per.inch</span><span class="ez">&lt;/</span><span class="cl">parameter</span><span id="wx6137" class="ec">&gt;</span></span><span class="txt"> parameter.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx6141" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w6143"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The following units are recognized: inches (in), centimeters
(cm), milimeters (mm), picas (pc), points (pt), and pixels (px).
A value specified without units is assumed to be pixels. For convenience,
if a percentage is provided, it is returned unchanged.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx6149" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w6151"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">If an unrecognized unit is specified, it is treated like “1in”.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx6157" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx6161" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w6163"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w6167"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w6171"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w6175"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">length</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx6181" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w6183"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w6187"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The length to convert.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx6193" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx6197" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx6201" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx6205" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx6209" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w6211"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w6215"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The converted length, an integral number of pixels, unless the
length specified was a percentage, in which case it is returned unchanged.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx6221" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx6225" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w6227"><span class="es">&lt;</span><span class="en">u:unittests</span><span class="z"> </span><span class="atn">function</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:convert-length</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w6237"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w6241"><span class="es">&lt;</span><span class="en">u:param</span><span class="scx">&gt;</span><span class="txt">1in</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx6247" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w6249"><span class="es">&lt;</span><span class="en">u:result</span><span class="scx">&gt;</span><span class="txt">96</span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx6255" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx6259" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w6261"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w6265"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="av">'+2in'</span><span class="z">"</span><span id="wx6273" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w6275"><span class="es">&lt;</span><span class="en">u:result</span><span class="scx">&gt;</span><span class="txt">192</span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx6281" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx6285" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w6287"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w6291"><span class="es">&lt;</span><span class="en">u:param</span><span class="scx">&gt;</span><span class="txt">100pt</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx6297" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w6299"><span class="es">&lt;</span><span class="en">u:result</span><span class="scx">&gt;</span><span class="txt">133</span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx6305" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx6309" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w6311"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w6315"><span class="es">&lt;</span><span class="en">u:param</span><span class="scx">&gt;</span><span class="txt">50%</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx6321" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w6323"><span class="es">&lt;</span><span class="en">u:result</span><span class="scx">&gt;</span><span class="txt">'50%'</span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx6329" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx6333" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w6335"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w6339"><span class="es">&lt;</span><span class="en">u:param</span><span class="scx">&gt;</span><span class="txt">10barleycorn</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx6345" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w6347"><span class="es">&lt;</span><span class="en">u:result</span><span class="scx">&gt;</span><span class="txt">96</span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx6353" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx6357" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">u:unittests</span><span id="wx6361" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="cl">doc:function</span><span id="wx6365" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w6367"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension}convert-length">f:convert-length</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w6377"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?length">length</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:string</span><span class="z">"</span><span id="wx6391" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w6393"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w6397"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="22" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$length</span><span class="op" start="17">,</span><span class="whitespace" start="18"> </span><span class="op">'</span><span class="literal" start="19">%</span><span class="op">'</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6415"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$length</span><span class="z">"</span><span id="wx6423" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6427" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w6429"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$length</span><span class="whitespace" start="8"> </span><span class="type-op" start="9">castable as</span><span class="whitespace" start="20"> </span><span class="type-name" start="21">xs:double</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6443"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-round" class="solar"><span class="function" start="1" pair-end="32" select="quick">round</span></a><span class="parenthesis">(</span><span class="variable" start="7" select="quick">$length</span><span class="whitespace" start="14"> </span><span class="type-op" start="15">cast as</span><span class="whitespace" start="22"> </span><span class="type-name" start="23">xs:double</span><span class="parenthesis" start="32">)</span><span class="z">"</span><span id="wx6458" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6462" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w6464"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-matches" class="solar"><span class="function" start="1" pair-end="41" select="quick">matches</span></a><span class="parenthesis">(</span><span class="variable" start="9" select="quick">$length</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">^[\+\-]?\d+\.?\d*\w+$</span><span class="op">'</span><span class="parenthesis" start="41">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6482"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?spaced">spaced</span><span class="z">"</span><span class="z">
              		    </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-replace" class="solar"><span class="function" start="1" pair-end="77" select="quick">replace</span></a><span class="parenthesis">(</span><span class="variable" start="9" select="quick">$length</span><span class="op" start="16">,</span><span class="whitespace" start="17">
                      </span><span class="qname" start="18" select="quick">	</span><span class="qname" start="19" select="quick">	</span><span class="qname" start="20" select="quick">	</span><span class="whitespace" start="21">            </span><span class="op">'</span><span class="literal" start="33">(^[\+\-]?\d+\.?\d*)(\w+)$</span><span class="op">'</span><span class="op" start="60">,</span><span class="whitespace" start="61">
                      </span><span class="qname" start="62" select="quick">	</span><span class="qname" start="63" select="quick">	</span><span class="qname" start="64" select="quick">	</span><span class="qname" start="65" select="quick">	</span><span class="whitespace" start="66">    </span><span class="op">'</span><span class="literal" start="70">$1 $2</span><span class="op">'</span><span class="parenthesis" start="77">)</span><span class="z">"</span><span id="wx6518" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6520"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?magnitude">magnitude</span><span class="z">"</span><span class="z">
              		    </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="41" select="quick">xs:double</span><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-before" class="solar"><span class="function" start="11" pair-end="40" select="quick">substring-before</span></a><span class="parenthesis">(</span><span class="variable" start="28" select="quick">$spaced</span><span class="op" start="35">,</span><span class="whitespace" start="36"> </span><span class="op">'</span><span class="literal" start="37"> </span><span class="op">'</span><span class="parenthesis" start="40">)</span><span class="parenthesis" start="41">)</span><span class="z">"</span><span id="wx6545" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6547"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?units">units</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-after" class="solar"><span class="function" start="1" pair-end="29" select="quick">substring-after</span></a><span class="parenthesis">(</span><span class="variable" start="17" select="quick">$spaced</span><span class="op" start="24">,</span><span class="whitespace" start="25"> </span><span class="op">'</span><span class="literal" start="26"> </span><span class="op">'</span><span class="parenthesis" start="29">)</span><span class="z">"</span><span id="wx6569" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6571"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w6575"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$units</span><span class="whitespace" start="7"> </span><span class="op" start="8">=</span><span class="whitespace" start="9"> </span><span class="op">'</span><span class="literal" start="10">in</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w6591"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="41" select="quick">xs:integer</span><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$magnitude</span><span class="whitespace" start="22"> </span><span class="op" start="23">*</span><span class="whitespace" start="24"> </span><a href="xslt/base/html/param.xsl.html#v?pixels.per.inch" class="solar"><span class="variable" start="25" select="quick">$pixels.per.inch</span></a><span class="parenthesis" start="41">)</span><span class="z">"</span><span id="wx6606" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6610" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w6612"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$units</span><span class="whitespace" start="7"> </span><span class="op" start="8">=</span><span class="whitespace" start="9"> </span><span class="op">'</span><span class="literal" start="10">cm</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w6628"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="50" select="quick">xs:integer</span><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$magnitude</span><span class="whitespace" start="22"> </span><span class="op" start="23">*</span><span class="whitespace" start="24"> </span><a href="xslt/base/html/param.xsl.html#v?pixels.per.inch" class="solar"><span class="variable" start="25" select="quick">$pixels.per.inch</span></a><span class="whitespace" start="41"> </span><span class="op" start="42">div</span><span class="whitespace" start="45"> </span><span class="numeric" start="46">2.54</span><span class="parenthesis" start="50">)</span><span class="z">"</span><span id="wx6647" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6651" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w6653"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$units</span><span class="whitespace" start="7"> </span><span class="op" start="8">=</span><span class="whitespace" start="9"> </span><span class="op">'</span><span class="literal" start="10">mm</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w6669"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="50" select="quick">xs:integer</span><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$magnitude</span><span class="whitespace" start="22"> </span><span class="op" start="23">*</span><span class="whitespace" start="24"> </span><a href="xslt/base/html/param.xsl.html#v?pixels.per.inch" class="solar"><span class="variable" start="25" select="quick">$pixels.per.inch</span></a><span class="whitespace" start="41"> </span><span class="op" start="42">div</span><span class="whitespace" start="45"> </span><span class="numeric" start="46">25.4</span><span class="parenthesis" start="50">)</span><span class="z">"</span><span id="wx6688" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6692" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w6694"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$units</span><span class="whitespace" start="7"> </span><span class="op" start="8">=</span><span class="whitespace" start="9"> </span><span class="op">'</span><span class="literal" start="10">pc</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w6710"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="53" select="quick">xs:integer</span><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$magnitude</span><span class="whitespace" start="22"> </span><span class="op" start="23">*</span><span class="whitespace" start="24"> </span><a href="xslt/base/html/param.xsl.html#v?pixels.per.inch" class="solar"><span class="variable" start="25" select="quick">$pixels.per.inch</span></a><span class="whitespace" start="41"> </span><span class="op" start="42">div</span><span class="whitespace" start="45"> </span><span class="numeric" start="46">72</span><span class="whitespace" start="48"> </span><span class="op" start="49">*</span><span class="whitespace" start="50"> </span><span class="numeric" start="51">12</span><span class="parenthesis" start="53">)</span><span class="z">"</span><span id="wx6733" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6737" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w6739"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$units</span><span class="whitespace" start="7"> </span><span class="op" start="8">=</span><span class="whitespace" start="9"> </span><span class="op">'</span><span class="literal" start="10">pt</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w6755"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="48" select="quick">xs:integer</span><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$magnitude</span><span class="whitespace" start="22"> </span><span class="op" start="23">*</span><span class="whitespace" start="24"> </span><a href="xslt/base/html/param.xsl.html#v?pixels.per.inch" class="solar"><span class="variable" start="25" select="quick">$pixels.per.inch</span></a><span class="whitespace" start="41"> </span><span class="op" start="42">div</span><span class="whitespace" start="45"> </span><span class="numeric" start="46">72</span><span class="parenthesis" start="48">)</span><span class="z">"</span><span id="wx6774" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6778" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w6780"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$units</span><span class="whitespace" start="7"> </span><span class="op" start="8">=</span><span class="whitespace" start="9"> </span><span class="op">'</span><span class="literal" start="10">px</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w6796"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="22" select="quick">xs:integer</span><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$magnitude</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span id="wx6807" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6811" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w6813"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w6817"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w6821"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Unrecognized units in f:convert-length: </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6827" class="ec">&gt;</span></span><span class="txt">
	    </span><span class="ww" id="w6829"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$units</span><span class="z">"</span><span id="wx6837" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx6841" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="z">&lt;!--</span><span class="cm"> 1in </span><span class="z">--&gt;</span><span class="txt">
	  </span><span class="ww" id="w6847"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?pixels.per.inch" class="solar"><span class="variable" start="1" select="quick">$pixels.per.inch</span></a><span class="z">"</span><span id="wx6855" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx6859" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6863" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6867" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6871" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx6875" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w6881"><span class="es">&lt;</span><span class="en">doc:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:find-element-by-attribute</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w6897"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Selects an element based on the presence of an attribute</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx6903" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w6905"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w6909"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">Given a sequence of elements and an attribute name, this
function returns the first element in the list that has the
specified attribute.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx6915" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx6919" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w6921"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w6925"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w6929"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w6933"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">elements</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx6939" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w6941"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w6945"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">A sequence of zero or more elements.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx6951" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx6955" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx6959" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w6961"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w6965"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">attr</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx6971" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w6973"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w6977"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The name of the attribute to find.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx6983" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx6987" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx6991" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx6995" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx6999" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w7001"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w7005"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">An element or the empty sequence if no element has the specified
attribute.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx7011" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx7015" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:function</span><span id="wx7019" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w7021"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension}find-element-by-attribute">f:find-element-by-attribute</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()?</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w7037"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?elements">elements</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()*</span><span class="z">"</span><span id="wx7051" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w7053"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?attr">attr</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:QName</span><span class="z">"</span><span id="wx7067" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w7069"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w7073"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="14" select="quick">not</span></a><span class="parenthesis">(</span><span class="variable" start="5" select="quick">$elements</span><span class="parenthesis" start="14">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w7086"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx7095" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7099" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w7101"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$elements</span><span class="filter" start="10" pair-end="12" select="quick">[</span><span class="numeric" start="11">1</span><span class="filter" start="12">]</span><span class="step" start="13">/</span><span class="axis" start="14">@</span><span class="qname" start="15" select="quick">*</span><span class="filter" start="16" pair-end="37" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="17" pair-end="28" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="27">.</span><span class="parenthesis" start="28">)</span><span class="whitespace" start="29"> </span><span class="op" start="30">=</span><span class="whitespace" start="31"> </span><span class="variable" start="32" select="quick">$attr</span><span class="filter" start="37">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w7127"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$elements</span><span class="filter" start="10" pair-end="12" select="quick">[</span><span class="numeric" start="11">1</span><span class="filter" start="12">]</span><span class="z">"</span><span id="wx7138" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7142" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w7144"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w7148"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}find-element-by-attribute" class="solar"><span class="function" start="1" pair-end="64" select="quick">f:find-element-by-attribute</span></a><span class="parenthesis">(</span><span class="variable" start="29" select="quick">$elements</span><span class="filter" start="38" pair-end="56" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-position" class="solar"><span class="function" start="39" pair-end="48" select="quick">position</span></a><span class="parenthesis">(</span><span class="parenthesis" start="48">)</span><span class="whitespace" start="49"> </span><span class="qname" start="50" select="quick">&amp;</span><span class="op" start="51">gt</span><span class="qname" start="53" select="quick">;</span><span class="whitespace" start="54"> </span><span class="numeric" start="55">1</span><span class="filter" start="56">]</span><span class="op" start="57">,</span><span class="whitespace" start="58"> </span><span class="variable" start="59" select="quick">$attr</span><span class="parenthesis" start="64">)</span><span class="z">"</span><span id="wx7173" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx7177" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx7181" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx7185" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w7191"><span class="es">&lt;</span><span class="en">doc:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:find-colspec-by-colnum</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w7207"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Finds the </span><span class="ww" id="w7211"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">colspec</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx7217" class="ec">&gt;</span></span><span class="txt"> for the specified column
number.</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx7221" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w7223"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w7227"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">Searches the </span><span class="ww" id="w7231"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">colspec</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx7237" class="ec">&gt;</span></span><span class="txt"> elements and returns the one
for the specified column.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx7241" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx7245" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w7247"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w7251"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w7255"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w7259"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">tgroup</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx7265" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w7267"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w7271"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The </span><span class="ww" id="w7275"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">tgroup</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx7281" class="ec">&gt;</span></span><span class="txt"> element in which to search.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx7285" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx7289" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx7293" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w7295"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w7299"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">colnum</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx7305" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w7307"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w7311"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The column number.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx7317" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx7321" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx7325" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx7329" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx7333" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w7335"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w7339"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The </span><span class="ww" id="w7343"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">colspec</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx7349" class="ec">&gt;</span></span><span class="txt"> or the empty sequence if there is no
specification for that column.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx7353" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx7357" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:function</span><span id="wx7361" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w7363"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension}find-colspec-by-colnum">f:find-colspec-by-colnum</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()?</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w7379"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?tgroup">tgroup</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(db:tgroup)</span><span class="z">"</span><span id="wx7393" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w7395"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?colnum">colnum</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:integer</span><span class="z">"</span><span id="wx7409" class="sc">/&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w7411"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension/private}find-colspec" class="solar"><span class="function" start="1" pair-end="50" select="quick">fp:find-colspec</span></a><span class="parenthesis">(</span><span class="variable" start="17" select="quick">$tgroup</span><span class="step" start="24">/</span><span class="qname" start="25" select="quick">db:colspec</span><span class="filter" start="35" pair-end="37" select="quick">[</span><span class="numeric" start="36">1</span><span class="filter" start="37">]</span><span class="op" start="38">,</span><span class="whitespace" start="39"> </span><span class="variable" start="40" select="quick">$colnum</span><span class="op" start="47">,</span><span class="whitespace" start="48"> </span><span class="numeric" start="49">0</span><span class="parenthesis" start="50">)</span><span class="z">"</span><span id="wx7433" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx7437" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w7439"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension/private}find-colspec">fp:find-colspec</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()?</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w7455"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?colspec">colspec</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(db:colspec)?</span><span class="z">"</span><span id="wx7469" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w7471"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?colnum">colnum</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:integer</span><span class="z">"</span><span id="wx7485" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w7487"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?curcol">curcol</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:integer</span><span class="z">"</span><span id="wx7501" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w7503"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w7507"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="13" select="quick">not</span></a><span class="parenthesis">(</span><span class="variable" start="5" select="quick">$colspec</span><span class="parenthesis" start="13">)</span><span class="whitespace" start="14"> </span><span class="op" start="15">or</span><span class="whitespace" start="17"> </span><span class="variable" start="18" select="quick">$curcol</span><span class="whitespace" start="25"> </span><span class="qname" start="26" select="quick">&amp;</span><span class="op" start="27">gt</span><span class="qname" start="29" select="quick">;</span><span class="whitespace" start="30"> </span><span class="variable" start="31" select="quick">$colnum</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w7530"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx7539" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7543" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w7545"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">colnum</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w7558"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w7562"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colnum</span><span class="whitespace" start="8"> </span><span class="op" start="9">=</span><span class="whitespace" start="10"> </span><span class="variable" start="11" select="quick">$colspec</span><span class="step" start="19">/</span><span class="axis" start="20">@</span><span class="qname" start="21" select="quick">colnum</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w7579"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="z">"</span><span id="wx7587" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7591" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w7593"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w7597"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension/private}find-colspec" class="solar"><span class="function" start="1" pair-end="97" select="quick">fp:find-colspec</span></a><span class="parenthesis">(</span><span class="variable" start="17" select="quick">$colspec</span><span class="step" start="25">/</span><span class="axis" start="26">following-sibling::</span><span class="qname" start="45" select="quick">db:colspec</span><span class="filter" start="55" pair-end="57" select="quick">[</span><span class="numeric" start="56">1</span><span class="filter" start="57">]</span><span class="op" start="58">,</span><span class="whitespace" start="59"> </span><span class="variable" start="60" select="quick">$colnum</span><span class="op" start="67">,</span><span class="whitespace" start="68"> </span><span class="function" start="69" pair-end="96" select="quick">xs:integer</span><span class="parenthesis">(</span><span class="variable" start="80" select="quick">$colspec</span><span class="step" start="88">/</span><span class="axis" start="89">@</span><span class="qname" start="90" select="quick">colnum</span><span class="parenthesis" start="96">)</span><span class="parenthesis" start="97">)</span><span class="z">"</span><span id="wx7626" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx7630" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx7634" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7638" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w7640"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w7644"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w7648"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colnum</span><span class="whitespace" start="8"> </span><span class="op" start="9">=</span><span class="whitespace" start="10"> </span><span class="variable" start="11" select="quick">$curcol</span><span class="op" start="18">+</span><span class="numeric" start="19">1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w7664"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="z">"</span><span id="wx7672" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7676" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w7678"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w7682"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension/private}find-colspec" class="solar"><span class="function" start="1" pair-end="78" select="quick">fp:find-colspec</span></a><span class="parenthesis">(</span><span class="variable" start="17" select="quick">$colspec</span><span class="step" start="25">/</span><span class="axis" start="26">following-sibling::</span><span class="qname" start="45" select="quick">db:colspec</span><span class="filter" start="55" pair-end="57" select="quick">[</span><span class="numeric" start="56">1</span><span class="filter" start="57">]</span><span class="op" start="58">,</span><span class="whitespace" start="59"> </span><span class="variable" start="60" select="quick">$colnum</span><span class="op" start="67">,</span><span class="whitespace" start="68"> </span><span class="variable" start="69" select="quick">$colnum</span><span class="op" start="76">+</span><span class="numeric" start="77">1</span><span class="parenthesis" start="78">)</span><span class="z">"</span><span id="wx7707" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx7711" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx7715" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx7719" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx7723" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx7727" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w7733"><span class="es">&lt;</span><span class="en">doc:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:skip-overhang</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w7749"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Finds the next available column position in a CALS table</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx7755" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w7757"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w7761"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This function returns the next available column position in a
CALS table, skipping over the columns that contains cells which hang
down into the current row.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx7767" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx7771" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w7773"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w7777"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w7781"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w7785"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">overhang</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx7791" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w7793"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w7797"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">A sequence of integer values giving the depth of “overhang” from
previous rows for
cells in each column of the table.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx7803" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx7807" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx7811" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w7813"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w7817"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">pos</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx7823" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w7825"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w7829"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The nominal next column. This generally one more than the
current column number.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx7835" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx7839" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx7843" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx7847" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx7851" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w7853"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w7857"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The next available column in the row.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx7863" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx7867" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:function</span><span id="wx7871" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w7873"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension}skip-overhang">f:skip-overhang</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w7883"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?overhang">overhang</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:integer+</span><span class="z">"</span><span id="wx7897" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w7899"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?pos">pos</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:integer</span><span class="z">"</span><span id="wx7913" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w7915"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w7919"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pos</span><span class="whitespace" start="5"> </span><span class="qname" start="6" select="quick">&amp;</span><span class="op" start="7">gt</span><span class="qname" start="9" select="quick">;</span><span class="whitespace" start="10"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-count" class="solar"><span class="function" start="11" pair-end="26" select="quick">count</span></a><span class="parenthesis">(</span><span class="variable" start="17" select="quick">$overhang</span><span class="parenthesis" start="26">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w7938"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pos</span><span class="z">"</span><span id="wx7946" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7950" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w7952"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w7956"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="if" start="1">if</span><span class="whitespace" start="3"> </span><span class="parenthesis" start="4" pair-end="24" select="quick">(</span><span class="variable" start="5" select="quick">$overhang</span><span class="filter" start="14" pair-end="19" select="quick">[</span><span class="variable" start="15" select="quick">$pos</span><span class="filter" start="19">]</span><span class="whitespace" start="20"> </span><span class="op" start="21">=</span><span class="whitespace" start="22"> </span><span class="numeric" start="23">0</span><span class="parenthesis" start="24">)</span><span class="whitespace" start="25">
                      </span><span class="qname" start="26" select="quick">	</span><span class="qname" start="27" select="quick">	</span><span class="qname" start="28" select="quick">	</span><span class="whitespace" start="29">    </span><span class="op" start="33">then</span><span class="whitespace" start="37"> </span><span class="variable" start="38" select="quick">$pos</span><span class="whitespace" start="42">
                      </span><span class="qname" start="43" select="quick">	</span><span class="qname" start="44" select="quick">	</span><span class="qname" start="45" select="quick">	</span><span class="whitespace" start="46">    </span><span class="op" start="50">else</span><span class="whitespace" start="54"> </span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}skip-overhang" class="solar"><span class="function" start="55" pair-end="88" select="quick">f:skip-overhang</span></a><span class="parenthesis">(</span><span class="variable" start="71" select="quick">$overhang</span><span class="op" start="80">,</span><span class="whitespace" start="81"> </span><span class="variable" start="82" select="quick">$pos</span><span class="op" start="86">+</span><span class="numeric" start="87">1</span><span class="parenthesis" start="88">)</span><span class="z">"</span><span id="wx7999" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx8003" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx8007" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx8011" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w8017"><span class="es">&lt;</span><span class="en">doc:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:colspec-colnum</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8033"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Returns the column number associated with a particuluar
</span><span class="ww" id="w8037"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">colspec</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx8043" class="ec">&gt;</span></span><span class="txt">.</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx8047" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8049"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8053"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This function returns the column number of the specified
</span><span class="ww" id="w8057"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">colspec</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx8063" class="ec">&gt;</span></span><span class="txt">.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx8067" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx8071" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8073"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8077"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8081"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w8085"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">colspec</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx8091" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w8093"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8097"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The </span><span class="ww" id="w8101"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">colspec</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx8107" class="ec">&gt;</span></span><span class="txt"> element.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx8111" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx8115" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx8119" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx8123" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx8127" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8129"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8133"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The column number associated with that </span><span class="ww" id="w8137"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">colspec</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx8143" class="ec">&gt;</span></span><span class="txt">.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx8147" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx8151" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:function</span><span id="wx8155" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8157"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension}colspec-colnum">f:colspec-colnum</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:integer</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w8173"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?colspec">colspec</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(db:colspec)</span><span class="z">"</span><span id="wx8187" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w8189"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w8193"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">colnum</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w8206"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">colnum</span><span class="z">"</span><span id="wx8217" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx8221" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w8223"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">preceding-sibling::</span><span class="qname" start="29" select="quick">db:colspec</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w8236"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}colspec-colnum" class="solar"><span class="function" start="1" pair-end="70" select="quick">f:colspec-colnum</span></a><span class="parenthesis">(</span><span class="whitespace" start="18">
                      </span><span class="qname" start="19" select="quick">	</span><span class="qname" start="20" select="quick">	</span><span class="qname" start="21" select="quick">	</span><span class="whitespace" start="22">       </span><span class="variable" start="29" select="quick">$colspec</span><span class="step" start="37">/</span><span class="axis" start="38">preceding-sibling::</span><span class="qname" start="57" select="quick">db:colspec</span><span class="filter" start="67" pair-end="69" select="quick">[</span><span class="numeric" start="68">1</span><span class="filter" start="69">]</span><span class="parenthesis" start="70">)</span><span class="whitespace" start="71">
                      </span><span class="qname" start="72" select="quick">	</span><span class="whitespace" start="73">                    </span><span class="op" start="93">+</span><span class="whitespace" start="94"> </span><span class="numeric" start="95">1</span><span class="z">"</span><span id="wx8264" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx8268" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w8270"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w8274"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">1</span><span class="z">"</span><span id="wx8282" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx8286" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx8290" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx8294" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w8300"><span class="es">&lt;</span><span class="en">doc:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:spanspec-colnum-start</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8316"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Returns the column number of the starting column of a
span</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx8322" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8324"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8328"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This function returns the column number of the starting column
of a span.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx8334" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx8338" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8340"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8344"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8348"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w8352"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">spanspec</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx8358" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w8360"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8364"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The </span><span class="ww" id="w8368"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">spanspec</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx8374" class="ec">&gt;</span></span><span class="txt"> element.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx8378" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx8382" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx8386" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx8390" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx8394" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8396"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8400"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The column number associated with the first column of the
span.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx8406" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx8410" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:function</span><span id="wx8414" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8416"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension}spanspec-colnum-start">f:spanspec-colnum-start</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:integer</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w8432"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?spanspec">spanspec</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(db:spanspec)</span><span class="z">"</span><span id="wx8446" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w8448"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}colspec-colnum" class="solar"><span class="function" start="1" pair-end="99" select="quick">f:colspec-colnum</span></a><span class="parenthesis">(</span><span class="variable" start="18" select="quick">$spanspec</span><span class="step" start="27">/</span><span class="axis" start="28">ancestor::</span><span class="qname" start="38" select="quick">db:tgroup</span><span class="filter" start="47" pair-end="49" select="quick">[</span><span class="numeric" start="48">1</span><span class="filter" start="49">]</span><span class="whitespace" start="50">
                      </span><span class="qname" start="51" select="quick">	</span><span class="qname" start="52" select="quick">	</span><span class="qname" start="53" select="quick">	</span><span class="whitespace" start="54">      </span><span class="step" start="60">/</span><span class="qname" start="61" select="quick">db:colspec</span><span class="filter" start="71" pair-end="98" select="quick">[</span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">colname</span><span class="op" start="80">=</span><span class="variable" start="81" select="quick">$spanspec</span><span class="step" start="90">/</span><span class="axis" start="91">@</span><span class="qname" start="92" select="quick">namest</span><span class="filter" start="98">]</span><span class="parenthesis" start="99">)</span><span class="z">"</span><span id="wx8481" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx8485" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w8491"><span class="es">&lt;</span><span class="en">doc:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:spanspec-colnum-end</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8507"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Returns the column number of the ending column of a
span</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx8513" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8515"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8519"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This function returns the column number of the ending column
of a span.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx8525" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx8529" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8531"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8535"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8539"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w8543"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">spanspec</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx8549" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w8551"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8555"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The </span><span class="ww" id="w8559"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">spanspec</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx8565" class="ec">&gt;</span></span><span class="txt"> element.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx8569" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx8573" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx8577" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx8581" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx8585" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8587"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8591"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The column number associated with the last column of the span.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx8597" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx8601" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:function</span><span id="wx8605" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8607"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension}spanspec-colnum-end">f:spanspec-colnum-end</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:integer</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w8623"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?spanspec">spanspec</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(db:spanspec)</span><span class="z">"</span><span id="wx8637" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w8639"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}colspec-colnum" class="solar"><span class="function" start="1" pair-end="100" select="quick">f:colspec-colnum</span></a><span class="parenthesis">(</span><span class="variable" start="18" select="quick">$spanspec</span><span class="step" start="27">/</span><span class="axis" start="28">ancestor::</span><span class="qname" start="38" select="quick">db:tgroup</span><span class="filter" start="47" pair-end="49" select="quick">[</span><span class="numeric" start="48">1</span><span class="filter" start="49">]</span><span class="whitespace" start="50">
                      </span><span class="qname" start="51" select="quick">	</span><span class="qname" start="52" select="quick">	</span><span class="qname" start="53" select="quick">	</span><span class="whitespace" start="54">      </span><span class="step" start="60">/</span><span class="qname" start="61" select="quick">db:colspec</span><span class="filter" start="71" pair-end="99" select="quick">[</span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">colname</span><span class="op" start="80">=</span><span class="variable" start="81" select="quick">$spanspec</span><span class="step" start="90">/</span><span class="axis" start="91">@</span><span class="qname" start="92" select="quick">nameend</span><span class="filter" start="99">]</span><span class="parenthesis" start="100">)</span><span class="z">"</span><span id="wx8672" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx8676" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w8682"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">generate-colgroup</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8698"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Generates an HTML </span><span class="ww" id="w8702"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">colgroup</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx8708" class="ec">&gt;</span></span><span class="txt">.</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx8712" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8714"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8718"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">Generates an HTML </span><span class="ww" id="w8722"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">colgroup</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx8728" class="ec">&gt;</span></span><span class="txt"> for the CALS table.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx8732" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx8736" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8738"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8742"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8746"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="z"> </span><span class="atn">role</span><span class="atneq">=</span><span class="z">"</span><span class="av">required</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w8756"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">cols</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx8762" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w8764"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8768"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The number of columns in the table.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx8774" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx8778" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx8782" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx8786" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx8790" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8792"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w8796"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">A sequence of one or more </span><span class="ww" id="w8800"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">col</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx8806" class="ec">&gt;</span></span><span class="txt"> elements.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx8810" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx8814" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx8818" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w8820"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?generate-colgroup">generate-colgroup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w8830"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?cols">cols</span><span class="z">"</span><span class="z"> </span><span class="atn">required</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx8844" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w8846"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?count">count</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">1</span><span class="z">"</span><span id="wx8860" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w8862"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w8866"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$count</span><span class="whitespace" start="7"> </span><span class="qname" start="8" select="quick">&amp;</span><span class="op" start="9">gt</span><span class="qname" start="11" select="quick">;</span><span class="whitespace" start="12"> </span><span class="variable" start="13" select="quick">$cols</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"></span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx8884" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w8886"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w8890"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#t?generate-col" class="solar"><span class="tcall">generate-col</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w8900"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">countcol</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$count</span><span class="z">"</span><span id="wx8914" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx8918" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w8920"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#t?generate-colgroup" class="solar"><span class="tcall">generate-colgroup</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w8930"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">cols</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$cols</span><span class="z">"</span><span id="wx8944" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w8946"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">count</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$count</span><span class="op" start="7">+</span><span class="numeric" start="8">1</span><span class="z">"</span><span id="wx8962" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx8966" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx8970" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx8974" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx8978" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w8984"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">generate-col</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w9000"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Generates an HTML </span><span class="ww" id="w9004"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">col</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx9010" class="ec">&gt;</span></span><span class="txt">.</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx9014" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w9016"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w9020"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">Generates an HTML </span><span class="ww" id="w9024"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">col</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx9030" class="ec">&gt;</span></span><span class="txt"> for a
</span><span class="ww" id="w9032"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">colgroup</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx9038" class="ec">&gt;</span></span><span class="txt">.
See </span><span class="ww" id="w9040"><span class="es">&lt;</span><span class="en">function</span><span class="z"> </span><span class="atn">role</span><span class="atneq">=</span><span class="z">"</span><span class="av">named-template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">generate-colgroup</span><span class="ez">&lt;/</span><span class="cl">function</span><span id="wx9052" class="ec">&gt;</span></span><span class="txt">.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx9056" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx9060" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w9062"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w9066"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w9070"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="z"> </span><span class="atn">role</span><span class="atneq">=</span><span class="z">"</span><span class="av">required</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w9080"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">countcol</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx9086" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w9088"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w9092"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The number of the column.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx9098" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx9102" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx9106" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx9110" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx9114" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w9116"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w9120"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">A </span><span class="ww" id="w9124"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">col</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx9130" class="ec">&gt;</span></span><span class="txt"> element.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx9134" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx9138" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx9142" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w9144"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?generate-col">generate-col</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w9154"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?countcol">countcol</span><span class="z">"</span><span class="z"> </span><span class="atn">required</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx9168" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w9170"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?colspecs">colspecs</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="step" start="2">/</span><span class="qname" start="3" select="quick">db:colspec</span><span class="z">"</span><span id="wx9186" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w9188"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?count">count</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">1</span><span class="ez">&lt;/</span><span class="clxsl">xsl:param</span><span id="wx9200" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w9202"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?colnum">colnum</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">1</span><span class="ez">&lt;/</span><span class="clxsl">xsl:param</span><span id="wx9214" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w9216"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w9220"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$count</span><span class="whitespace" start="7"> </span><span class="qname" start="8" select="quick">&amp;</span><span class="op" start="9">gt</span><span class="qname" start="11" select="quick">;</span><span class="whitespace" start="12"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-count" class="solar"><span class="function" start="13" pair-end="28" select="quick">count</span></a><span class="parenthesis">(</span><span class="variable" start="19" select="quick">$colspecs</span><span class="parenthesis" start="28">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w9239"><span class="es">&lt;</span><span class="en">col</span><span id="wx9241" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx9245" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w9247"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w9251"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?colspec">colspec</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspecs</span><span class="filter" start="10" pair-end="28" select="quick">[</span><span class="variable" start="11" select="quick">$count</span><span class="op" start="17">=</span><a href="http://www.w3.org/TR/xpath-functions/#func-position" class="solar"><span class="function" start="18" pair-end="27" select="quick">position</span></a><span class="parenthesis">(</span><span class="parenthesis" start="27">)</span><span class="filter" start="28">]</span><span class="z">"</span><span id="wx9272" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w9274"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?colspec.colnum">colspec.colnum</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w9284"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w9288"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">colnum</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w9301"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">colnum</span><span class="z">"</span><span id="wx9312" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx9316" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w9318"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w9322"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colnum</span><span class="z">"</span><span id="wx9330" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx9334" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx9338" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx9342" class="ec">&gt;</span></span><span class="txt">

      </span><span class="ww" id="w9344"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w9348"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec.colnum</span><span class="op" start="16">=</span><span class="variable" start="17" select="quick">$countcol</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w9360"><span class="es">&lt;</span><span class="en">col</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w9364"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">colwidth</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	      </span><span class="ww" id="w9377"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">width</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
		</span><span class="ww" id="w9387"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
		  </span><span class="ww" id="w9391"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-normalize-space" class="solar"><span class="function" start="1" pair-end="35" select="quick">normalize-space</span></a><span class="parenthesis">(</span><span class="variable" start="17" select="quick">$colspec</span><span class="step" start="25">/</span><span class="axis" start="26">@</span><span class="qname" start="27" select="quick">colwidth</span><span class="parenthesis" start="35">)</span><span class="whitespace" start="36"> </span><span class="op" start="37">=</span><span class="whitespace" start="38"> </span><span class="op">'</span><span class="literal" start="39">*</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
		    </span><span class="ww" id="w9413"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">1*</span><span class="op">'</span><span class="z">"</span><span id="wx9423" class="sc">/&gt;</span></span><span class="txt">
		  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx9427" class="ec">&gt;</span></span><span class="txt">
		  </span><span class="ww" id="w9429"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
		    </span><span class="ww" id="w9433"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">colwidth</span><span class="z">"</span><span id="wx9444" class="sc">/&gt;</span></span><span class="txt">
		  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx9448" class="ec">&gt;</span></span><span class="txt">
		</span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx9452" class="ec">&gt;</span></span><span class="txt">
	      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx9456" class="ec">&gt;</span></span><span class="txt">
	    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx9460" class="ec">&gt;</span></span><span class="txt">

	    </span><span class="ww" id="w9462"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	      </span><span class="ww" id="w9466"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">align</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
		</span><span class="ww" id="w9479"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">align</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
		  </span><span class="ww" id="w9489"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">align</span><span class="z">"</span><span id="wx9500" class="sc">/&gt;</span></span><span class="txt">
		</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx9504" class="ec">&gt;</span></span><span class="txt">
	      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx9508" class="ec">&gt;</span></span><span class="txt">
	      </span><span class="z">&lt;!--</span><span class="cm"> Suggested by Pavel ZAMPACH &lt;zampach@nemcb.cz&gt; </span><span class="z">--&gt;</span><span class="txt">
	      </span><span class="ww" id="w9514"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspecs</span><span class="step" start="10">/</span><span class="axis" start="11">parent::</span><span class="qname" start="19" select="quick">db:tgroup</span><span class="step" start="28">/</span><span class="axis" start="29">@</span><span class="qname" start="30" select="quick">align</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
		</span><span class="ww" id="w9530"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">align</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w9540"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspecs</span><span class="step" start="10">/</span><span class="axis" start="11">parent::</span><span class="qname" start="19" select="quick">db:tgroup</span><span class="step" start="28">/</span><span class="axis" start="29">@</span><span class="qname" start="30" select="quick">align</span><span class="z">"</span><span id="wx9554" class="sc">/&gt;</span></span><span class="txt">
		</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx9558" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx9562" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx9566" class="ec">&gt;</span></span><span class="txt">

	    </span><span class="ww" id="w9568"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">char</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w9581"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">char</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w9591"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">char</span><span class="z">"</span><span id="wx9602" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx9606" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx9610" class="ec">&gt;</span></span><span class="txt">

            </span><span class="ww" id="w9612"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">charoff</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w9625"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">charoff</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w9635"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">charoff</span><span class="z">"</span><span id="wx9646" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx9650" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx9654" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="cl">col</span><span id="wx9658" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx9662" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w9664"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w9668"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#t?generate-col" class="solar"><span class="tcall">generate-col</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w9678"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">countcol</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$countcol</span><span class="z">"</span><span id="wx9692" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w9694"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">colspecs</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspecs</span><span class="z">"</span><span id="wx9708" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w9710"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">count</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$count</span><span class="op" start="7">+</span><span class="numeric" start="8">1</span><span class="z">"</span><span id="wx9726" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w9728"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">colnum</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w9738"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w9742"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">colnum</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w9755"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colspec</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">colnum</span><span class="whitespace" start="17"> </span><span class="op" start="18">+</span><span class="whitespace" start="19"> </span><span class="numeric" start="20">1</span><span class="z">"</span><span id="wx9770" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx9774" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w9776"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w9780"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colnum</span><span class="whitespace" start="8"> </span><span class="op" start="9">+</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">1</span><span class="z">"</span><span id="wx9792" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx9796" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx9800" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx9804" class="ec">&gt;</span></span><span class="txt">
           </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx9808" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx9812" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx9816" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx9820" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx9824" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx9828" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="clxsl">xsl:stylesheet</span><span id="wx9832" class="ec">&gt;</span></span><span class="txt">
</span></p></div></body></html>