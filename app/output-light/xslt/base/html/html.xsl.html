<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>html.xsl</title><link rel="stylesheet" type="text/css" href="../../../theme.css"></head><body><div><p class="spectrum"><span class="z">&lt;?</span><span class="pi">xml version="1.0" encoding="utf-8"</span><span class="z">?&gt;</span><span class="txt">
</span><span class="ww" id="w5"><span class="es">&lt;</span><span class="enxsl">xsl:stylesheet</span><span class="z"> </span><span class="atn">xmlns:xsl</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/XSL/Transform</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:db</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:doc</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://nwalsh.com/xsl/documentation/1.0</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:f</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/extension</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:fn</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2005/xpath-functions</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:h</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:m</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/mode</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:t</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/template</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:u</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://nwalsh.com/xsl/unittests#</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:xlink</span><span class="atneq">=</span><span class="z">'</span><span class="av">http://www.w3.org/1999/xlink</span><span class="z">'</span><span class="z">
                                </span><span class="atn">xmlns:xs</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2001/XMLSchema</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                                </span><span class="atn">exclude-result-prefixes</span><span class="atneq">=</span><span class="z">"</span><span class="av">db doc f fn h m t u xlink xs</span><span class="z">"</span><span class="z">
                                </span><span class="atn">version</span><span class="atneq">=</span><span class="z">"</span><span class="av">2.0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w97"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?body.fontset">body.fontset</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> this isn't used by the HTML stylesheets, but it's in common/functions </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:param</span><span id="wx113" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w119"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">anchor</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w135"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Returns an XHTML anchor if appropriate</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx141" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w143"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w147"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template returns an XHTML anchor
(</span><span class="ww" id="w151"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">starttag</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">a</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx163" class="ec">&gt;</span></span><span class="txt">) if the specified
node has an </span><span class="ww" id="w165"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">id</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx177" class="ec">&gt;</span></span><span class="txt">
(or </span><span class="ww" id="w179"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">xml:id</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx191" class="ec">&gt;</span></span><span class="txt">) attribute or if the
</span><span class="ww" id="w193"><span class="es">&lt;</span><span class="en">parameter</span><span class="scx">&gt;</span><span class="txt">force</span><span class="ez">&lt;/</span><span class="cl">parameter</span><span id="wx199" class="ec">&gt;</span></span><span class="txt"> parameter is non-zero.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx203" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w205"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">If an anchor is generated, it's </span><span class="ww" id="w209"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">id</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx221" class="ec">&gt;</span></span><span class="txt">
value is </span><span class="ww" id="w223"><span class="es">&lt;</span><span class="en">function</span><span class="scx">&gt;</span><span class="txt">f:node-id()</span><span class="ez">&lt;/</span><span class="cl">function</span><span id="wx229" class="ec">&gt;</span></span><span class="txt">.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx233" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx237" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w239"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w243"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w247"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w251"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">node</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx257" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w259"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w263"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The node for which an anchor should be generated. It defaults to
the context item.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx269" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx273" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx277" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w279"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w283"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">force</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx289" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w291"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w295"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">To force an anchor to be generated, even if the node does
not have an ID, make this parameter non-zero. It defaults to 0.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx301" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx305" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx309" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx313" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx317" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w319"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w323"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">An XHTML anchor or nothing.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx329" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx333" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w335"><span class="es">&lt;</span><span class="en">u:unittests</span><span class="z"> </span><span class="atn">template</span><span class="atneq">=</span><span class="z">"</span><span class="av">anchor</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w345"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w349"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w365"><span class="es">&lt;</span><span class="en">db:para</span><span class="z"> </span><span class="atn">xml:id</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span id="wx373" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx377" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w379"><span class="es">&lt;</span><span class="en">u:result</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w383"><span class="es">&lt;</span><span class="en">a</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span class="z"> </span><span class="atn">id</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span id="wx403" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx407" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx411" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">u:unittests</span><span id="wx415" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx419" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w421"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?anchor">anchor</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w431"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx445" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w447"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?force">force</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">0</span><span class="z">"</span><span id="wx461" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w463"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$force</span><span class="whitespace" start="7"> </span><span class="op" start="8">!=</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">0</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="parenthesis" start="16" pair-end="43" select="quick">(</span><span class="variable" start="17" select="quick">$node</span><span class="step" start="22">/</span><span class="axis" start="23">@</span><span class="qname" start="24" select="quick">id</span><span class="whitespace" start="26"> </span><span class="op" start="27">or</span><span class="whitespace" start="29"> </span><span class="variable" start="30" select="quick">$node</span><span class="step" start="35">/</span><span class="axis" start="36">@</span><span class="qname" start="37" select="quick">xml:id</span><span class="parenthesis" start="43">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w493"><span class="es">&lt;</span><span class="en">a</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}node-id" class="solar"><span class="function" start="1" pair-end="16" select="quick">f:node-id</span></a><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$node</span><span class="parenthesis" start="16">)</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">id</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}node-id" class="solar"><span class="function" start="1" pair-end="16" select="quick">f:node-id</span></a><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$node</span><span class="parenthesis" start="16">)</span><span class="op">}</span><span class="z">"</span><span id="wx517" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx521" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx525" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w531"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">class</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w547"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Returns an “class” attribute if appropriate</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx553" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w555"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w559"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template returns an attribute named “class” if the specified
node has an </span><span class="ww" id="w563"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">role</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx575" class="ec">&gt;</span></span><span class="txt"> attribute or if the
</span><span class="ww" id="w577"><span class="es">&lt;</span><span class="en">parameter</span><span class="scx">&gt;</span><span class="txt">force</span><span class="ez">&lt;/</span><span class="cl">parameter</span><span id="wx583" class="ec">&gt;</span></span><span class="txt"> parameter is non-zero.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx587" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx591" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w593"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w597"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w601"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w605"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">node</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx611" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w613"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w617"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The node for which an class attribute should be generated. It defaults to
the context item.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx623" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx627" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx631" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w633"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w637"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">force</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx643" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w645"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w649"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">To force a “class” attribute to be generated, even if the node does
not have a </span><span class="ww" id="w653"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">role</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx665" class="ec">&gt;</span></span><span class="txt">,
make this parameter non-zero. It defaults to 0.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx669" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx673" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx677" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w679"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w683"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">default-role</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx689" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w691"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w695"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The default role that will be used if the attribute is forced
and the node has no </span><span class="ww" id="w699"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">role</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx711" class="ec">&gt;</span></span><span class="txt">.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx715" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx719" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx723" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx727" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx731" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w733"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w737"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">An “class” attribute or nothing.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx743" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx747" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx751" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w753"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?class">class</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w763"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx777" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w779"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?force">force</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">0</span><span class="z">"</span><span id="wx793" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w795"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?default-role">default-role</span><span class="z">"</span><span id="wx803" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w805"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?role">role</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="if" start="1">if</span><span class="whitespace" start="3"> </span><span class="parenthesis" start="4" pair-end="16" select="quick">(</span><span class="variable" start="5" select="quick">$node</span><span class="step" start="10">/</span><span class="axis" start="11">@</span><span class="qname" start="12" select="quick">role</span><span class="parenthesis" start="16">)</span><span class="whitespace" start="17"> </span><span class="op" start="18">then</span><span class="whitespace" start="22"> </span><span class="variable" start="23" select="quick">$node</span><span class="step" start="28">/</span><span class="axis" start="29">@</span><span class="qname" start="30" select="quick">role</span><span class="whitespace" start="34"> </span><span class="op" start="35">else</span><span class="whitespace" start="39"> </span><span class="variable" start="40" select="quick">$default-role</span><span class="z">"</span><span id="wx837" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w839"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$force</span><span class="whitespace" start="7"> </span><span class="op" start="8">!=</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">0</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$node</span><span class="step" start="21">/</span><span class="axis" start="22">@</span><span class="qname" start="23" select="quick">role</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w860"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">class</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx874" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx878" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx882" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w888"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">style</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w904"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Returns a “style” attribute if appropriate</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx910" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w912"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w916"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template returns an attribute named “style” if the
global parameter </span><span class="ww" id="w920"><span class="es">&lt;</span><span class="en">parameter</span><span class="scx">&gt;</span><span class="txt">inline.style.attribute</span><span class="ez">&lt;/</span><span class="cl">parameter</span><span id="wx926" class="ec">&gt;</span></span><span class="txt"> is non-zero
and a CSS style is specified.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx930" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx934" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w936"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w940"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w944"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w948"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">css</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx954" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w956"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w960"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The CSS style to apply.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx966" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx970" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx974" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx978" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx982" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w984"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w988"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">A “style” attribute or nothing.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx994" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx998" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx1002" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1004"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?style">style</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1014"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?css">css</span><span class="z">"</span><span id="wx1022" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1024"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?inline.style.attribute" class="solar"><span class="variable" start="1" select="quick">$inline.style.attribute</span></a><span class="whitespace" start="24"> </span><span class="op" start="25">!=</span><span class="whitespace" start="27"> </span><span class="numeric" start="28">0</span><span class="whitespace" start="29"> </span><span class="op" start="30">and</span><span class="whitespace" start="33"> </span><span class="variable" start="34" select="quick">$css</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1042"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">style</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1052"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$css</span><span class="z">"</span><span id="wx1060" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx1064" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1068" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1072" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w1078"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">t:javascript</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1094"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Template for inserting Javascript</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx1100" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1102"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1106"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">T.B.D.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1112" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx1116" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx1120" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1122"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}javascript">t:javascript</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1132"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1146" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1148"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="step" start="1">//</span><span class="qname" start="3" select="quick">db:annotation</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1159"><span class="es">&lt;</span><span class="en">script</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/javascript</span><span class="z">"</span><span class="z"> </span><span class="atn">src</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.github.com/latest/js/AnchorPosition.js</span><span class="z">"</span><span id="wx1173" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1175"><span class="es">&lt;</span><span class="en">script</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/javascript</span><span class="z">"</span><span class="z"> </span><span class="atn">src</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.github.com/latest/js/PopupWindow.js</span><span class="z">"</span><span id="wx1189" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1191"><span class="es">&lt;</span><span class="en">script</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/javascript</span><span class="z">"</span><span class="z"> </span><span class="atn">src</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.github.com/latest/js/annotation.js</span><span class="z">"</span><span id="wx1205" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1209" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1211"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="step" start="1">//</span><span class="qname" start="3" select="quick">*</span><span class="filter" start="4" pair-end="27" select="quick">[</span><span class="axis" start="5">@</span><span class="qname" start="6" select="quick">xlink:type</span><span class="op" start="16">=</span><span class="op">'</span><span class="literal" start="17">extended</span><span class="op">'</span><span class="filter" start="27">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1230"><span class="es">&lt;</span><span class="en">script</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/javascript</span><span class="z">"</span><span class="z"> </span><span class="atn">src</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js</span><span class="z">"</span><span id="wx1244" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1246"><span class="es">&lt;</span><span class="en">script</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/javascript</span><span class="z">"</span><span class="z"> </span><span class="atn">src</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.min.js</span><span class="z">"</span><span id="wx1260" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1262"><span class="es">&lt;</span><span class="en">link</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/css</span><span class="z">"</span><span class="z"> </span><span class="atn">rel</span><span class="atneq">=</span><span class="z">"</span><span class="av">stylesheet</span><span class="z">"</span><span class="z">
                </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/start/jquery-ui.css</span><span class="z">"</span><span id="wx1282" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1284"><span class="es">&lt;</span><span class="en">script</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/javascript</span><span class="z">"</span><span class="z"> </span><span class="atn">src</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.github.com/latest/js/nhrefs.js</span><span class="z">"</span><span id="wx1298" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1302" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1306" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w1312"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">t:head</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1328"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Template for generating the head element</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx1334" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1336"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1340"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template is called to generate the HTML head for the
primary result document.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1346" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx1350" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx1354" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1356"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}head">t:head</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1366"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1380" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1382"><span class="es">&lt;</span><span class="en">head</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1386"><span class="es">&lt;</span><span class="en">title</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1390"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}title" class="solar"><span class="function" start="1" pair-end="14" select="quick">f:title</span></a><span class="parenthesis">(</span><span class="variable" start="9" select="quick">$node</span><span class="parenthesis" start="14">)</span><span class="z">"</span><span id="wx1401" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">title</span><span id="wx1405" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1407"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?html.base" class="solar"><span class="variable" start="1" select="quick">$html.base</span></a><span class="whitespace" start="11"> </span><span class="op" start="12">!=</span><span class="whitespace" start="14"> </span><span class="op">'</span><span class="literal" start="15"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1423"><span class="es">&lt;</span><span class="en">base</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="xslt/base/html/param.xsl.html#v?html.base" class="solar"><span class="variable" start="1" select="quick">$html.base</span></a><span class="op">}</span><span class="z">"</span><span id="wx1433" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1437" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1439"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/html.xsl.html#t?{http://docbook.org/xslt/ns/template}system-head-content" class="solar"><span class="tcall">t:system-head-content</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1449"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span id="wx1463" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1467" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1469"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/html.xsl.html#t?{http://docbook.org/xslt/ns/template}head-meta" class="solar"><span class="tcall">t:head-meta</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1479"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span id="wx1493" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1497" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1499"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/html.xsl.html#t?{http://docbook.org/xslt/ns/template}head-links" class="solar"><span class="tcall">t:head-links</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1509"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span id="wx1523" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1527" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1529"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="136" select="quick">(</span><a href="xslt/base/html/param.xsl.html#v?draft.mode" class="solar"><span class="variable" start="2" select="quick">$draft.mode</span></a><span class="whitespace" start="13"> </span><span class="op" start="14">=</span><span class="whitespace" start="15"> </span><span class="op">'</span><span class="literal" start="16">yes</span><span class="op">'</span><span class="whitespace" start="21">
                                 </span><span class="op" start="41">or</span><span class="whitespace" start="43"> </span><span class="parenthesis" start="44" pair-end="135" select="quick">(</span><a href="xslt/base/html/param.xsl.html#v?draft.mode" class="solar"><span class="variable" start="45" select="quick">$draft.mode</span></a><span class="whitespace" start="56"> </span><span class="op" start="57">=</span><span class="whitespace" start="58"> </span><span class="op">'</span><span class="literal" start="59">maybe</span><span class="op">'</span><span class="whitespace" start="66"> </span><span class="op" start="67">and</span><span class="whitespace" start="70">
              </span><span class="qname" start="71" select="quick">	</span><span class="qname" start="72" select="quick">	</span><span class="whitespace" start="73">       </span><span class="variable" start="80" select="quick">$node</span><span class="step" start="85">/</span><span class="axis" start="86">ancestor-or-self::</span><span class="qname" start="104" select="quick">*</span><span class="filter" start="105" pair-end="113" select="quick">[</span><span class="axis" start="106">@</span><span class="qname" start="107" select="quick">status</span><span class="filter" start="113">]</span><span class="filter" start="114" pair-end="116" select="quick">[</span><span class="numeric" start="115">1</span><span class="filter" start="116">]</span><span class="step" start="117">/</span><span class="axis" start="118">@</span><span class="qname" start="119" select="quick">status</span><span class="whitespace" start="125"> </span><span class="op" start="126">=</span><span class="whitespace" start="127"> </span><span class="op">'</span><span class="literal" start="128">draft</span><span class="op">'</span><span class="parenthesis" start="135">)</span><span class="parenthesis" start="136">)</span><span class="whitespace" start="137">
                                </span><span class="op" start="156">and</span><span class="whitespace" start="159"> </span><a href="xslt/base/html/param.xsl.html#v?draft.watermark.image" class="solar"><span class="variable" start="160" select="quick">$draft.watermark.image</span></a><span class="whitespace" start="182"> </span><span class="op" start="183">!=</span><span class="whitespace" start="185"> </span><span class="op">'</span><span class="literal" start="186"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1595"><span class="es">&lt;</span><span class="en">style</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/css</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
body { background-image: url('</span><span class="ww" id="w1605"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?draft.watermark.image" class="solar"><span class="variable" start="1" select="quick">$draft.watermark.image</span></a><span class="z">"</span><span id="wx1613" class="sc">/&gt;</span></span><span class="txt">');
       background-repeat: no-repeat;
       background-position: center center;
       /* The following property make the watermark "fixed" on the page. */
       /* I think that's just a bit too distracting for the reader... */
       /* background-attachment: fixed; */
     }
</span><span class="ez">&lt;/</span><span class="cl">style</span><span id="wx1617" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1621" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1623"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?html.stylesheets" class="solar"><span class="variable" start="1" select="quick">$html.stylesheets</span></a><span class="whitespace" start="18"> </span><span class="op" start="19">!=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1639"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-tokenize" class="solar"><span class="function" start="1" pair-end="34" select="quick">tokenize</span></a><span class="parenthesis">(</span><a href="xslt/base/html/param.xsl.html#v?html.stylesheets" class="solar"><span class="variable" start="10" select="quick">$html.stylesheets</span></a><span class="op" start="27">,</span><span class="whitespace" start="28"> </span><span class="op">'</span><span class="literal" start="29">\s+</span><span class="op">'</span><span class="parenthesis" start="34">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1657"><span class="es">&lt;</span><span class="en">link</span><span class="z"> </span><span class="atn">rel</span><span class="atneq">=</span><span class="z">"</span><span class="av">stylesheet</span><span class="z">"</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="context" start="1">.</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1675"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1679"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-ends-with" class="solar"><span class="function" start="1" pair-end="19" select="quick">ends-with</span></a><span class="parenthesis">(</span><span class="context" start="11">.</span><span class="op" start="12">,</span><span class="op">'</span><span class="literal" start="13">.css</span><span class="op">'</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w1696"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">text/css</span><span class="op">'</span><span class="z">"</span><span id="wx1712" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1716" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w1718"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="z">&lt;!--</span><span class="cm"> ??? what type is this ??? </span><span class="z">--&gt;</span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1728" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1732" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">link</span><span id="wx1736" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx1740" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1744" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1746"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/html.xsl.html#t?{http://docbook.org/xslt/ns/template}javascript" class="solar"><span class="tcall">t:javascript</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1756"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span id="wx1770" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1774" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1776"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/html.xsl.html#t?{http://docbook.org/xslt/ns/template}user-head-content" class="solar"><span class="tcall">t:user-head-content</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1786"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span id="wx1800" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1804" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">head</span><span id="wx1808" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1812" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w1818"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">t:head-meta</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1834"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Template for inserting metadata in the head</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx1840" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1842"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1846"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template is called in the HTML </span><span class="ww" id="w1850"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">head</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx1856" class="ec">&gt;</span></span><span class="txt"> to insert
HTML </span><span class="ww" id="w1858"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">meta</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx1864" class="ec">&gt;</span></span><span class="txt"> elements.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1868" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx1872" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx1876" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1878"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}head-meta">t:head-meta</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1888"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1902" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1904"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?generate.meta.generator" class="solar"><span class="variable" start="1" select="quick">$generate.meta.generator</span></a><span class="whitespace" start="25"> </span><span class="op" start="26">!=</span><span class="whitespace" start="28"> </span><span class="numeric" start="29">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1918"><span class="es">&lt;</span><span class="en">meta</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">generator</span><span class="z">"</span><span class="z"> </span><span class="atn">content</span><span class="atneq">=</span><span class="z">"</span><span class="av">DocBook XSL 2.0 Stylesheets V</span><span class="op">{</span><a href="VERSION.html#v?VERSION" class="solar"><span class="variable" start="1" select="quick">$VERSION</span></a><span class="op">}</span><span class="z">"</span><span id="wx1935" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1939" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1941"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?generate.meta.abstract" class="solar"><span class="variable" start="1" select="quick">$generate.meta.abstract</span></a><span class="whitespace" start="24"> </span><span class="op" start="25">!=</span><span class="whitespace" start="27"> </span><span class="numeric" start="28">0</span><span class="whitespace" start="29"> </span><span class="op" start="30">and</span><span class="whitespace" start="33"> </span><span class="variable" start="34" select="quick">$node</span><span class="step" start="39">/</span><span class="qname" start="40" select="quick">db:info</span><span class="step" start="47">/</span><span class="qname" start="48" select="quick">db:abstract</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1963"><span class="es">&lt;</span><span class="en">meta</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">description</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1973"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1983"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="step" start="6">/</span><span class="qname" start="7" select="quick">db:info</span><span class="step" start="14">/</span><span class="qname" start="15" select="quick">db:abstract</span><span class="filter" start="26" pair-end="28" select="quick">[</span><span class="numeric" start="27">1</span><span class="filter" start="28">]</span><span class="step" start="29">/</span><span class="qname" start="30" select="quick">*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2002"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx2010" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w2012"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-position" class="solar"><span class="function" start="1" pair-end="10" select="quick">position</span></a><span class="parenthesis">(</span><span class="parenthesis" start="10">)</span><span class="whitespace" start="11"> </span><span class="qname" start="12" select="quick">&amp;</span><span class="op" start="13">lt</span><span class="qname" start="15" select="quick">;</span><span class="whitespace" start="16"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-last" class="solar"><span class="function" start="17" pair-end="22" select="quick">last</span></a><span class="parenthesis">(</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2032"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2038" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2042" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx2046" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx2050" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">meta</span><span id="wx2054" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2058" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2060"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:head-keywords-content</span><span class="z">"</span><span id="wx2074" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2078" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w2084"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">t:head-links</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2100"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Template for inserting links in the head</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx2106" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2108"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2112"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template is called in the HTML </span><span class="ww" id="w2116"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">head</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2122" class="ec">&gt;</span></span><span class="txt"> to insert
HTML </span><span class="ww" id="w2124"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">link</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2130" class="ec">&gt;</span></span><span class="txt"> elements.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2134" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx2138" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx2142" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2144"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}head-links">t:head-links</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2154"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx2168" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2170"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2174"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="1" pair-end="20" select="quick">string</span></a><span class="parenthesis">(</span><a href="xslt/base/html/param.xsl.html#v?docbook.css" class="solar"><span class="variable" start="8" select="quick">$docbook.css</span></a><span class="parenthesis" start="20">)</span><span class="whitespace" start="21"> </span><span class="op" start="22">=</span><span class="whitespace" start="23"> </span><span class="op">'</span><span class="literal" start="24"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="z">&lt;!--</span><span class="cm"> nop </span><span class="z">--&gt;</span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2199" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2201"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?docbook.css.inline" class="solar"><span class="variable" start="1" select="quick">$docbook.css.inline</span></a><span class="whitespace" start="20"> </span><span class="op" start="21">=</span><span class="whitespace" start="22"> </span><span class="numeric" start="23">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2215"><span class="es">&lt;</span><span class="en">link</span><span class="z"> </span><span class="atn">rel</span><span class="atneq">=</span><span class="z">"</span><span class="av">stylesheet</span><span class="z">"</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/css</span><span class="z">"</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="xslt/base/html/param.xsl.html#v?docbook.css" class="solar"><span class="variable" start="1" select="quick">$docbook.css</span></a><span class="op">}</span><span class="z">"</span><span id="wx2237" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2241" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2243"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2247"><span class="es">&lt;</span><span class="en">style</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/css</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2257"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-unparsed-text" class="solar"><span class="function" start="1" pair-end="36" select="quick">unparsed-text</span></a><span class="parenthesis">(</span><a href="xslt/base/html/param.xsl.html#v?docbook.css" class="solar"><span class="variable" start="15" select="quick">$docbook.css</span></a><span class="op" start="27">,</span><span class="whitespace" start="28"> </span><span class="op">'</span><span class="literal" start="29">utf-8</span><span class="op">'</span><span class="parenthesis" start="36">)</span><span class="z">"</span><span id="wx2273" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">style</span><span id="wx2277" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2281" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2285" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2287"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?link.madeby.uri" class="solar"><span class="variable" start="1" select="quick">$link.madeby.uri</span></a><span class="whitespace" start="17"> </span><span class="op" start="18">!=</span><span class="whitespace" start="20"> </span><span class="op">'</span><span class="literal" start="21"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2303"><span class="es">&lt;</span><span class="en">link</span><span class="z"> </span><span class="atn">rev</span><span class="atneq">=</span><span class="z">"</span><span class="av">made</span><span class="z">"</span><span class="z">
                </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="xslt/base/html/param.xsl.html#v?link.madeby.uri" class="solar"><span class="variable" start="1" select="quick">$link.madeby.uri</span></a><span class="op">}</span><span class="z">"</span><span id="wx2319" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2323" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2327" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w2333"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">t:body-attributes</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2349"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Template for inserting attributes on the HTML body</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx2355" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2357"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2361"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">T.B.D.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2367" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx2371" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx2375" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2377"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}body-attributes">t:body-attributes</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> nop </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2393" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w2399"><span class="es">&lt;</span><span class="en">doc:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:href</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2415"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Returns a URI for the node</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx2421" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2423"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2427"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This function returns a URI suitable for use in a hypertext link
for the specified node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2433" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx2437" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2439"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2443"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2447"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w2451"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">context</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx2457" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2459"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2463"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The context in which the link will be used. (This is necessary
when chunking.)</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2469" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2473" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx2477" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2479"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w2483"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">node</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx2489" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2491"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2495"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The node for which a URI will be generated.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2501" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2505" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx2509" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx2513" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx2517" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2519"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2523"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The hypertext anchor URI for the node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2529" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx2533" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2535"><span class="es">&lt;</span><span class="en">u:unittests</span><span class="z"> </span><span class="atn">function</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:href</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2545"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2549"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="av">/</span><span class="z">"</span><span id="wx2557" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2559"><span class="es">&lt;</span><span class="en">u:param</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2563"><span class="es">&lt;</span><span class="en">para</span><span class="z"> </span><span class="atn">id</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span id="wx2571" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx2575" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2577"><span class="es">&lt;</span><span class="en">u:result</span><span class="scx">&gt;</span><span class="txt">'#foo'</span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx2583" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx2587" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2589"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2593"><span class="es">&lt;</span><span class="en">u:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">mydoc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2603"><span class="es">&lt;</span><span class="en">db:book</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w2607"><span class="es">&lt;</span><span class="en">db:title</span><span class="scx">&gt;</span><span class="txt">Some Title</span><span class="ez">&lt;/</span><span class="cl">db:title</span><span id="wx2613" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w2615"><span class="es">&lt;</span><span class="en">db:chapter</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w2619"><span class="es">&lt;</span><span class="en">db:title</span><span class="scx">&gt;</span><span class="txt">Some Chapter Title</span><span class="ez">&lt;/</span><span class="cl">db:title</span><span id="wx2625" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w2627"><span class="es">&lt;</span><span class="en">db:para</span><span class="scx">&gt;</span><span class="txt">My para.</span><span class="ez">&lt;/</span><span class="cl">db:para</span><span id="wx2633" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="cl">db:chapter</span><span id="wx2637" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">db:book</span><span id="wx2641" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:variable</span><span id="wx2645" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2647"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="av">$mydoc</span><span class="z">"</span><span id="wx2655" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2657"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="av">$mydoc//db:chapter[1]</span><span class="z">"</span><span id="wx2665" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2667"><span class="es">&lt;</span><span class="en">u:result</span><span class="scx">&gt;</span><span class="txt">'#R.1.2'</span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx2673" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx2677" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">u:unittests</span><span id="wx2681" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="cl">doc:function</span><span id="wx2685" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2687"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension}href">f:href</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:string</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2703"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?context">context</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">node()</span><span class="z">"</span><span id="wx2717" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2719"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span id="wx2733" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2735"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function" start="1" pair-end="29" select="quick">concat</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="8">#</span><span class="op">'</span><span class="op" start="11">,</span><span class="whitespace" start="12"> </span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}node-id" class="solar"><span class="function" start="13" pair-end="28" select="quick">f:node-id</span></a><span class="parenthesis">(</span><span class="variable" start="23" select="quick">$node</span><span class="parenthesis" start="28">)</span><span class="parenthesis" start="29">)</span><span class="z">"</span><span id="wx2754" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx2758" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w2764"><span class="es">&lt;</span><span class="en">doc:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:href-target-uri</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2780"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Returns a URI for the node</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx2786" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2788"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2792"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This function returns a URI suitable for use in a hypertext link
for the specified node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2798" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2800"><span class="es">&lt;</span><span class="en">note</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2804"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The difference between </span><span class="ww" id="w2808"><span class="es">&lt;</span><span class="en">function</span><span class="scx">&gt;</span><span class="txt">href-target-uri</span><span class="ez">&lt;/</span><span class="cl">function</span><span id="wx2814" class="ec">&gt;</span></span><span class="txt"> and
</span><span class="ww" id="w2816"><span class="es">&lt;</span><span class="en">function</span><span class="scx">&gt;</span><span class="txt">href</span><span class="ez">&lt;/</span><span class="cl">function</span><span id="wx2822" class="ec">&gt;</span></span><span class="txt"> is only apparent when chunking is used.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2826" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">note</span><span id="wx2830" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx2834" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2836"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2840"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2844"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w2848"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">node</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx2854" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2856"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2860"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The node for which a URI will be generated.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2866" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2870" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx2874" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx2878" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx2882" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2884"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2888"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The hypertext anchor URI for the node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2894" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx2898" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2900"><span class="es">&lt;</span><span class="en">u:unittests</span><span class="z"> </span><span class="atn">function</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:href-target-uri</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2910"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2914"><span class="es">&lt;</span><span class="en">u:param</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2918"><span class="es">&lt;</span><span class="en">para</span><span class="z"> </span><span class="atn">id</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span id="wx2926" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx2930" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2932"><span class="es">&lt;</span><span class="en">u:result</span><span class="scx">&gt;</span><span class="txt">'#foo'</span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx2938" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx2942" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2944"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2948"><span class="es">&lt;</span><span class="en">u:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">mydoc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2958"><span class="es">&lt;</span><span class="en">db:book</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w2962"><span class="es">&lt;</span><span class="en">db:title</span><span class="scx">&gt;</span><span class="txt">Some Title</span><span class="ez">&lt;/</span><span class="cl">db:title</span><span id="wx2968" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w2970"><span class="es">&lt;</span><span class="en">db:chapter</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w2974"><span class="es">&lt;</span><span class="en">db:title</span><span class="scx">&gt;</span><span class="txt">Some Chapter Title</span><span class="ez">&lt;/</span><span class="cl">db:title</span><span id="wx2980" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w2982"><span class="es">&lt;</span><span class="en">db:para</span><span class="scx">&gt;</span><span class="txt">My para.</span><span class="ez">&lt;/</span><span class="cl">db:para</span><span id="wx2988" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="cl">db:chapter</span><span id="wx2992" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">db:book</span><span id="wx2996" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">u:variable</span><span id="wx3000" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3002"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="av">$mydoc//db:chapter[1]</span><span class="z">"</span><span id="wx3010" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3012"><span class="es">&lt;</span><span class="en">u:result</span><span class="scx">&gt;</span><span class="txt">'#R.1.2'</span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx3018" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx3022" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">u:unittests</span><span id="wx3026" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="cl">doc:function</span><span id="wx3030" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3032"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension}href-target-uri">f:href-target-uri</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:string</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3048"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span id="wx3062" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3064"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function" start="1" pair-end="29" select="quick">concat</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="8">#</span><span class="op">'</span><span class="op" start="11">,</span><span class="whitespace" start="12"> </span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}node-id" class="solar"><span class="function" start="13" pair-end="28" select="quick">f:node-id</span></a><span class="parenthesis">(</span><span class="variable" start="23" select="quick">$node</span><span class="parenthesis" start="28">)</span><span class="parenthesis" start="29">)</span><span class="z">"</span><span id="wx3083" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx3087" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w3093"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:strip-anchors</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3109"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for stripping anchors from XHTML</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx3115" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3117"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3121"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode performs an identity transform except that all XHTML
anchors (</span><span class="ww" id="w3125"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">a</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx3131" class="ec">&gt;</span></span><span class="txt">) elements are removed. The content of each anchor
is preserved, only the wrapping </span><span class="ww" id="w3133"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">a</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx3139" class="ec">&gt;</span></span><span class="txt"> is stripped away.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3143" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx3147" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx3151" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3153"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:strip-anchors</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3169"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3173"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx3182" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3184"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:strip-anchors</span><span class="z">"</span><span id="wx3192" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx3196" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3200" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3202"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">h:a</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:strip-anchors</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">100</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3224"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:strip-anchors</span><span class="z">"</span><span id="wx3232" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3236" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3238"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">h:sup</span><span class="filter" start="6" pair-end="24" select="quick">[</span><span class="axis" start="7">@</span><span class="qname" start="8" select="quick">class</span><span class="op" start="13">=</span><span class="op">'</span><span class="literal" start="14">footnote</span><span class="op">'</span><span class="filter" start="24">]</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:strip-anchors</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">100</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> strip it </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3274" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3276"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="node" start="1" pair-end="6" select="quick">text</span><span class="parenthesis">(</span><span class="parenthesis" start="6">)</span><span class="op" start="7">|</span><span class="node" start="8" pair-end="16" select="quick">comment</span><span class="parenthesis">(</span><span class="parenthesis" start="16">)</span><span class="op" start="17">|</span><span class="node" start="18" pair-end="41" select="quick">processing-instruction</span><span class="parenthesis">(</span><span class="parenthesis" start="41">)</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:strip-anchors</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3302"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span id="wx3304" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3308" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w3314"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}user-preroot">t:user-preroot</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> Pre-root output, can be used to output comments and PIs. </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> This must not output any element content! </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3334" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3336"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}system-head-content">t:system-head-content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3346"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx3360" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="z">&lt;!--</span><span class="cm"> system.head.content is like user.head.content, except that
       it is called before head.content. This is important because it
       means, for example, that &lt;style&gt; elements output by system-head-content
       have a lower CSS precedence than the users stylesheet. </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3368" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3370"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}user-head-content">t:user-head-content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3380"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx3394" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3398" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3400"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}user-header-content">t:user-header-content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3410"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx3424" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3426"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?next">next</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx3441" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3443"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?prev">prev</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx3458" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3460"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?up">up</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx3475" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3479" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3481"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}user-footer-content">t:user-footer-content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3491"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx3505" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3507"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?next">next</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx3522" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3524"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?prev">prev</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx3539" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3541"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?up">up</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx3556" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3560" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w3566"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:head-keywords-content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3582"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:info</span><span class="step" start="8">/</span><span class="qname" start="9" select="quick">db:keywordset</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:head-keywords-content</span><span class="z">"</span><span id="wx3598" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3600"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?inherit.keywords" class="solar"><span class="variable" start="1" select="quick">$inherit.keywords</span></a><span class="whitespace" start="18"> </span><span class="op" start="19">!=</span><span class="whitespace" start="21"> </span><span class="numeric" start="22">0</span><span class="whitespace" start="23"> </span><span class="op" start="24">and</span><span class="whitespace" start="27"> </span><span class="axis" start="28">parent::</span><span class="qname" start="36" select="quick">*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3619"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">parent::</span><span class="qname" start="9" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:head-keywords-content</span><span class="z">"</span><span id="wx3634" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3638" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3642" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3644"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:keywordset</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:head-keywords-content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3660"><span class="es">&lt;</span><span class="en">meta</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">keywords</span><span class="z">"</span><span class="z"> </span><span class="atn">content</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-string-join" class="solar"><span class="function" start="1" pair-end="29" select="quick">string-join</span></a><span class="parenthesis">(</span><span class="qname" start="13" select="quick">db:keyword</span><span class="op" start="23">,</span><span class="whitespace" start="24"> </span><span class="op">'</span><span class="literal" start="25">, </span><span class="op">'</span><span class="parenthesis" start="29">)</span><span class="op">}</span><span class="z">"</span><span id="wx3684" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3688" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w3694"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute()*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3716"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?class">class</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:string</span><span class="z">"</span><span id="wx3738" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3740"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?force-id">force-id</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-false" class="solar"><span class="function" start="1" pair-end="7" select="quick">false</span></a><span class="parenthesis">(</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:boolean</span><span class="z">"</span><span id="wx3762" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3764"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?suppress-local-name-class">suppress-local-name-class</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-false" class="solar"><span class="function" start="1" pair-end="7" select="quick">false</span></a><span class="parenthesis">(</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:boolean</span><span class="z">"</span><span id="wx3786" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3788"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?suppress-role-class">suppress-role-class</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-false" class="solar"><span class="function" start="1" pair-end="7" select="quick">false</span></a><span class="parenthesis">(</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:boolean</span><span class="z">"</span><span id="wx3810" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w3812"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3816"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">xml:id</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3827"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">id</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">xml:id</span><span class="z">"</span><span id="wx3842" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3846" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3848"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$force-id</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3858"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">id</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}node-id" class="solar"><span class="function" start="1" pair-end="12" select="quick">f:node-id</span></a><span class="parenthesis">(</span><span class="context" start="11">.</span><span class="parenthesis" start="12">)</span><span class="z">"</span><span id="wx3875" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3879" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3883" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w3885"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">dir</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3896"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">dir</span><span class="z">"</span><span id="wx3905" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3909" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w3911"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">xml:lang</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3922"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?lang-attribute" class="solar"><span class="tcall">lang-attribute</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3932"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx3946" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx3950" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3954" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w3956"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?value-seq">value-seq</span><span class="z">"</span><span class="z">
                              </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="420" select="quick">(</span><span class="if" start="2">if</span><span class="whitespace" start="4"> </span><span class="parenthesis" start="5" pair-end="32" select="quick">(</span><span class="variable" start="6" select="quick">$suppress-local-name-class</span><span class="parenthesis" start="32">)</span><span class="whitespace" start="33">
                                               </span><span class="op" start="59">then</span><span class="whitespace" start="63"> </span><span class="parenthesis" start="64" pair-end="65" select="quick">(</span><span class="parenthesis" start="65">)</span><span class="whitespace" start="66"> </span><span class="op" start="67">else</span><span class="whitespace" start="71"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="72" pair-end="84" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="83">.</span><span class="parenthesis" start="84">)</span><span class="op" start="85">,</span><span class="whitespace" start="86">
                                               </span><span class="if" start="112">if</span><span class="whitespace" start="114"> </span><span class="parenthesis" start="115" pair-end="128" select="quick">(</span><span class="variable" start="116" select="quick">$class</span><span class="whitespace" start="122"> </span><span class="op" start="123">!=</span><span class="whitespace" start="125"> </span><span class="op">'</span><span class="literal" start="126"></span><span class="op">'</span><span class="parenthesis" start="128">)</span><span class="whitespace" start="129"> </span><span class="op" start="130">then</span><span class="whitespace" start="134"> </span><span class="variable" start="135" select="quick">$class</span><span class="whitespace" start="141"> </span><span class="op" start="142">else</span><span class="whitespace" start="146"> </span><span class="parenthesis" start="147" pair-end="148" select="quick">(</span><span class="parenthesis" start="148">)</span><span class="op" start="149">,</span><span class="whitespace" start="150">
                                               </span><span class="if" start="176">if</span><span class="whitespace" start="178"> </span><span class="parenthesis" start="179" pair-end="214" select="quick">(</span><span class="variable" start="180" select="quick">$suppress-role-class</span><span class="whitespace" start="200"> </span><span class="op" start="201">or</span><span class="whitespace" start="203"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="204" pair-end="213" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="208">@</span><span class="qname" start="209" select="quick">role</span><span class="parenthesis" start="213">)</span><span class="parenthesis" start="214">)</span><span class="whitespace" start="215">
                                               </span><span class="op" start="241">then</span><span class="whitespace" start="245"> </span><span class="parenthesis" start="246" pair-end="247" select="quick">(</span><span class="parenthesis" start="247">)</span><span class="whitespace" start="248">
                                               </span><span class="op" start="274">else</span><span class="whitespace" start="278"> </span><span class="axis" start="279">@</span><span class="qname" start="280" select="quick">role</span><span class="op" start="284">,</span><span class="whitespace" start="285">
                                               </span><span class="if" start="311">if</span><span class="whitespace" start="313"> </span><span class="parenthesis" start="314" pair-end="328" select="quick">(</span><span class="axis" start="315">@</span><span class="qname" start="316" select="quick">revisionflag</span><span class="parenthesis" start="328">)</span><span class="whitespace" start="329">
                                               </span><span class="op" start="355">then</span><span class="whitespace" start="359"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function" start="360" pair-end="386" select="quick">concat</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="367">rf-</span><span class="op">'</span><span class="op" start="372">,</span><span class="axis" start="373">@</span><span class="qname" start="374" select="quick">revisionflag</span><span class="parenthesis" start="386">)</span><span class="whitespace" start="387">
                                               </span><span class="op" start="413">else</span><span class="whitespace" start="417"> </span><span class="parenthesis" start="418" pair-end="419" select="quick">(</span><span class="parenthesis" start="419">)</span><span class="parenthesis" start="420">)</span><span class="z">"</span><span id="wx4060" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w4062"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="22" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$value-seq</span><span class="parenthesis" start="21">)</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4078"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">class</span><span class="z">"</span><span class="z">
                                  </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-normalize-space" class="solar"><span class="function" start="1" pair-end="45" select="quick">normalize-space</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-string-join" class="solar"><span class="function" start="17" pair-end="44" select="quick">string-join</span></a><span class="parenthesis">(</span><span class="variable" start="29" select="quick">$value-seq</span><span class="op" start="39">,</span><span class="whitespace" start="40"> </span><span class="op">'</span><span class="literal" start="41"> </span><span class="op">'</span><span class="parenthesis" start="44">)</span><span class="parenthesis" start="45">)</span><span class="z">"</span><span id="wx4103" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx4107" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4111" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="clxsl">xsl:stylesheet</span><span id="wx4115" class="ec">&gt;</span></span><span class="txt">
</span></p></div></body></html>