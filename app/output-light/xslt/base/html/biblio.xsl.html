<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>biblio.xsl</title><link rel="stylesheet" type="text/css" href="../../../theme.css"></head><body><div><p class="spectrum"><span class="z">&lt;?</span><span class="pi">xml version="1.0" encoding="utf-8"</span><span class="z">?&gt;</span><span class="txt">
</span><span class="ww" id="w5"><span class="es">&lt;</span><span class="enxsl">xsl:stylesheet</span><span class="z"> </span><span class="atn">xmlns:xsl</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/XSL/Transform</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:db</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:doc</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://nwalsh.com/xsl/documentation/1.0</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:f</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/extension</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:fn</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2005/xpath-functions</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:h</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:m</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/mode</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:t</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/template</span><span class="z">"</span><span class="z">
                		</span><span class="atn">exclude-result-prefixes</span><span class="atneq">=</span><span class="z">"</span><span class="av">db doc f fn h m t</span><span class="z">"</span><span class="z">
                                </span><span class="atn">version</span><span class="atneq">=</span><span class="z">"</span><span class="av">2.0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">

</span><span class="ww" id="w75"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:bibliography</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w85"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?recto">recto</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="87" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27"> </span><span class="op" start="28">=</span><span class="whitespace" start="29"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="30" pair-end="49" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="40" pair-end="48" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="48">)</span><span class="parenthesis" start="49">)</span><span class="whitespace" start="50">
                      </span><span class="qname" start="51" select="quick">	</span><span class="qname" start="52" select="quick">	</span><span class="qname" start="53" select="quick">	</span><span class="whitespace" start="54">              </span><span class="op" start="68">and</span><span class="whitespace" start="71"> </span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">t:side</span><span class="op" start="79">=</span><span class="op">'</span><span class="literal" start="80">recto</span><span class="op">'</span><span class="filter" start="87">]</span><span class="filter" start="88" pair-end="90" select="quick">[</span><span class="numeric" start="89">1</span><span class="filter" start="90">]</span><span class="z">"</span><span id="wx132" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w134"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?verso">verso</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="87" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27"> </span><span class="op" start="28">=</span><span class="whitespace" start="29"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="30" pair-end="49" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="40" pair-end="48" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="48">)</span><span class="parenthesis" start="49">)</span><span class="whitespace" start="50">
                      </span><span class="qname" start="51" select="quick">	</span><span class="qname" start="52" select="quick">	</span><span class="qname" start="53" select="quick">	</span><span class="whitespace" start="54">              </span><span class="op" start="68">and</span><span class="whitespace" start="71"> </span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">t:side</span><span class="op" start="79">=</span><span class="op">'</span><span class="literal" start="80">verso</span><span class="op">'</span><span class="filter" start="87">]</span><span class="filter" start="88" pair-end="90" select="quick">[</span><span class="numeric" start="89">1</span><span class="filter" start="90">]</span><span class="z">"</span><span id="wx181" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w183"><span class="es">&lt;</span><span class="en">div</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w187"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx201" class="sc">/&gt;</span></span><span class="txt">

    </span><span class="ww" id="w203"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/titlepages.xsl.html#t?titlepage" class="solar"><span class="tcall">titlepage</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w213"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$recto</span><span class="z">"</span><span id="wx227" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx231" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w233"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="18" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$verso</span><span class="parenthesis" start="17">)</span><span class="parenthesis" start="18">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w249"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/titlepages.xsl.html#t?titlepage" class="solar"><span class="tcall">titlepage</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w259"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$verso</span><span class="z">"</span><span id="wx273" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx277" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx281" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w283"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span id="wx285" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">div</span><span id="wx289" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx293" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w295"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:bibliodiv</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w305"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?recto">recto</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="87" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27"> </span><span class="op" start="28">=</span><span class="whitespace" start="29"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="30" pair-end="49" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="40" pair-end="48" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="48">)</span><span class="parenthesis" start="49">)</span><span class="whitespace" start="50">
                      </span><span class="qname" start="51" select="quick">	</span><span class="qname" start="52" select="quick">	</span><span class="qname" start="53" select="quick">	</span><span class="whitespace" start="54">              </span><span class="op" start="68">and</span><span class="whitespace" start="71"> </span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">t:side</span><span class="op" start="79">=</span><span class="op">'</span><span class="literal" start="80">recto</span><span class="op">'</span><span class="filter" start="87">]</span><span class="filter" start="88" pair-end="90" select="quick">[</span><span class="numeric" start="89">1</span><span class="filter" start="90">]</span><span class="z">"</span><span id="wx352" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w354"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?verso">verso</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="87" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27"> </span><span class="op" start="28">=</span><span class="whitespace" start="29"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="30" pair-end="49" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="40" pair-end="48" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="48">)</span><span class="parenthesis" start="49">)</span><span class="whitespace" start="50">
                      </span><span class="qname" start="51" select="quick">	</span><span class="qname" start="52" select="quick">	</span><span class="qname" start="53" select="quick">	</span><span class="whitespace" start="54">              </span><span class="op" start="68">and</span><span class="whitespace" start="71"> </span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">t:side</span><span class="op" start="79">=</span><span class="op">'</span><span class="literal" start="80">verso</span><span class="op">'</span><span class="filter" start="87">]</span><span class="filter" start="88" pair-end="90" select="quick">[</span><span class="numeric" start="89">1</span><span class="filter" start="90">]</span><span class="z">"</span><span id="wx401" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w403"><span class="es">&lt;</span><span class="en">div</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w407"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx421" class="sc">/&gt;</span></span><span class="txt">

    </span><span class="ww" id="w423"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/titlepages.xsl.html#t?titlepage" class="solar"><span class="tcall">titlepage</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w433"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$recto</span><span class="z">"</span><span id="wx447" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx451" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w453"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="18" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$verso</span><span class="parenthesis" start="17">)</span><span class="parenthesis" start="18">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w469"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/titlepages.xsl.html#t?titlepage" class="solar"><span class="tcall">titlepage</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w479"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$verso</span><span class="z">"</span><span id="wx493" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx497" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx501" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w503"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span id="wx505" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">div</span><span id="wx509" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx513" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w515"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:bibliolist</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w525"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?titlepage">titlepage</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="48" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="op" start="27">=</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="28" pair-end="47" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="38" pair-end="46" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="46">)</span><span class="parenthesis" start="47">)</span><span class="filter" start="48">]</span><span class="filter" start="49" pair-end="51" select="quick">[</span><span class="numeric" start="50">1</span><span class="filter" start="51">]</span><span class="z">"</span><span id="wx557" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w559"><span class="es">&lt;</span><span class="en">div</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w563"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx577" class="sc">/&gt;</span></span><span class="txt">

    </span><span class="ww" id="w579"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/titlepages.xsl.html#t?titlepage" class="solar"><span class="tcall">titlepage</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w589"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$titlepage</span><span class="z">"</span><span id="wx603" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx607" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w609"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span id="wx611" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">div</span><span id="wx615" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx619" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w621"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:biblioentry</span><span class="filter" start="15" pair-end="27" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="16" pair-end="26" select="quick">not</span></a><span class="parenthesis">(</span><span class="node" start="20" pair-end="25" select="quick">node</span><span class="parenthesis">(</span><span class="parenthesis" start="25">)</span><span class="parenthesis" start="26">)</span><span class="filter" start="27">]</span><span class="op" start="28">|</span><span class="qname" start="29" select="quick">db:bibliomixed</span><span class="filter" start="43" pair-end="55" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="44" pair-end="54" select="quick">not</span></a><span class="parenthesis">(</span><span class="node" start="48" pair-end="53" select="quick">node</span><span class="parenthesis">(</span><span class="parenthesis" start="53">)</span><span class="parenthesis" start="54">)</span><span class="filter" start="55">]</span><span class="z">"</span><span class="z">
                            </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">100</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w655"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?id">id</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">xml:id</span><span class="z">"</span><span id="wx670" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w672"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w676"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="8" select="quick">not</span></a><span class="parenthesis">(</span><span class="variable" start="5" select="quick">$id</span><span class="parenthesis" start="8">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w689"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w693"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Error: </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx699" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w701"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">empty </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx707" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w709"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="z">"</span><span id="wx720" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w722"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> with no id.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx728" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx732" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx736" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w738"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/normalize.xsl.html#v?external.bibliography" class="solar"><span class="variable" start="1" select="quick">$external.bibliography</span></a><span class="step" start="23">/</span><a href="http://www.w3.org/TR/xpath-functions/#func-key" class="solar"><span class="function" start="24" pair-end="37" select="quick">key</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="28">id</span><span class="op">'</span><span class="op" start="32">,</span><span class="whitespace" start="33"> </span><span class="variable" start="34" select="quick">$id</span><span class="parenthesis" start="37">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w758"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/normalize.xsl.html#v?external.bibliography" class="solar"><span class="variable" start="1" select="quick">$external.bibliography</span></a><span class="step" start="23">/</span><a href="http://www.w3.org/TR/xpath-functions/#func-key" class="solar"><span class="function" start="24" pair-end="37" select="quick">key</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="28">id</span><span class="op">'</span><span class="op" start="32">,</span><span class="whitespace" start="33"> </span><span class="variable" start="34" select="quick">$id</span><span class="parenthesis" start="37">)</span><span class="z">"</span><span id="wx776" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx780" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w782"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w786"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w790"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Error: </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx796" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w798"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">$bibliography.collection doesn't contain </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx804" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w806"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$id</span><span class="z">"</span><span id="wx814" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx818" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w820"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w824"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx833" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w835"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">???</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx841" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx845" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx849" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx853" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx857" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w859"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:biblioentry</span><span class="op" start="15">|</span><span class="qname" start="16" select="quick">db:bibliomixed</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w871"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?label">label</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}biblioentry-label" class="solar"><span class="function" start="1" pair-end="22" select="quick">f:biblioentry-label</span></a><span class="parenthesis">(</span><span class="context" start="21">.</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span id="wx888" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="z">&lt;!--</span><span class="cm"> N.B. The bibliography entry is expanded using $bibliography.collection </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> during *normalization*, not here... </span><span class="z">--&gt;</span><span class="txt">

  </span><span class="ww" id="w898"><span class="es">&lt;</span><span class="en">div</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w902"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx916" class="sc">/&gt;</span></span><span class="txt">

    </span><span class="ww" id="w918"><span class="es">&lt;</span><span class="en">p</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w922"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">[</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx928" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w930"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$label</span><span class="z">"</span><span id="wx938" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w940"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">] </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx946" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w948"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w952"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">self::</span><span class="qname" start="7" select="quick">db:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w963"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx971" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx975" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w977"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w981"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span id="wx989" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx993" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx997" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">p</span><span id="wx1001" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">div</span><span id="wx1005" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1009" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w1015"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span class="z">
          	  </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1031"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for formatting </span><span class="ww" id="w1035"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">bibliomixed</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx1041" class="ec">&gt;</span></span><span class="txt"> elements</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx1045" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1047"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1051"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to format elements in a </span><span class="ww" id="w1055"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">bibliomixed</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx1061" class="ec">&gt;</span></span><span class="txt">.
Any element processed in this mode should generate markup appropriate
for the content of a bibliography entry.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1065" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx1069" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx1073" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1075"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1091"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1099" class="sc">/&gt;</span></span><span class="txt"> </span><span class="z">&lt;!--</span><span class="cm"> try the default mode </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1107" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1109"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:abbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1125"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">preceding-sibling::</span><span class="qname" start="20" select="quick">*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1136"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span id="wx1144" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1148" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1152" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1154"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:bibliomset</span><span class="step" start="14">/</span><span class="qname" start="15" select="quick">db:title</span><span class="op" start="23">|</span><span class="qname" start="24" select="quick">db:bibliomset</span><span class="step" start="37">/</span><span class="qname" start="38" select="quick">db:citetitle</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1176"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?relation">relation</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">..</span><span class="step" start="3">/</span><span class="axis" start="4">@</span><span class="qname" start="5" select="quick">relation</span><span class="z">"</span><span id="wx1193" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1195"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/xlink.xsl.html#t?{http://docbook.org/xslt/ns/template}simple-xlink" class="solar"><span class="tcall">t:simple-xlink</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1205"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1215"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1219"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$relation</span><span class="op" start="10">=</span><span class="op">'</span><span class="literal" start="11">article</span><span class="op">'</span><span class="whitespace" start="20"> </span><span class="op" start="21">or</span><span class="whitespace" start="23"> </span><span class="axis" start="24">@</span><span class="qname" start="25" select="quick">pubwork</span><span class="op" start="32">=</span><span class="op">'</span><span class="literal" start="33">article</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w1242"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-startquote" class="solar"><span class="tcall">gentext-startquote</span></a><span class="z">"</span><span id="wx1250" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w1252"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span id="wx1260" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w1262"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-endquote" class="solar"><span class="tcall">gentext-endquote</span></a><span class="z">"</span><span id="wx1270" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1274" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w1276"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w1280"><span class="es">&lt;</span><span class="en">cite</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w1284"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span id="wx1292" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="cl">cite</span><span id="wx1296" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1300" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1304" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1308" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1312" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1316" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1318"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:citetitle</span><span class="op" start="13">|</span><span class="qname" start="14" select="quick">db:title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1336"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/xlink.xsl.html#t?{http://docbook.org/xslt/ns/template}simple-xlink" class="solar"><span class="tcall">t:simple-xlink</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1346"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1356"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="7" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">.</span><span class="parenthesis" start="7">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1371"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w1375"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">pubwork</span><span class="whitespace" start="9"> </span><span class="op" start="10">=</span><span class="whitespace" start="11"> </span><span class="op">'</span><span class="literal" start="12">article</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w1392"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-startquote" class="solar"><span class="tcall">gentext-startquote</span></a><span class="z">"</span><span id="wx1400" class="sc">/&gt;</span></span><span class="txt">
	    </span><span class="ww" id="w1402"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span id="wx1410" class="sc">/&gt;</span></span><span class="txt">
	    </span><span class="ww" id="w1412"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-endquote" class="solar"><span class="tcall">gentext-endquote</span></a><span class="z">"</span><span id="wx1420" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1424" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w1426"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w1430"><span class="es">&lt;</span><span class="en">cite</span><span class="scx">&gt;</span><span class="txt">
	      </span><span class="ww" id="w1434"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span id="wx1442" class="sc">/&gt;</span></span><span class="txt">
	    </span><span class="ez">&lt;/</span><span class="cl">cite</span><span id="wx1446" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1450" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1454" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx1458" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1462" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1466" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1470" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1472"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:revhistory</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> suppressed; how could this be represented? </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1494" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1496"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:abstract</span><span class="whitespace" start="12">
                     </span><span class="qname" start="13" select="quick">	</span><span class="qname" start="14" select="quick">	</span><span class="whitespace" start="15">     </span><span class="op" start="20">|</span><span class="qname" start="21" select="quick">db:address</span><span class="whitespace" start="31">
                     </span><span class="qname" start="32" select="quick">	</span><span class="qname" start="33" select="quick">	</span><span class="whitespace" start="34">     </span><span class="op" start="39">|</span><span class="qname" start="40" select="quick">db:affiliation</span><span class="whitespace" start="54">
                     </span><span class="qname" start="55" select="quick">	</span><span class="qname" start="56" select="quick">	</span><span class="whitespace" start="57">     </span><span class="op" start="62">|</span><span class="qname" start="63" select="quick">db:artpagenums</span><span class="whitespace" start="77">
                     </span><span class="qname" start="78" select="quick">	</span><span class="qname" start="79" select="quick">	</span><span class="whitespace" start="80">     </span><span class="op" start="85">|</span><span class="qname" start="86" select="quick">db:authorblurb</span><span class="whitespace" start="100">
                     </span><span class="qname" start="101" select="quick">	</span><span class="qname" start="102" select="quick">	</span><span class="whitespace" start="103">     </span><span class="op" start="108">|</span><span class="qname" start="109" select="quick">db:authorinitials</span><span class="whitespace" start="126">
                     </span><span class="qname" start="127" select="quick">	</span><span class="qname" start="128" select="quick">	</span><span class="whitespace" start="129">     </span><span class="op" start="134">|</span><span class="qname" start="135" select="quick">db:bibliocoverage</span><span class="whitespace" start="152">
                     </span><span class="qname" start="153" select="quick">	</span><span class="qname" start="154" select="quick">	</span><span class="whitespace" start="155">     </span><span class="op" start="160">|</span><span class="qname" start="161" select="quick">db:biblioid</span><span class="whitespace" start="172">
                     </span><span class="qname" start="173" select="quick">	</span><span class="qname" start="174" select="quick">	</span><span class="whitespace" start="175">     </span><span class="op" start="180">|</span><span class="qname" start="181" select="quick">db:bibliomisc</span><span class="whitespace" start="194">
                     </span><span class="qname" start="195" select="quick">	</span><span class="qname" start="196" select="quick">	</span><span class="whitespace" start="197">     </span><span class="op" start="202">|</span><span class="qname" start="203" select="quick">db:bibliomset</span><span class="whitespace" start="216">
                     </span><span class="qname" start="217" select="quick">	</span><span class="qname" start="218" select="quick">	</span><span class="whitespace" start="219">     </span><span class="op" start="224">|</span><span class="qname" start="225" select="quick">db:bibliorelation</span><span class="whitespace" start="242">
                     </span><span class="qname" start="243" select="quick">	</span><span class="qname" start="244" select="quick">	</span><span class="whitespace" start="245">     </span><span class="op" start="250">|</span><span class="qname" start="251" select="quick">db:biblioset</span><span class="whitespace" start="263">
                     </span><span class="qname" start="264" select="quick">	</span><span class="qname" start="265" select="quick">	</span><span class="whitespace" start="266">     </span><span class="op" start="271">|</span><span class="qname" start="272" select="quick">db:bibliosource</span><span class="whitespace" start="287">
                     </span><span class="qname" start="288" select="quick">	</span><span class="qname" start="289" select="quick">	</span><span class="whitespace" start="290">     </span><span class="op" start="295">|</span><span class="qname" start="296" select="quick">db:collab</span><span class="whitespace" start="305">
                     </span><span class="qname" start="306" select="quick">	</span><span class="qname" start="307" select="quick">	</span><span class="whitespace" start="308">     </span><span class="op" start="313">|</span><span class="qname" start="314" select="quick">db:confgroup</span><span class="whitespace" start="326">
                     </span><span class="qname" start="327" select="quick">	</span><span class="qname" start="328" select="quick">	</span><span class="whitespace" start="329">     </span><span class="op" start="334">|</span><span class="qname" start="335" select="quick">db:contractnum</span><span class="whitespace" start="349">
                     </span><span class="qname" start="350" select="quick">	</span><span class="qname" start="351" select="quick">	</span><span class="whitespace" start="352">     </span><span class="op" start="357">|</span><span class="qname" start="358" select="quick">db:contractsponsor</span><span class="whitespace" start="376">
                     </span><span class="qname" start="377" select="quick">	</span><span class="qname" start="378" select="quick">	</span><span class="whitespace" start="379">     </span><span class="op" start="384">|</span><span class="qname" start="385" select="quick">db:contrib</span><span class="whitespace" start="395">
                     </span><span class="qname" start="396" select="quick">	</span><span class="qname" start="397" select="quick">	</span><span class="whitespace" start="398">     </span><span class="op" start="403">|</span><span class="qname" start="404" select="quick">db:corpauthor</span><span class="whitespace" start="417">
                     </span><span class="qname" start="418" select="quick">	</span><span class="qname" start="419" select="quick">	</span><span class="whitespace" start="420">     </span><span class="op" start="425">|</span><span class="qname" start="426" select="quick">db:corpcredit</span><span class="whitespace" start="439">
                     </span><span class="qname" start="440" select="quick">	</span><span class="qname" start="441" select="quick">	</span><span class="whitespace" start="442">     </span><span class="op" start="447">|</span><span class="qname" start="448" select="quick">db:corpname</span><span class="whitespace" start="459">
                     </span><span class="qname" start="460" select="quick">	</span><span class="qname" start="461" select="quick">	</span><span class="whitespace" start="462">     </span><span class="op" start="467">|</span><span class="qname" start="468" select="quick">db:date</span><span class="whitespace" start="475">
                     </span><span class="qname" start="476" select="quick">	</span><span class="qname" start="477" select="quick">	</span><span class="whitespace" start="478">     </span><span class="op" start="483">|</span><span class="qname" start="484" select="quick">db:edition</span><span class="whitespace" start="494">
                     </span><span class="qname" start="495" select="quick">	</span><span class="qname" start="496" select="quick">	</span><span class="whitespace" start="497">     </span><span class="op" start="502">|</span><span class="qname" start="503" select="quick">db:firstname</span><span class="whitespace" start="515">
                     </span><span class="qname" start="516" select="quick">	</span><span class="qname" start="517" select="quick">	</span><span class="whitespace" start="518">     </span><span class="op" start="523">|</span><span class="qname" start="524" select="quick">db:honorific</span><span class="whitespace" start="536">
                     </span><span class="qname" start="537" select="quick">	</span><span class="qname" start="538" select="quick">	</span><span class="whitespace" start="539">     </span><span class="op" start="544">|</span><span class="qname" start="545" select="quick">db:invpartnumber</span><span class="whitespace" start="561">
                     </span><span class="qname" start="562" select="quick">	</span><span class="qname" start="563" select="quick">	</span><span class="whitespace" start="564">     </span><span class="op" start="569">|</span><span class="qname" start="570" select="quick">db:isbn</span><span class="whitespace" start="577">
                     </span><span class="qname" start="578" select="quick">	</span><span class="qname" start="579" select="quick">	</span><span class="whitespace" start="580">     </span><span class="op" start="585">|</span><span class="qname" start="586" select="quick">db:issn</span><span class="whitespace" start="593">
                     </span><span class="qname" start="594" select="quick">	</span><span class="qname" start="595" select="quick">	</span><span class="whitespace" start="596">     </span><span class="op" start="601">|</span><span class="qname" start="602" select="quick">db:issuenum</span><span class="whitespace" start="613">
                     </span><span class="qname" start="614" select="quick">	</span><span class="qname" start="615" select="quick">	</span><span class="whitespace" start="616">     </span><span class="op" start="621">|</span><span class="qname" start="622" select="quick">db:jobtitle</span><span class="whitespace" start="633">
                     </span><span class="qname" start="634" select="quick">	</span><span class="qname" start="635" select="quick">	</span><span class="whitespace" start="636">     </span><span class="op" start="641">|</span><span class="qname" start="642" select="quick">db:lineage</span><span class="whitespace" start="652">
                     </span><span class="qname" start="653" select="quick">	</span><span class="qname" start="654" select="quick">	</span><span class="whitespace" start="655">     </span><span class="op" start="660">|</span><span class="qname" start="661" select="quick">db:orgname</span><span class="whitespace" start="671">
                     </span><span class="qname" start="672" select="quick">	</span><span class="qname" start="673" select="quick">	</span><span class="whitespace" start="674">     </span><span class="op" start="679">|</span><span class="qname" start="680" select="quick">db:othername</span><span class="whitespace" start="692">
                     </span><span class="qname" start="693" select="quick">	</span><span class="qname" start="694" select="quick">	</span><span class="whitespace" start="695">     </span><span class="op" start="700">|</span><span class="qname" start="701" select="quick">db:pagenums</span><span class="whitespace" start="712">
                     </span><span class="qname" start="713" select="quick">	</span><span class="qname" start="714" select="quick">	</span><span class="whitespace" start="715">     </span><span class="op" start="720">|</span><span class="qname" start="721" select="quick">db:personblurb</span><span class="whitespace" start="735">
                     </span><span class="qname" start="736" select="quick">	</span><span class="qname" start="737" select="quick">	</span><span class="whitespace" start="738">     </span><span class="op" start="743">|</span><span class="qname" start="744" select="quick">db:printhistory</span><span class="whitespace" start="759">
                     </span><span class="qname" start="760" select="quick">	</span><span class="qname" start="761" select="quick">	</span><span class="whitespace" start="762">     </span><span class="op" start="767">|</span><span class="qname" start="768" select="quick">db:productname</span><span class="whitespace" start="782">
                     </span><span class="qname" start="783" select="quick">	</span><span class="qname" start="784" select="quick">	</span><span class="whitespace" start="785">     </span><span class="op" start="790">|</span><span class="qname" start="791" select="quick">db:productnumber</span><span class="whitespace" start="807">
                     </span><span class="qname" start="808" select="quick">	</span><span class="qname" start="809" select="quick">	</span><span class="whitespace" start="810">     </span><span class="op" start="815">|</span><span class="qname" start="816" select="quick">db:pubdate</span><span class="whitespace" start="826">
                     </span><span class="qname" start="827" select="quick">	</span><span class="qname" start="828" select="quick">	</span><span class="whitespace" start="829">     </span><span class="op" start="834">|</span><span class="qname" start="835" select="quick">db:publisher</span><span class="whitespace" start="847">
                     </span><span class="qname" start="848" select="quick">	</span><span class="qname" start="849" select="quick">	</span><span class="whitespace" start="850">     </span><span class="op" start="855">|</span><span class="qname" start="856" select="quick">db:publishername</span><span class="whitespace" start="872">
                     </span><span class="qname" start="873" select="quick">	</span><span class="qname" start="874" select="quick">	</span><span class="whitespace" start="875">     </span><span class="op" start="880">|</span><span class="qname" start="881" select="quick">db:pubsnumber</span><span class="whitespace" start="894">
                     </span><span class="qname" start="895" select="quick">	</span><span class="qname" start="896" select="quick">	</span><span class="whitespace" start="897">     </span><span class="op" start="902">|</span><span class="qname" start="903" select="quick">db:releaseinfo</span><span class="whitespace" start="917">
                     </span><span class="qname" start="918" select="quick">	</span><span class="qname" start="919" select="quick">	</span><span class="whitespace" start="920">     </span><span class="op" start="925">|</span><span class="qname" start="926" select="quick">db:seriesvolnums</span><span class="whitespace" start="942">
                     </span><span class="qname" start="943" select="quick">	</span><span class="qname" start="944" select="quick">	</span><span class="whitespace" start="945">     </span><span class="op" start="950">|</span><span class="qname" start="951" select="quick">db:shortaffil</span><span class="whitespace" start="964">
                     </span><span class="qname" start="965" select="quick">	</span><span class="qname" start="966" select="quick">	</span><span class="whitespace" start="967">     </span><span class="op" start="972">|</span><span class="qname" start="973" select="quick">db:subtitle</span><span class="whitespace" start="984">
                     </span><span class="qname" start="985" select="quick">	</span><span class="qname" start="986" select="quick">	</span><span class="whitespace" start="987">     </span><span class="op" start="992">|</span><span class="qname" start="993" select="quick">db:surname</span><span class="whitespace" start="1003">
                     </span><span class="qname" start="1004" select="quick">	</span><span class="qname" start="1005" select="quick">	</span><span class="whitespace" start="1006">     </span><span class="op" start="1011">|</span><span class="qname" start="1012" select="quick">db:titleabbrev</span><span class="whitespace" start="1026">
                     </span><span class="qname" start="1027" select="quick">	</span><span class="qname" start="1028" select="quick">	</span><span class="whitespace" start="1029">     </span><span class="op" start="1034">|</span><span class="qname" start="1035" select="quick">db:volumenum</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1800"><span class="es">&lt;</span><span class="en">span</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1804"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx1818" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1820"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span id="wx1828" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx1832" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1836" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w1842"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="z">
          	  </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1858"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for formatting </span><span class="ww" id="w1862"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">biblioentry</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx1868" class="ec">&gt;</span></span><span class="txt"> elements</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx1872" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1874"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1878"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to format elements in a </span><span class="ww" id="w1882"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">biblioentry</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx1888" class="ec">&gt;</span></span><span class="txt">.
Any element processed in this mode should generate markup appropriate
for the content of a bibliography entry.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1892" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx1896" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx1900" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1902"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1918"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?content">content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1928"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1936" class="sc">/&gt;</span></span><span class="txt"> </span><span class="z">&lt;!--</span><span class="cm"> try the default mode </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx1944" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w1946"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="z">"</span><span id="wx1954" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w1956"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="37" select="quick">not</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-ends-with" class="solar"><span class="function" start="5" pair-end="36" select="quick">ends-with</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="15" pair-end="30" select="quick">string</span></a><span class="parenthesis">(</span><span class="variable" start="22" select="quick">$content</span><span class="parenthesis" start="30">)</span><span class="op" start="31">,</span><span class="whitespace" start="32"> </span><span class="op">'</span><span class="literal" start="33">.</span><span class="op">'</span><span class="parenthesis" start="36">)</span><span class="parenthesis" start="37">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1982" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w1984"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1990" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1994" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1996"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:biblioset</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2012"><span class="es">&lt;</span><span class="en">span</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2016"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx2030" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2032"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx2040" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx2044" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2048" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2050"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:abbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2066"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">preceding-sibling::</span><span class="qname" start="20" select="quick">*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2077"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx2085" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2089" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2093" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2095"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:biblioset</span><span class="step" start="13">/</span><span class="qname" start="14" select="quick">db:title</span><span class="op" start="22">|</span><span class="qname" start="23" select="quick">db:biblioset</span><span class="step" start="35">/</span><span class="qname" start="36" select="quick">db:citetitle</span><span class="whitespace" start="48">
                                          </span><span class="op" start="70">|</span><span class="qname" start="71" select="quick">db:bibliomset</span><span class="step" start="84">/</span><span class="qname" start="85" select="quick">db:title</span><span class="op" start="93">|</span><span class="qname" start="94" select="quick">db:bibliomset</span><span class="step" start="107">/</span><span class="qname" start="108" select="quick">db:citetitle</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2126"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?relation">relation</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">..</span><span class="step" start="3">/</span><span class="axis" start="4">@</span><span class="qname" start="5" select="quick">relation</span><span class="z">"</span><span id="wx2143" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2145"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/xlink.xsl.html#t?{http://docbook.org/xslt/ns/template}simple-xlink" class="solar"><span class="tcall">t:simple-xlink</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2155"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2165"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w2169"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$relation</span><span class="op" start="10">=</span><span class="op">'</span><span class="literal" start="11">article</span><span class="op">'</span><span class="whitespace" start="20"> </span><span class="op" start="21">or</span><span class="whitespace" start="23"> </span><span class="axis" start="24">@</span><span class="qname" start="25" select="quick">pubwork</span><span class="op" start="32">=</span><span class="op">'</span><span class="literal" start="33">article</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w2192"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-startquote" class="solar"><span class="tcall">gentext-startquote</span></a><span class="z">"</span><span id="wx2200" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w2202"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx2210" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w2212"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-endquote" class="solar"><span class="tcall">gentext-endquote</span></a><span class="z">"</span><span id="wx2220" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2224" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w2226"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w2230"><span class="es">&lt;</span><span class="en">cite</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w2234"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx2242" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="cl">cite</span><span id="wx2246" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2250" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2254" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx2258" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx2262" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2264"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">. </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2270" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2274" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2276"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:citetitle</span><span class="op" start="13">|</span><span class="qname" start="14" select="quick">db:title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2294"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/xlink.xsl.html#t?{http://docbook.org/xslt/ns/template}simple-xlink" class="solar"><span class="tcall">t:simple-xlink</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2304"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2314"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="7" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">.</span><span class="parenthesis" start="7">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w2329"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w2333"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">pubwork</span><span class="whitespace" start="9"> </span><span class="op" start="10">=</span><span class="whitespace" start="11"> </span><span class="op">'</span><span class="literal" start="12">article</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w2350"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-startquote" class="solar"><span class="tcall">gentext-startquote</span></a><span class="z">"</span><span id="wx2358" class="sc">/&gt;</span></span><span class="txt">
	    </span><span class="ww" id="w2360"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx2368" class="sc">/&gt;</span></span><span class="txt">
	    </span><span class="ww" id="w2370"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-endquote" class="solar"><span class="tcall">gentext-endquote</span></a><span class="z">"</span><span id="wx2378" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2382" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w2384"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w2388"><span class="es">&lt;</span><span class="en">cite</span><span class="scx">&gt;</span><span class="txt">
	      </span><span class="ww" id="w2392"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx2400" class="sc">/&gt;</span></span><span class="txt">
	    </span><span class="ez">&lt;/</span><span class="cl">cite</span><span id="wx2404" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2408" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2412" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx2416" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx2420" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx2424" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2426"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">. </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2432" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2436" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2438"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2454"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="7" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">.</span><span class="parenthesis" start="7">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2469"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span id="wx2471" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx2475" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2477"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">. </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2483" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2487" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2489"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:address</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2505"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?addr">addr</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(h:div)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2521"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx2529" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx2533" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2535"><span class="es">&lt;</span><span class="en">span</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2539"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx2553" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="z">&lt;!--</span><span class="cm"> Now $addr is a div containing lines with BRs </span><span class="z">--&gt;</span><span class="txt">
    </span><span class="ww" id="w2559"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$addr</span><span class="step" start="6">/</span><span class="node" start="7" pair-end="12" select="quick">node</span><span class="parenthesis">(</span><span class="parenthesis" start="12">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2573"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx2587" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2589"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2593"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="step" start="6">/</span><span class="axis" start="7">self::</span><span class="qname" start="13" select="quick">h:br</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2606"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-position" class="solar"><span class="function" start="1" pair-end="10" select="quick">position</span></a><span class="parenthesis">(</span><span class="parenthesis" start="10">)</span><span class="whitespace" start="11"> </span><span class="qname" start="12" select="quick">&amp;</span><span class="op" start="13">lt</span><span class="qname" start="15" select="quick">;</span><span class="whitespace" start="16"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-last" class="solar"><span class="function" start="17" pair-end="22" select="quick">last</span></a><span class="parenthesis">(</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"> / </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2628" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2632" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w2634"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2638"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span id="wx2646" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2650" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2654" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx2658" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w2660"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="34" select="quick">not</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-ends-with" class="solar"><span class="function" start="5" pair-end="33" select="quick">ends-with</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="15" pair-end="27" select="quick">string</span></a><span class="parenthesis">(</span><span class="variable" start="22" select="quick">$addr</span><span class="parenthesis" start="27">)</span><span class="op" start="28">,</span><span class="whitespace" start="29"> </span><span class="op">'</span><span class="literal" start="30">.</span><span class="op">'</span><span class="parenthesis" start="33">)</span><span class="parenthesis" start="34">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2686" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx2690" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2692"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2698" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2702" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2704"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:collab</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2720"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?content">content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2730"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="filter" start="2" pair-end="28" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="3" pair-end="27" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="7">self::</span><span class="qname" start="13" select="quick">db:affiliation</span><span class="parenthesis" start="27">)</span><span class="filter" start="28">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2747"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-position" class="solar"><span class="function" start="1" pair-end="10" select="quick">position</span></a><span class="parenthesis">(</span><span class="parenthesis" start="10">)</span><span class="whitespace" start="11"> </span><span class="qname" start="12" select="quick">&amp;</span><span class="op" start="13">gt</span><span class="qname" start="15" select="quick">;</span><span class="whitespace" start="16"> </span><span class="numeric" start="17">1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">, </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2767" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2769"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx2777" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx2781" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx2785" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2787"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="z">"</span><span id="wx2795" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2797"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="37" select="quick">not</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-ends-with" class="solar"><span class="function" start="5" pair-end="36" select="quick">ends-with</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="15" pair-end="30" select="quick">string</span></a><span class="parenthesis">(</span><span class="variable" start="22" select="quick">$content</span><span class="parenthesis" start="30">)</span><span class="op" start="31">,</span><span class="whitespace" start="32"> </span><span class="op">'</span><span class="literal" start="33">.</span><span class="op">'</span><span class="parenthesis" start="36">)</span><span class="parenthesis" start="37">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2823" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2825"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2831" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2835" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2837"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:confgroup</span><span class="op" start="13">|</span><span class="qname" start="14" select="quick">db:publisher</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2855"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx2863" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2867" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2869"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:printhistory</span><span class="op" start="16">|</span><span class="qname" start="17" select="quick">db:revhistory</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> suppressed; how could this be represented? </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2893" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2895"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:titleabbrev</span><span class="op" start="15">|</span><span class="qname" start="16" select="quick">db:abstract</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> suppressed </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2919" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="clxsl">xsl:stylesheet</span><span id="wx2923" class="ec">&gt;</span></span><span class="txt">
</span></p></div></body></html>