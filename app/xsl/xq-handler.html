<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>XMLSpectrum output</title><style>
          @import url(http://fonts.googleapis.com/css?family=Source+Code+Pro);</style></head><body><div><pre class="spectrum" style="&#xA;    margin:0px;&#xA;    font-family:'Source Code Pro', monospace;&#xA;    font-size: 0.8em;&#xA;    white-space: pre-wrap;&#xA;    display: block;&#xA;    border: none thin;&#xA;    border-color: #405075;&#xA;    background-color:#1d1f21;&#xA;    padding: 2px;&#xA;    margin-bottom:5px;&#xA;"><span class="z" style="color: #616161">&lt;?</span><span class="pi" style="color: #8abeb7">xml version="1.0" encoding="UTF-8"</span><span class="z" style="color: #616161">?&gt;</span><span class="txt" style="color: #c5c8c6">
</span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:stylesheet</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">version</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">2.0</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">
                </span><span class="atn" style="color: #8abeb7">xmlns:xsl</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">http://www.w3.org/1999/XSL/Transform</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">                
                </span><span class="atn" style="color: #8abeb7">xmlns:xs</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">http://www.w3.org/2001/XMLSchema</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">
                </span><span class="atn" style="color: #8abeb7">xmlns:loc</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">com.qutoric.xq.functions</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">
                </span><span class="atn" style="color: #8abeb7">exclude-result-prefixes</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">loc xs</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">
                </span><span class="atn" style="color: #8abeb7">xmlns</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
  
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">ops</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">, / = &amp;lt; &amp;gt; + - * ? | != &amp;lt;= &amp;gt;= &amp;lt;&amp;lt; &amp;gt;&amp;gt; // := ! || { } ; ~</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">aOps</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">or and eq ne lt le gt ge is to div idiv mod union intersect except in return satisfies then else as map where</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">hOps</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">for some every let</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">nodes</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">attribute comment document-node namespace-node element node processing-instruction text</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">types</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">empty-sequence function item node schema-attribute schema-element type</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
  
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">ambiguousOps</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="21" select="quick" style="color: #de935f">tokenize</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="10" select="quick" style="color: #ad95af">$aOps</span><span class="op" start="15" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="16" style="color: #969896">\s+</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="21" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string*</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">simpleOps</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="20" select="quick" style="color: #de935f">tokenize</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="10" select="quick" style="color: #ad95af">$ops</span><span class="op" start="14" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="15" style="color: #969896">\s+</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="20" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string*</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">nodeTests</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="22" select="quick" style="color: #de935f">tokenize</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="10" select="quick" style="color: #ad95af">$nodes</span><span class="op" start="16" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="17" style="color: #969896">\s+</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="22" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string*</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">typeTests</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="22" select="quick" style="color: #de935f">tokenize</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="10" select="quick" style="color: #ad95af">$types</span><span class="op" start="16" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="17" style="color: #969896">\s+</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="22" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string*</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">higherOps</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="21" select="quick" style="color: #de935f">tokenize</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="10" select="quick" style="color: #ad95af">$hOps</span><span class="op" start="15" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="16" style="color: #969896">\s+</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="21" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string*</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">bgColor</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">black</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">    
  
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:function</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="fname" style="color: #cc6666">loc:pad</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">padStringIn</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string?</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">fixedWidth</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:integer</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">padString</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="33" select="quick" style="color: #de935f">replace</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="9" select="quick" style="color: #ad95af">$padStringIn</span><span class="op" start="21" style="color: #f0c674">,</span><span class="whitespace" start="22" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="23" style="color: #969896">\n</span><span class="op" style="color: #f0c674">'</span><span class="op" start="27" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="28" style="color: #969896">\\n</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="33" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">stringLength</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:integer</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="25" select="quick" style="color: #de935f">string-length</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="15" select="quick" style="color: #ad95af">$padString</span><span class="parenthesis" start="25" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">padChar</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="if" start="1" style="color: #f0c674">if</span><span class="whitespace" start="3" style="color: #f0c674"> </span><span class="parenthesis" start="4" pair-end="22" select="quick" style="color: #81a2be">(</span><span class="variable" start="5" select="quick" style="color: #ad95af">$fixedWidth</span><span class="whitespace" start="16" style="color: #f0c674"> </span><span class="op" start="17" style="color: #f0c674">gt</span><span class="whitespace" start="19" style="color: #f0c674"> </span><span class="numeric" start="20" style="color: #8abeb7">20</span><span class="parenthesis" start="22" style="color: #81a2be">)</span><span class="whitespace" start="23" style="color: #f0c674"> </span><span class="op" start="24" style="color: #f0c674">then</span><span class="whitespace" start="28" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="29" style="color: #969896">.</span><span class="op" style="color: #f0c674">'</span><span class="whitespace" start="32" style="color: #f0c674"> </span><span class="op" start="33" style="color: #f0c674">else</span><span class="whitespace" start="37" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="38" style="color: #969896"> </span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">padCount</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:integer</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$fixedWidth</span><span class="whitespace" start="12" style="color: #f0c674"> </span><span class="op" start="13" style="color: #f0c674">-</span><span class="whitespace" start="14" style="color: #f0c674"> </span><span class="variable" start="15" select="quick" style="color: #ad95af">$stringLength</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:if</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$padCount</span><span class="whitespace" start="10" style="color: #f0c674"> </span><span class="op" start="11" style="color: #f0c674">ge</span><span class="whitespace" start="13" style="color: #f0c674"> </span><span class="numeric" start="14" style="color: #8abeb7">0</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:sequence</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="105" select="quick" style="color: #de935f">concat</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="8" select="quick" style="color: #ad95af">$padString</span><span class="op" start="18" style="color: #f0c674">,</span><span class="whitespace" start="19" style="color: #f0c674"> </span><span class="function" start="20" pair-end="104" select="quick" style="color: #de935f">string-join</span><span class="parenthesis" style="color: #81a2be">(</span><span class="higher" start="32" style="color: #f0c674">for</span><span class="whitespace" start="35" style="color: #f0c674"> </span><span id="rng-$i" class="variable" start="36" select="quick" style="color: #ad95af">$i</span><span class="whitespace" start="38" style="color: #f0c674"> </span><span class="op" start="39" style="color: #f0c674">in</span><span class="whitespace" start="41" style="color: #f0c674"> </span><span class="numeric" start="42" style="color: #8abeb7">1</span><span class="whitespace" start="43" style="color: #f0c674"> </span><span class="op" start="44" style="color: #f0c674">to</span><span class="whitespace" start="46" style="color: #f0c674"> </span><span class="variable" start="47" select="quick" style="color: #ad95af">$padCount</span><span class="whitespace" start="56" style="color: #f0c674"> 
                            </span><span class="op" start="86" style="color: #f0c674">return</span><span class="whitespace" start="92" style="color: #f0c674"> </span><span class="variable" start="93" select="quick" style="color: #ad95af">$padChar</span><span class="op" start="101" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="102" style="color: #969896"></span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="104" style="color: #81a2be">)</span><span class="parenthesis" start="105" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:if</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:if</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$padCount</span><span class="whitespace" start="10" style="color: #f0c674"> </span><span class="op" start="11" style="color: #f0c674">lt</span><span class="whitespace" start="13" style="color: #f0c674"> </span><span class="numeric" start="14" style="color: #8abeb7">0</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:sequence</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="120" select="quick" style="color: #de935f">concat</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="8" select="quick" style="color: #ad95af">$padString</span><span class="op" start="18" style="color: #f0c674">,</span><span class="whitespace" start="19" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="20" style="color: #969896">&amp;#10;</span><span class="op" style="color: #f0c674">'</span><span class="op" start="27" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="28" style="color: #969896"> </span><span class="op" style="color: #f0c674">'</span><span class="op" start="31" style="color: #f0c674">,</span><span class="whitespace" start="32" style="color: #f0c674"> </span><span class="function" start="33" pair-end="119" select="quick" style="color: #de935f">string-join</span><span class="parenthesis" style="color: #81a2be">(</span><span class="higher" start="45" style="color: #f0c674">for</span><span class="whitespace" start="48" style="color: #f0c674"> </span><span id="rng-$i" class="variable" start="49" select="quick" style="color: #ad95af">$i</span><span class="whitespace" start="51" style="color: #f0c674"> </span><span class="op" start="52" style="color: #f0c674">in</span><span class="whitespace" start="54" style="color: #f0c674"> </span><span class="numeric" start="55" style="color: #8abeb7">1</span><span class="whitespace" start="56" style="color: #f0c674"> </span><span class="op" start="57" style="color: #f0c674">to</span><span class="whitespace" start="59" style="color: #f0c674"> </span><span class="variable" start="60" select="quick" style="color: #ad95af">$fixedWidth</span><span class="whitespace" start="71" style="color: #f0c674"> 
                            </span><span class="op" start="101" style="color: #f0c674">return</span><span class="whitespace" start="107" style="color: #f0c674"> </span><span class="variable" start="108" select="quick" style="color: #ad95af">$padChar</span><span class="op" start="116" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="117" style="color: #969896"></span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="119" style="color: #81a2be">)</span><span class="parenthesis" start="120" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:if</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
  </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:function</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
  
  
  </span><span class="z" style="color: #616161">&lt;!--</span><span class="cm" style="color: #b5bd68"> top-level call - marks up tokens with their type </span><span class="z" style="color: #616161">--&gt;</span><span class="txt" style="color: #c5c8c6">  
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:function</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="fname" style="color: #cc6666">loc:createXqTokens</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">element()*</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">part</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">preceding-is-closed</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:boolean</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">  
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:if</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="20" select="quick" style="color: #de935f">string-length</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="15" select="quick" style="color: #ad95af">$part</span><span class="parenthesis" start="20" style="color: #81a2be">)</span><span class="whitespace" start="21" style="color: #f0c674"> </span><span class="op" start="22" style="color: #f0c674">gt</span><span class="whitespace" start="24" style="color: #f0c674"> </span><span class="numeric" start="25" style="color: #8abeb7">0</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">rawTokens</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string*</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">
                    </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="20" select="quick" style="color: #de935f">loc:rawTokens</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="15" select="quick" style="color: #ad95af">$part</span><span class="parenthesis" start="20" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
      
      </span><span class="z" style="color: #616161">&lt;!--</span><span class="cm" style="color: #b5bd68"> The XSLT that generates the tokens </span><span class="z" style="color: #616161">--&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">processedTokens</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">element()*</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">
                    </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="41" select="quick" style="color: #de935f">loc:processXqTokens</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="21" select="quick" style="color: #ad95af">$rawTokens</span><span class="op" start="31" style="color: #f0c674">,</span><span class="whitespace" start="32" style="color: #f0c674"> </span><span class="numeric" start="33" style="color: #8abeb7">1</span><span class="op" start="34" style="color: #f0c674">,</span><span class="whitespace" start="35" style="color: #f0c674"> </span><span class="numeric" start="36" style="color: #8abeb7">1</span><span class="op" start="37" style="color: #f0c674">,</span><span class="whitespace" start="38" style="color: #f0c674"> </span><span class="parenthesis" start="39" pair-end="40" select="quick" style="color: #81a2be">(</span><span class="parenthesis" start="40" style="color: #81a2be">)</span><span class="parenthesis" start="41" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
      
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:sequence</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="86" select="quick" style="color: #de935f">loc:rationalizeTokens</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="23" select="quick" style="color: #ad95af">$processedTokens</span><span class="op" start="39" style="color: #f0c674">,</span><span class="whitespace" start="40" style="color: #f0c674"> </span><span class="numeric" start="41" style="color: #8abeb7">1</span><span class="op" start="42" style="color: #f0c674">,</span><span class="whitespace" start="43" style="color: #f0c674"> </span><span class="variable" start="44" select="quick" style="color: #ad95af">$preceding-is-closed</span><span class="op" start="64" style="color: #f0c674">,</span><span class="whitespace" start="65" style="color: #f0c674"> </span><span class="function" start="66" pair-end="72" select="quick" style="color: #de935f">false</span><span class="parenthesis" style="color: #81a2be">(</span><span class="parenthesis" start="72" style="color: #81a2be">)</span><span class="op" start="73" style="color: #f0c674">,</span><span class="whitespace" start="74" style="color: #f0c674"> </span><span class="function" start="75" pair-end="81" select="quick" style="color: #de935f">false</span><span class="parenthesis" style="color: #81a2be">(</span><span class="parenthesis" start="81" style="color: #81a2be">)</span><span class="op" start="82" style="color: #f0c674">,</span><span class="whitespace" start="83" style="color: #f0c674"> </span><span class="parenthesis" start="84" pair-end="85" select="quick" style="color: #81a2be">(</span><span class="parenthesis" start="85" style="color: #81a2be">)</span><span class="parenthesis" start="86" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="z" style="color: #616161">&lt;!--</span><span class="cm" style="color: #b5bd68">          &lt;span class="test" closed="{string($preceding-is-closed)}"&gt;&lt;xsl:value-of select="$part"/&gt;&lt;/span&gt;</span><span class="z" style="color: #616161">--&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:if</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">    
  </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:function</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
  
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:function</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="fname" style="color: #cc6666">loc:rationalizeTokens</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">tokens</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">element()*</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">index</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:integer</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">prevIsClosed</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:boolean</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">typeExpected</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:boolean</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">quantifierExpected</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:boolean</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">result</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">element()*</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    
    </span><span class="z" style="color: #616161">&lt;!--</span><span class="cm" style="color: #b5bd68"> when closed, a probable operator is a QName instead </span><span class="z" style="color: #616161">--&gt;</span><span class="txt" style="color: #c5c8c6">
    
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">token</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$tokens</span><span class="filter" start="8" pair-end="15" select="quick" style="color: #81a2be">[</span><span class="variable" start="9" select="quick" style="color: #ad95af">$index</span><span class="filter" start="15" style="color: #81a2be">]</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">element()?</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">n1Token</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$tokens</span><span class="filter" start="8" pair-end="19" select="quick" style="color: #81a2be">[</span><span class="variable" start="9" select="quick" style="color: #ad95af">$index</span><span class="whitespace" start="15" style="color: #f0c674"> </span><span class="op" start="16" style="color: #f0c674">+</span><span class="whitespace" start="17" style="color: #f0c674"> </span><span class="numeric" start="18" style="color: #8abeb7">1</span><span class="filter" start="19" style="color: #81a2be">]</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">element()?</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">n2Token</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$tokens</span><span class="filter" start="8" pair-end="19" select="quick" style="color: #81a2be">[</span><span class="variable" start="9" select="quick" style="color: #ad95af">$index</span><span class="whitespace" start="15" style="color: #f0c674"> </span><span class="op" start="16" style="color: #f0c674">+</span><span class="whitespace" start="17" style="color: #f0c674"> </span><span class="numeric" start="18" style="color: #8abeb7">2</span><span class="filter" start="19" style="color: #81a2be">]</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">element()?</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">isQuantifier</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$quantifierExpected</span><span class="whitespace" start="20" style="color: #f0c674"> </span><span class="op" start="21" style="color: #f0c674">and</span><span class="whitespace" start="24" style="color: #f0c674"> </span><span class="variable" start="25" select="quick" style="color: #ad95af">$token</span><span class="step" start="31" style="color: #f0c674">/</span><span class="axis" start="32" style="color: #8abeb7">@</span><span class="qname" start="33" select="quick" style="color: #b294bb">value</span><span class="whitespace" start="38" style="color: #f0c674"> </span><span class="op" start="39" style="color: #f0c674">=</span><span class="whitespace" start="40" style="color: #f0c674"> </span><span class="parenthesis" start="41" pair-end="53" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="42" style="color: #969896">?</span><span class="op" style="color: #f0c674">'</span><span class="op" start="45" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="46" style="color: #969896">*</span><span class="op" style="color: #f0c674">'</span><span class="op" start="49" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="50" style="color: #969896">+</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="53" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">is-wildcard</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:boolean</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">
                  </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="18" select="quick" style="color: #de935f">not</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="5" select="quick" style="color: #ad95af">$isQuantifier</span><span class="parenthesis" start="18" style="color: #81a2be">)</span><span class="whitespace" start="19" style="color: #f0c674"> </span><span class="op" start="20" style="color: #f0c674">and</span><span class="whitespace" start="23" style="color: #f0c674"> </span><span class="function" start="24" pair-end="41" select="quick" style="color: #de935f">not</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="28" select="quick" style="color: #ad95af">$prevIsClosed</span><span class="parenthesis" start="41" style="color: #81a2be">)</span><span class="whitespace" start="42" style="color: #f0c674"> </span><span class="op" start="43" style="color: #f0c674">and</span><span class="whitespace" start="46" style="color: #f0c674"> </span><span class="variable" start="47" select="quick" style="color: #ad95af">$token</span><span class="step" start="53" style="color: #f0c674">/</span><span class="axis" start="54" style="color: #8abeb7">@</span><span class="qname" start="55" select="quick" style="color: #b294bb">value</span><span class="whitespace" start="60" style="color: #f0c674"> </span><span class="op" start="61" style="color: #f0c674">eq</span><span class="whitespace" start="63" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="64" style="color: #969896">*</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">currentIsClosed</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:boolean</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">
                  </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$is-wildcard</span><span class="whitespace" start="13" style="color: #f0c674"> </span><span class="op" start="14" style="color: #f0c674">or</span><span class="whitespace" start="16" style="color: #f0c674"> </span><span class="variable" start="17" select="quick" style="color: #ad95af">$isQuantifier</span><span class="whitespace" start="30" style="color: #f0c674"> </span><span class="op" start="31" style="color: #f0c674">or</span><span class="whitespace" start="33" style="color: #f0c674"> </span><span class="function" start="34" pair-end="50" select="quick" style="color: #de935f">not</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="38" select="quick" style="color: #ad95af">$token</span><span class="step" start="44" style="color: #f0c674">/</span><span class="axis" start="45" style="color: #8abeb7">@</span><span class="qname" start="46" select="quick" style="color: #b294bb">type</span><span class="parenthesis" start="50" style="color: #81a2be">)</span><span class="whitespace" start="51" style="color: #f0c674"> </span><span class="op" start="52" style="color: #f0c674">or</span><span class="whitespace" start="54" style="color: #f0c674"> </span><span class="parenthesis" start="55" pair-end="150" select="quick" style="color: #81a2be">(</span><span class="variable" start="56" select="quick" style="color: #ad95af">$token</span><span class="step" start="62" style="color: #f0c674">/</span><span class="axis" start="63" style="color: #8abeb7">@</span><span class="qname" start="64" select="quick" style="color: #b294bb">value</span><span class="whitespace" start="69" style="color: #f0c674"> </span><span class="op" start="70" style="color: #f0c674">=</span><span class="whitespace" start="71" style="color: #f0c674"> </span><span class="parenthesis" start="72" pair-end="85" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="73" style="color: #969896">)</span><span class="op" style="color: #f0c674">'</span><span class="op" start="76" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="77" style="color: #969896">]</span><span class="op" style="color: #f0c674">'</span><span class="op" start="80" style="color: #f0c674">,</span><span class="whitespace" start="81" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="82" style="color: #969896">}</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="85" style="color: #81a2be">)</span><span class="whitespace" start="86" style="color: #f0c674"> </span><span class="op" start="87" style="color: #f0c674">or</span><span class="whitespace" start="89" style="color: #f0c674"> </span><span class="parenthesis" start="90" pair-end="149" select="quick" style="color: #81a2be">(</span><span class="variable" start="91" select="quick" style="color: #ad95af">$token</span><span class="step" start="97" style="color: #f0c674">/</span><span class="axis" start="98" style="color: #8abeb7">@</span><span class="qname" start="99" select="quick" style="color: #b294bb">type</span><span class="whitespace" start="103" style="color: #f0c674"> </span><span class="op" start="104" style="color: #f0c674">=</span><span class="whitespace" start="105" style="color: #f0c674"> </span><span class="parenthesis" start="106" pair-end="148" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="107" style="color: #969896">literal</span><span class="op" style="color: #f0c674">'</span><span class="op" start="116" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="117" style="color: #969896">numeric</span><span class="op" style="color: #f0c674">'</span><span class="op" start="126" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="127" style="color: #969896">variable</span><span class="op" style="color: #f0c674">'</span><span class="op" start="137" style="color: #f0c674">,</span><span class="whitespace" start="138" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="139" style="color: #969896">context</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="148" style="color: #81a2be">)</span><span class="parenthesis" start="149" style="color: #81a2be">)</span><span class="parenthesis" start="150" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">class</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:choose</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="step" start="7" style="color: #f0c674">/</span><span class="axis" start="8" style="color: #8abeb7">@</span><span class="qname" start="9" select="quick" style="color: #b294bb">type</span><span class="whitespace" start="13" style="color: #f0c674"> </span><span class="op" start="14" style="color: #f0c674">=</span><span class="whitespace" start="15" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="16" style="color: #969896">probableOp</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="if" start="1" style="color: #f0c674">if</span><span class="whitespace" start="3" style="color: #f0c674"> </span><span class="parenthesis" start="4" pair-end="18" select="quick" style="color: #81a2be">(</span><span class="variable" start="5" select="quick" style="color: #ad95af">$prevIsClosed</span><span class="parenthesis" start="18" style="color: #81a2be">)</span><span class="whitespace" start="19" style="color: #f0c674"> </span><span class="op" start="20" style="color: #f0c674">then</span><span class="whitespace" start="24" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="25" style="color: #969896">op</span><span class="op" style="color: #f0c674">'</span><span class="whitespace" start="29" style="color: #f0c674"> </span><span class="op" start="30" style="color: #f0c674">else</span><span class="whitespace" start="34" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="35" style="color: #969896">qname</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="19" select="quick" style="color: #de935f">empty</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="7" select="quick" style="color: #ad95af">$token</span><span class="step" start="13" style="color: #f0c674">/</span><span class="axis" start="14" style="color: #8abeb7">@</span><span class="qname" start="15" select="quick" style="color: #b294bb">type</span><span class="parenthesis" start="19" style="color: #81a2be">)</span><span class="whitespace" start="20" style="color: #f0c674"> </span><span class="op" start="21" style="color: #f0c674">and</span><span class="whitespace" start="24" style="color: #f0c674"> </span><span class="variable" start="25" select="quick" style="color: #ad95af">$token</span><span class="step" start="31" style="color: #f0c674">/</span><span class="axis" start="32" style="color: #8abeb7">@</span><span class="qname" start="33" select="quick" style="color: #b294bb">value</span><span class="whitespace" start="38" style="color: #f0c674"> </span><span class="op" start="39" style="color: #f0c674">=</span><span class="whitespace" start="40" style="color: #f0c674"> </span><span class="parenthesis" start="41" pair-end="63" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="42" style="color: #969896">element</span><span class="op" style="color: #f0c674">'</span><span class="op" start="51" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="52" style="color: #969896">attribute</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="63" style="color: #81a2be">)</span><span class="whitespace" start="64" style="color: #f0c674">
                        </span><span class="op" start="93" style="color: #f0c674">and</span><span class="whitespace" start="96" style="color: #f0c674"> </span><span class="function" start="97" pair-end="112" select="quick" style="color: #de935f">exists</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="104" select="quick" style="color: #ad95af">$n2Token</span><span class="parenthesis" start="112" style="color: #81a2be">)</span><span class="whitespace" start="113" style="color: #f0c674"> </span><span class="op" start="114" style="color: #f0c674">and</span><span class="whitespace" start="117" style="color: #f0c674"> </span><span class="variable" start="118" select="quick" style="color: #ad95af">$n1Token</span><span class="step" start="126" style="color: #f0c674">/</span><span class="axis" start="127" style="color: #8abeb7">@</span><span class="qname" start="128" select="quick" style="color: #b294bb">type</span><span class="whitespace" start="132" style="color: #f0c674"> </span><span class="op" start="133" style="color: #f0c674">eq</span><span class="whitespace" start="135" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="136" style="color: #969896">whitespace</span><span class="op" style="color: #f0c674">'</span><span class="whitespace" start="148" style="color: #f0c674"> </span><span class="op" start="149" style="color: #f0c674">and</span><span class="whitespace" start="152" style="color: #f0c674"> </span><span class="function" start="153" pair-end="173" select="quick" style="color: #de935f">empty</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="159" select="quick" style="color: #ad95af">$n2Token</span><span class="step" start="167" style="color: #f0c674">/</span><span class="axis" start="168" style="color: #8abeb7">@</span><span class="qname" start="169" select="quick" style="color: #b294bb">type</span><span class="parenthesis" start="173" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">axis</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="19" select="quick" style="color: #de935f">empty</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="7" select="quick" style="color: #ad95af">$token</span><span class="step" start="13" style="color: #f0c674">/</span><span class="axis" start="14" style="color: #8abeb7">@</span><span class="qname" start="15" select="quick" style="color: #b294bb">type</span><span class="parenthesis" start="19" style="color: #81a2be">)</span><span class="whitespace" start="20" style="color: #f0c674"> </span><span class="op" start="21" style="color: #f0c674">and</span><span class="whitespace" start="24" style="color: #f0c674"> </span><span class="variable" start="25" select="quick" style="color: #ad95af">$token</span><span class="step" start="31" style="color: #f0c674">/</span><span class="axis" start="32" style="color: #8abeb7">@</span><span class="qname" start="33" select="quick" style="color: #b294bb">value</span><span class="whitespace" start="38" style="color: #f0c674"> </span><span class="op" start="39" style="color: #f0c674">eq</span><span class="whitespace" start="41" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="42" style="color: #969896">default</span><span class="op" style="color: #f0c674">'</span><span class="whitespace" start="51" style="color: #f0c674">
                        </span><span class="op" start="80" style="color: #f0c674">and</span><span class="whitespace" start="83" style="color: #f0c674"> </span><span class="function" start="84" pair-end="99" select="quick" style="color: #de935f">exists</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="91" select="quick" style="color: #ad95af">$n2Token</span><span class="parenthesis" start="99" style="color: #81a2be">)</span><span class="whitespace" start="100" style="color: #f0c674"> </span><span class="op" start="101" style="color: #f0c674">and</span><span class="whitespace" start="104" style="color: #f0c674"> </span><span class="variable" start="105" select="quick" style="color: #ad95af">$n1Token</span><span class="step" start="113" style="color: #f0c674">/</span><span class="axis" start="114" style="color: #8abeb7">@</span><span class="qname" start="115" select="quick" style="color: #b294bb">type</span><span class="whitespace" start="119" style="color: #f0c674"> </span><span class="op" start="120" style="color: #f0c674">eq</span><span class="whitespace" start="122" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="123" style="color: #969896">whitespace</span><span class="op" style="color: #f0c674">'</span><span class="whitespace" start="135" style="color: #f0c674"> </span><span class="op" start="136" style="color: #f0c674">and</span><span class="whitespace" start="139" style="color: #f0c674"> </span><span class="variable" start="140" select="quick" style="color: #ad95af">$n2Token</span><span class="step" start="148" style="color: #f0c674">/</span><span class="axis" start="149" style="color: #8abeb7">@</span><span class="qname" start="150" select="quick" style="color: #b294bb">value</span><span class="whitespace" start="155" style="color: #f0c674"> </span><span class="op" start="156" style="color: #f0c674">eq</span><span class="whitespace" start="158" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="159" style="color: #969896">return</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">axis</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="19" select="quick" style="color: #de935f">empty</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="7" select="quick" style="color: #ad95af">$token</span><span class="step" start="13" style="color: #f0c674">/</span><span class="axis" start="14" style="color: #8abeb7">@</span><span class="qname" start="15" select="quick" style="color: #b294bb">type</span><span class="parenthesis" start="19" style="color: #81a2be">)</span><span class="whitespace" start="20" style="color: #f0c674"> </span><span class="op" start="21" style="color: #f0c674">and</span><span class="whitespace" start="24" style="color: #f0c674"> </span><span class="variable" start="25" select="quick" style="color: #ad95af">$token</span><span class="step" start="31" style="color: #f0c674">/</span><span class="axis" start="32" style="color: #8abeb7">@</span><span class="qname" start="33" select="quick" style="color: #b294bb">value</span><span class="whitespace" start="38" style="color: #f0c674"> </span><span class="op" start="39" style="color: #f0c674">eq</span><span class="whitespace" start="41" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="42" style="color: #969896">case</span><span class="op" style="color: #f0c674">'</span><span class="whitespace" start="48" style="color: #f0c674">
                        </span><span class="op" start="77" style="color: #f0c674">and</span><span class="whitespace" start="80" style="color: #f0c674"> </span><span class="function" start="81" pair-end="96" select="quick" style="color: #de935f">exists</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="88" select="quick" style="color: #ad95af">$n2Token</span><span class="parenthesis" start="96" style="color: #81a2be">)</span><span class="whitespace" start="97" style="color: #f0c674"> </span><span class="op" start="98" style="color: #f0c674">and</span><span class="whitespace" start="101" style="color: #f0c674"> </span><span class="variable" start="102" select="quick" style="color: #ad95af">$n1Token</span><span class="step" start="110" style="color: #f0c674">/</span><span class="axis" start="111" style="color: #8abeb7">@</span><span class="qname" start="112" select="quick" style="color: #b294bb">type</span><span class="whitespace" start="116" style="color: #f0c674"> </span><span class="op" start="117" style="color: #f0c674">eq</span><span class="whitespace" start="119" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="120" style="color: #969896">whitespace</span><span class="op" style="color: #f0c674">'</span><span class="whitespace" start="132" style="color: #f0c674"> </span><span class="op" start="133" style="color: #f0c674">and</span><span class="whitespace" start="136" style="color: #f0c674"> </span><span class="parenthesis" start="137" pair-end="201" select="quick" style="color: #81a2be">(</span><span class="function" start="138" pair-end="158" select="quick" style="color: #de935f">empty</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="144" select="quick" style="color: #ad95af">$n2Token</span><span class="step" start="152" style="color: #f0c674">/</span><span class="axis" start="153" style="color: #8abeb7">@</span><span class="qname" start="154" select="quick" style="color: #b294bb">type</span><span class="parenthesis" start="158" style="color: #81a2be">)</span><span class="whitespace" start="159" style="color: #f0c674"> </span><span class="op" start="160" style="color: #f0c674">or</span><span class="whitespace" start="162" style="color: #f0c674"> </span><span class="variable" start="163" select="quick" style="color: #ad95af">$n2Token</span><span class="step" start="171" style="color: #f0c674">/</span><span class="axis" start="172" style="color: #8abeb7">@</span><span class="qname" start="173" select="quick" style="color: #b294bb">type</span><span class="whitespace" start="177" style="color: #f0c674"> </span><span class="op" start="178" style="color: #f0c674">=</span><span class="whitespace" start="179" style="color: #f0c674"> </span><span class="parenthesis" start="180" pair-end="200" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="181" style="color: #969896">node</span><span class="op" style="color: #f0c674">'</span><span class="op" start="187" style="color: #f0c674">,</span><span class="whitespace" start="188" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="189" style="color: #969896">type-name</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="200" style="color: #81a2be">)</span><span class="parenthesis" start="201" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">axis</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="19" select="quick" style="color: #de935f">empty</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="7" select="quick" style="color: #ad95af">$token</span><span class="step" start="13" style="color: #f0c674">/</span><span class="axis" start="14" style="color: #8abeb7">@</span><span class="qname" start="15" select="quick" style="color: #b294bb">type</span><span class="parenthesis" start="19" style="color: #81a2be">)</span><span class="whitespace" start="20" style="color: #f0c674"> </span><span class="op" start="21" style="color: #f0c674">and</span><span class="whitespace" start="24" style="color: #f0c674"> </span><span class="variable" start="25" select="quick" style="color: #ad95af">$token</span><span class="step" start="31" style="color: #f0c674">/</span><span class="axis" start="32" style="color: #8abeb7">@</span><span class="qname" start="33" select="quick" style="color: #b294bb">value</span><span class="whitespace" start="38" style="color: #f0c674"> </span><span class="op" start="39" style="color: #f0c674">=</span><span class="whitespace" start="40" style="color: #f0c674"> </span><span class="parenthesis" start="41" pair-end="66" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="42" style="color: #969896">ascending</span><span class="op" style="color: #f0c674">'</span><span class="op" start="53" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="54" style="color: #969896">descending</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="66" style="color: #81a2be">)</span><span class="whitespace" start="67" style="color: #f0c674">
                        </span><span class="op" start="96" style="color: #f0c674">and</span><span class="whitespace" start="99" style="color: #f0c674"> </span><span class="function" start="100" pair-end="115" select="quick" style="color: #de935f">exists</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="107" select="quick" style="color: #ad95af">$n2Token</span><span class="parenthesis" start="115" style="color: #81a2be">)</span><span class="whitespace" start="116" style="color: #f0c674"> </span><span class="op" start="117" style="color: #f0c674">and</span><span class="whitespace" start="120" style="color: #f0c674"> </span><span class="variable" start="121" select="quick" style="color: #ad95af">$n1Token</span><span class="step" start="129" style="color: #f0c674">/</span><span class="axis" start="130" style="color: #8abeb7">@</span><span class="qname" start="131" select="quick" style="color: #b294bb">type</span><span class="whitespace" start="135" style="color: #f0c674"> </span><span class="op" start="136" style="color: #f0c674">eq</span><span class="whitespace" start="138" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="139" style="color: #969896">whitespace</span><span class="op" style="color: #f0c674">'</span><span class="whitespace" start="151" style="color: #f0c674"> </span><span class="op" start="152" style="color: #f0c674">and</span><span class="whitespace" start="155" style="color: #f0c674"> </span><span class="variable" start="156" select="quick" style="color: #ad95af">$n2Token</span><span class="step" start="164" style="color: #f0c674">/</span><span class="axis" start="165" style="color: #8abeb7">@</span><span class="qname" start="166" select="quick" style="color: #b294bb">value</span><span class="whitespace" start="171" style="color: #f0c674"> </span><span class="op" start="172" style="color: #f0c674">eq</span><span class="whitespace" start="174" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="175" style="color: #969896">return</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">op</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$is-wildcard</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:text</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">qname</span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:text</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="step" start="7" style="color: #f0c674">/</span><span class="axis" start="8" style="color: #8abeb7">@</span><span class="qname" start="9" select="quick" style="color: #b294bb">type</span><span class="whitespace" start="13" style="color: #f0c674"> </span><span class="op" start="14" style="color: #f0c674">=</span><span class="whitespace" start="15" style="color: #f0c674"> </span><span class="parenthesis" start="16" pair-end="40" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="17" style="color: #969896">function</span><span class="op" style="color: #f0c674">'</span><span class="op" start="27" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="28" style="color: #969896">if</span><span class="op" style="color: #f0c674">'</span><span class="op" start="32" style="color: #f0c674">,</span><span class="whitespace" start="33" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="34" style="color: #969896">node</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="40" style="color: #81a2be">)</span><span class="whitespace" start="41" style="color: #f0c674"> </span><span class="op" start="42" style="color: #f0c674">or</span><span class="whitespace" start="44" style="color: #f0c674"> </span><span class="variable" start="45" select="quick" style="color: #ad95af">$token</span><span class="step" start="51" style="color: #f0c674">/</span><span class="axis" start="52" style="color: #8abeb7">@</span><span class="qname" start="53" select="quick" style="color: #b294bb">value</span><span class="whitespace" start="58" style="color: #f0c674"> </span><span class="op" start="59" style="color: #f0c674">=</span><span class="whitespace" start="60" style="color: #f0c674"> </span><span class="parenthesis" start="61" pair-end="69" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="62" style="color: #969896">(</span><span class="op" style="color: #f0c674">'</span><span class="op" start="65" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="66" style="color: #969896">[</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="69" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:choose</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$typeExpected</span><span class="whitespace" start="14" style="color: #f0c674"> </span><span class="op" start="15" style="color: #f0c674">and</span><span class="whitespace" start="18" style="color: #f0c674"> </span><span class="variable" start="19" select="quick" style="color: #ad95af">$token</span><span class="step" start="25" style="color: #f0c674">/</span><span class="axis" start="26" style="color: #8abeb7">@</span><span class="qname" start="27" select="quick" style="color: #b294bb">type</span><span class="whitespace" start="31" style="color: #f0c674"> </span><span class="op" start="32" style="color: #f0c674">=</span><span class="whitespace" start="33" style="color: #f0c674"> </span><span class="parenthesis" start="34" pair-end="53" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="35" style="color: #969896">node</span><span class="op" style="color: #f0c674">'</span><span class="op" start="41" style="color: #f0c674">,</span><span class="whitespace" start="42" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="43" style="color: #969896">function</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="53" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
              </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">node-type</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:otherwise</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
              </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="step" start="7" style="color: #f0c674">/</span><span class="axis" start="8" style="color: #8abeb7">@</span><span class="qname" start="9" select="quick" style="color: #b294bb">type</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:otherwise</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:choose</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$typeExpected</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="if" start="1" style="color: #f0c674">if</span><span class="whitespace" start="3" style="color: #f0c674"> </span><span class="parenthesis" start="4" pair-end="17" select="quick" style="color: #81a2be">(</span><span class="variable" start="5" select="quick" style="color: #ad95af">$token</span><span class="step" start="11" style="color: #f0c674">/</span><span class="axis" start="12" style="color: #8abeb7">@</span><span class="qname" start="13" select="quick" style="color: #b294bb">type</span><span class="parenthesis" start="17" style="color: #81a2be">)</span><span class="whitespace" start="18" style="color: #f0c674"> </span><span class="op" start="19" style="color: #f0c674">then</span><span class="whitespace" start="23" style="color: #f0c674"> </span><span class="variable" start="24" select="quick" style="color: #ad95af">$token</span><span class="step" start="30" style="color: #f0c674">/</span><span class="axis" start="31" style="color: #8abeb7">@</span><span class="qname" start="32" select="quick" style="color: #b294bb">type</span><span class="whitespace" start="36" style="color: #f0c674"> </span><span class="op" start="37" style="color: #f0c674">else</span><span class="whitespace" start="41" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="42" style="color: #969896">type-name</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$isQuantifier</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">quantifier</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="step" start="7" style="color: #f0c674">/</span><span class="axis" start="8" style="color: #8abeb7">@</span><span class="qname" start="9" select="quick" style="color: #b294bb">type</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="step" start="7" style="color: #f0c674">/</span><span class="axis" start="8" style="color: #8abeb7">@</span><span class="qname" start="9" select="quick" style="color: #b294bb">type</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:otherwise</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:text</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">qname</span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:text</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:otherwise</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:choose</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:variable</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">result1</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">element()+</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">       
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:element</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">span</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="z" style="color: #616161">&lt;!--</span><span class="cm" style="color: #b5bd68">          &lt;xsl:attribute name="start" select="$token/@start"/&gt;</span><span class="z" style="color: #616161">--&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">class</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$class</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">value</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="step" start="7" style="color: #f0c674">/</span><span class="axis" start="8" style="color: #8abeb7">@</span><span class="qname" start="9" select="quick" style="color: #b294bb">value</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">         
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="if" start="1" style="color: #f0c674">if</span><span class="whitespace" start="3" style="color: #f0c674"> </span><span class="parenthesis" start="4" pair-end="46" select="quick" style="color: #81a2be">(</span><span class="variable" start="5" select="quick" style="color: #ad95af">$class</span><span class="whitespace" start="11" style="color: #f0c674"> </span><span class="op" start="12" style="color: #f0c674">=</span><span class="whitespace" start="13" style="color: #f0c674"> </span><span class="parenthesis" start="14" pair-end="45" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="15" style="color: #969896">type</span><span class="op" style="color: #f0c674">'</span><span class="op" start="21" style="color: #f0c674">,</span><span class="whitespace" start="22" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="23" style="color: #969896">node-type</span><span class="op" style="color: #f0c674">'</span><span class="op" start="34" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="35" style="color: #969896">function</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="45" style="color: #81a2be">)</span><span class="parenthesis" start="46" style="color: #81a2be">)</span><span class="whitespace" start="47" style="color: #f0c674"> </span><span class="op" start="48" style="color: #f0c674">then</span><span class="whitespace" start="52" style="color: #f0c674"> </span><span class="function" start="53" pair-end="99" select="quick" style="color: #de935f">substring</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="63" select="quick" style="color: #ad95af">$value</span><span class="op" start="69" style="color: #f0c674">,</span><span class="whitespace" start="70" style="color: #f0c674"> </span><span class="numeric" start="71" style="color: #8abeb7">1</span><span class="op" start="72" style="color: #f0c674">,</span><span class="whitespace" start="73" style="color: #f0c674"> </span><span class="function" start="74" pair-end="94" select="quick" style="color: #de935f">string-length</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="88" select="quick" style="color: #ad95af">$value</span><span class="parenthesis" start="94" style="color: #81a2be">)</span><span class="whitespace" start="95" style="color: #f0c674"> </span><span class="op" start="96" style="color: #f0c674">-</span><span class="whitespace" start="97" style="color: #f0c674"> </span><span class="numeric" start="98" style="color: #8abeb7">1</span><span class="parenthesis" start="99" style="color: #81a2be">)</span><span class="whitespace" start="100" style="color: #f0c674"> </span><span class="op" start="101" style="color: #f0c674">else</span><span class="whitespace" start="105" style="color: #f0c674"> </span><span class="variable" start="106" select="quick" style="color: #ad95af">$value</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:element</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:if</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$class</span><span class="whitespace" start="7" style="color: #f0c674"> </span><span class="op" start="8" style="color: #f0c674">=</span><span class="whitespace" start="9" style="color: #f0c674"> </span><span class="parenthesis" start="10" pair-end="41" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="11" style="color: #969896">type</span><span class="op" style="color: #f0c674">'</span><span class="op" start="17" style="color: #f0c674">,</span><span class="whitespace" start="18" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="19" style="color: #969896">node-type</span><span class="op" style="color: #f0c674">'</span><span class="op" start="30" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="31" style="color: #969896">function</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="41" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="en" style="color: #b294bb">span</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">class</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">parenthesis</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">(</span><span class="ez" style="color: #616161">&lt;/</span><span class="cl" style="color: #b294bb">span</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:if</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:variable</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">ignorable</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:boolean</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">
                  </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="step" start="7" style="color: #f0c674">/</span><span class="axis" start="8" style="color: #8abeb7">@</span><span class="qname" start="9" select="quick" style="color: #b294bb">type</span><span class="whitespace" start="13" style="color: #f0c674"> </span><span class="op" start="14" style="color: #f0c674">=</span><span class="whitespace" start="15" style="color: #f0c674"> </span><span class="parenthesis" start="16" pair-end="40" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="17" style="color: #969896">whitespace</span><span class="op" style="color: #f0c674">'</span><span class="op" start="29" style="color: #f0c674">,</span><span class="whitespace" start="30" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="31" style="color: #969896">comment</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="40" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">isNewClosed</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:boolean</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:choose</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$ignorable</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$prevIsClosed</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="step" start="7" style="color: #f0c674">/</span><span class="axis" start="8" style="color: #8abeb7">@</span><span class="qname" start="9" select="quick" style="color: #b294bb">type</span><span class="whitespace" start="13" style="color: #f0c674"> </span><span class="op" start="14" style="color: #f0c674">=</span><span class="whitespace" start="15" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="16" style="color: #969896">probableOp</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="18" select="quick" style="color: #de935f">not</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="5" select="quick" style="color: #ad95af">$prevIsClosed</span><span class="parenthesis" start="18" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:otherwise</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$currentIsClosed</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:otherwise</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:choose</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:variable</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">newTypeExpected</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:boolean</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">
                  </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="if" start="1" style="color: #f0c674">if</span><span class="whitespace" start="3" style="color: #f0c674"> </span><span class="parenthesis" start="4" pair-end="15" select="quick" style="color: #81a2be">(</span><span class="variable" start="5" select="quick" style="color: #ad95af">$ignorable</span><span class="parenthesis" start="15" style="color: #81a2be">)</span><span class="whitespace" start="16" style="color: #f0c674"> </span><span class="op" start="17" style="color: #f0c674">then</span><span class="whitespace" start="21" style="color: #f0c674"> </span><span class="variable" start="22" select="quick" style="color: #ad95af">$typeExpected</span><span class="whitespace" start="35" style="color: #f0c674">
                          </span><span class="op" start="62" style="color: #f0c674">else</span><span class="whitespace" start="66" style="color: #f0c674"> </span><span class="parenthesis" start="67" pair-end="92" select="quick" style="color: #81a2be">(</span><span class="variable" start="68" select="quick" style="color: #ad95af">$token</span><span class="step" start="74" style="color: #f0c674">/</span><span class="axis" start="75" style="color: #8abeb7">@</span><span class="qname" start="76" select="quick" style="color: #b294bb">type</span><span class="whitespace" start="80" style="color: #f0c674"> </span><span class="op" start="81" style="color: #f0c674">=</span><span class="whitespace" start="82" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="83" style="color: #969896">type-op</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="92" style="color: #81a2be">)</span><span class="whitespace" start="93" style="color: #f0c674"> </span><span class="op" start="94" style="color: #f0c674">or</span><span class="whitespace" start="96" style="color: #f0c674"> </span><span class="parenthesis" start="97" pair-end="119" select="quick" style="color: #81a2be">(</span><span class="variable" start="98" select="quick" style="color: #ad95af">$token</span><span class="step" start="104" style="color: #f0c674">/</span><span class="axis" start="105" style="color: #8abeb7">@</span><span class="qname" start="106" select="quick" style="color: #b294bb">value</span><span class="whitespace" start="111" style="color: #f0c674"> </span><span class="op" start="112" style="color: #f0c674">eq</span><span class="whitespace" start="114" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="115" style="color: #969896">as</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="119" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:choose</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$index</span><span class="whitespace" start="7" style="color: #f0c674"> </span><span class="op" start="8" style="color: #f0c674">+</span><span class="whitespace" start="9" style="color: #f0c674"> </span><span class="numeric" start="10" style="color: #8abeb7">1</span><span class="whitespace" start="11" style="color: #f0c674"> </span><span class="op" start="12" style="color: #f0c674">le</span><span class="whitespace" start="14" style="color: #f0c674"> </span><span class="function" start="15" pair-end="28" select="quick" style="color: #de935f">count</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="21" select="quick" style="color: #ad95af">$tokens</span><span class="parenthesis" start="28" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">qExpected</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:boolean</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">
                      </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$typeExpected</span><span class="whitespace" start="14" style="color: #f0c674"> </span><span class="op" start="15" style="color: #f0c674">or</span><span class="whitespace" start="17" style="color: #f0c674"> </span><span class="variable" start="18" select="quick" style="color: #ad95af">$token</span><span class="step" start="24" style="color: #f0c674">/</span><span class="axis" start="25" style="color: #8abeb7">@</span><span class="qname" start="26" select="quick" style="color: #b294bb">value</span><span class="whitespace" start="31" style="color: #f0c674"> </span><span class="op" start="32" style="color: #f0c674">=</span><span class="whitespace" start="33" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="34" style="color: #969896">)</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6"> 
        
        
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:sequence</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="139" select="quick" style="color: #de935f">loc:rationalizeTokens</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="23" select="quick" style="color: #ad95af">$tokens</span><span class="op" start="30" style="color: #f0c674">,</span><span class="whitespace" start="31" style="color: #f0c674"> </span><span class="variable" start="32" select="quick" style="color: #ad95af">$index</span><span class="whitespace" start="38" style="color: #f0c674"> </span><span class="op" start="39" style="color: #f0c674">+</span><span class="whitespace" start="40" style="color: #f0c674"> </span><span class="numeric" start="41" style="color: #8abeb7">1</span><span class="op" start="42" style="color: #f0c674">,</span><span class="whitespace" start="43" style="color: #f0c674"> </span><span class="variable" start="44" select="quick" style="color: #ad95af">$isNewClosed</span><span class="op" start="56" style="color: #f0c674">,</span><span class="whitespace" start="57" style="color: #f0c674">
                              </span><span class="variable" start="90" select="quick" style="color: #ad95af">$newTypeExpected</span><span class="op" start="106" style="color: #f0c674">,</span><span class="whitespace" start="107" style="color: #f0c674"> </span><span class="variable" start="108" select="quick" style="color: #ad95af">$qExpected</span><span class="op" start="118" style="color: #f0c674">,</span><span class="whitespace" start="119" style="color: #f0c674"> </span><span class="parenthesis" start="120" pair-end="138" select="quick" style="color: #81a2be">(</span><span class="variable" start="121" select="quick" style="color: #ad95af">$result</span><span class="op" start="128" style="color: #f0c674">,</span><span class="whitespace" start="129" style="color: #f0c674"> </span><span class="variable" start="130" select="quick" style="color: #ad95af">$result1</span><span class="parenthesis" start="138" style="color: #81a2be">)</span><span class="parenthesis" start="139" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:otherwise</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:if</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="17" select="quick" style="color: #de935f">not</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="5" select="quick" style="color: #ad95af">$isNewClosed</span><span class="parenthesis" start="17" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="en" style="color: #b294bb">span</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">class</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">open</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:if</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:sequence</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="parenthesis" start="1" pair-end="19" select="quick" style="color: #81a2be">(</span><span class="variable" start="2" select="quick" style="color: #ad95af">$result</span><span class="op" start="9" style="color: #f0c674">,</span><span class="whitespace" start="10" style="color: #f0c674"> </span><span class="variable" start="11" select="quick" style="color: #ad95af">$result1</span><span class="parenthesis" start="19" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:otherwise</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:choose</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    
        
  </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:function</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
  
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:function</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="fname" style="color: #cc6666">loc:processXqTokens</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">element()*</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">tokens</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string*</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">start</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:integer</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">index</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:integer</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">result</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">element()*</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">  
    
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">token</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string?</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">
                  </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$tokens</span><span class="filter" start="8" pair-end="15" select="quick" style="color: #81a2be">[</span><span class="variable" start="9" select="quick" style="color: #ad95af">$index</span><span class="filter" start="15" style="color: #81a2be">]</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">end</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:integer</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">
                  </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$start</span><span class="whitespace" start="7" style="color: #f0c674"> </span><span class="op" start="8" style="color: #f0c674">+</span><span class="whitespace" start="9" style="color: #f0c674"> </span><span class="function" start="10" pair-end="30" select="quick" style="color: #de935f">string-length</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="24" select="quick" style="color: #ad95af">$token</span><span class="parenthesis" start="30" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">result1</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">element()</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">       
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:element</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">token</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">start</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$start</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">end</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$end</span><span class="whitespace" start="5" style="color: #f0c674"> </span><span class="op" start="6" style="color: #f0c674">-</span><span class="whitespace" start="7" style="color: #f0c674"> </span><span class="numeric" start="8" style="color: #8abeb7">1</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">value</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">isSimpleOps</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="whitespace" start="7" style="color: #f0c674"> </span><span class="op" start="8" style="color: #f0c674">=</span><span class="whitespace" start="9" style="color: #f0c674"> </span><span class="variable" start="10" select="quick" style="color: #ad95af">$simpleOps</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:boolean</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:if</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$isSimpleOps</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">type</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="if" start="1" pair-end="23" style="color: #f0c674">if</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="4" select="quick" style="color: #ad95af">$token</span><span class="whitespace" start="10" style="color: #f0c674"> </span><span class="op" start="11" style="color: #f0c674">=</span><span class="whitespace" start="12" style="color: #f0c674"> </span><span class="parenthesis" start="13" pair-end="22" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="14" style="color: #969896">/</span><span class="op" style="color: #f0c674">'</span><span class="op" start="17" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="18" style="color: #969896">//</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="22" style="color: #81a2be">)</span><span class="parenthesis" start="23" style="color: #81a2be">)</span><span class="whitespace" start="24" style="color: #f0c674"> </span><span class="op" start="25" style="color: #f0c674">then</span><span class="whitespace" start="29" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="30" style="color: #969896">step</span><span class="op" style="color: #f0c674">'</span><span class="whitespace" start="36" style="color: #f0c674"> </span><span class="op" start="37" style="color: #f0c674">else</span><span class="whitespace" start="41" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="42" style="color: #969896">op</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:if</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">isDoubleToken</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:boolean</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:choose</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$isSimpleOps</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
              </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="7" select="quick" style="color: #de935f">false</span><span class="parenthesis" style="color: #81a2be">(</span><span class="parenthesis" start="7" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:otherwise</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
              </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">splitToken</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string*</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">
                            </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="31" select="quick" style="color: #de935f">tokenize</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="10" select="quick" style="color: #ad95af">$token</span><span class="op" start="16" style="color: #f0c674">,</span><span class="whitespace" start="17" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="18" style="color: #969896">[\s\p{Zs}]+</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="31" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
              </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161">
                  </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="if" start="1" style="color: #f0c674">if</span><span class="whitespace" start="3" style="color: #f0c674"> </span><span class="parenthesis" start="4" pair-end="28" select="quick" style="color: #81a2be">(</span><span class="function" start="5" pair-end="22" select="quick" style="color: #de935f">count</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="11" select="quick" style="color: #ad95af">$splitToken</span><span class="parenthesis" start="22" style="color: #81a2be">)</span><span class="whitespace" start="23" style="color: #f0c674"> </span><span class="op" start="24" style="color: #f0c674">ne</span><span class="whitespace" start="26" style="color: #f0c674"> </span><span class="numeric" start="27" style="color: #8abeb7">2</span><span class="parenthesis" start="28" style="color: #81a2be">)</span><span class="whitespace" start="29" style="color: #f0c674"> </span><span class="op" start="30" style="color: #f0c674">then</span><span class="whitespace" start="34" style="color: #f0c674"> </span><span class="function" start="35" pair-end="41" select="quick" style="color: #de935f">false</span><span class="parenthesis" style="color: #81a2be">(</span><span class="parenthesis" start="41" style="color: #81a2be">)</span><span class="whitespace" start="42" style="color: #f0c674">
                          </span><span class="op" start="67" style="color: #f0c674">else</span><span class="whitespace" start="71" style="color: #f0c674"> </span><span class="if" start="72" style="color: #f0c674">if</span><span class="whitespace" start="74" style="color: #f0c674"> </span><span class="parenthesis" start="75" pair-end="131" select="quick" style="color: #81a2be">(</span><span class="variable" start="76" select="quick" style="color: #ad95af">$splitToken</span><span class="filter" start="87" pair-end="89" select="quick" style="color: #81a2be">[</span><span class="numeric" start="88" style="color: #8abeb7">1</span><span class="filter" start="89" style="color: #81a2be">]</span><span class="whitespace" start="90" style="color: #f0c674"> </span><span class="op" start="91" style="color: #f0c674">eq</span><span class="whitespace" start="93" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="94" style="color: #969896">instance</span><span class="op" style="color: #f0c674">'</span><span class="whitespace" start="104" style="color: #f0c674"> </span><span class="op" start="105" style="color: #f0c674">and</span><span class="whitespace" start="108" style="color: #f0c674"> </span><span class="variable" start="109" select="quick" style="color: #ad95af">$splitToken</span><span class="filter" start="120" pair-end="122" select="quick" style="color: #81a2be">[</span><span class="numeric" start="121" style="color: #8abeb7">2</span><span class="filter" start="122" style="color: #81a2be">]</span><span class="whitespace" start="123" style="color: #f0c674"> </span><span class="op" start="124" style="color: #f0c674">eq</span><span class="whitespace" start="126" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="127" style="color: #969896">of</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="131" style="color: #81a2be">)</span><span class="whitespace" start="132" style="color: #f0c674"> 
                          </span><span class="op" start="158" style="color: #f0c674">then</span><span class="whitespace" start="162" style="color: #f0c674"> </span><span class="function" start="163" pair-end="168" select="quick" style="color: #de935f">true</span><span class="parenthesis" style="color: #81a2be">(</span><span class="parenthesis" start="168" style="color: #81a2be">)</span><span class="whitespace" start="169" style="color: #f0c674">
                          </span><span class="op" start="194" style="color: #f0c674">else</span><span class="whitespace" start="198" style="color: #f0c674"> </span><span class="if" start="199" style="color: #f0c674">if</span><span class="whitespace" start="201" style="color: #f0c674"> </span><span class="parenthesis" start="202" pair-end="255" select="quick" style="color: #81a2be">(</span><span class="variable" start="203" select="quick" style="color: #ad95af">$splitToken</span><span class="filter" start="214" pair-end="216" select="quick" style="color: #81a2be">[</span><span class="numeric" start="215" style="color: #8abeb7">1</span><span class="filter" start="216" style="color: #81a2be">]</span><span class="whitespace" start="217" style="color: #f0c674"> </span><span class="op" start="218" style="color: #f0c674">eq</span><span class="whitespace" start="220" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="221" style="color: #969896">order</span><span class="op" style="color: #f0c674">'</span><span class="whitespace" start="228" style="color: #f0c674"> </span><span class="op" start="229" style="color: #f0c674">and</span><span class="whitespace" start="232" style="color: #f0c674"> </span><span class="variable" start="233" select="quick" style="color: #ad95af">$splitToken</span><span class="filter" start="244" pair-end="246" select="quick" style="color: #81a2be">[</span><span class="numeric" start="245" style="color: #8abeb7">2</span><span class="filter" start="246" style="color: #81a2be">]</span><span class="whitespace" start="247" style="color: #f0c674"> </span><span class="op" start="248" style="color: #f0c674">eq</span><span class="whitespace" start="250" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="251" style="color: #969896">by</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="255" style="color: #81a2be">)</span><span class="whitespace" start="256" style="color: #f0c674"> 
                          </span><span class="op" start="282" style="color: #f0c674">then</span><span class="whitespace" start="286" style="color: #f0c674"> </span><span class="function" start="287" pair-end="292" select="quick" style="color: #de935f">true</span><span class="parenthesis" style="color: #81a2be">(</span><span class="parenthesis" start="292" style="color: #81a2be">)</span><span class="whitespace" start="293" style="color: #f0c674">
                          </span><span class="op" start="318" style="color: #f0c674">else</span><span class="whitespace" start="322" style="color: #f0c674"> </span><span class="if" start="323" style="color: #f0c674">if</span><span class="whitespace" start="325" style="color: #f0c674"> </span><span class="parenthesis" start="326" pair-end="398" select="quick" style="color: #81a2be">(</span><span class="variable" start="327" select="quick" style="color: #ad95af">$splitToken</span><span class="filter" start="338" pair-end="340" select="quick" style="color: #81a2be">[</span><span class="numeric" start="339" style="color: #8abeb7">1</span><span class="filter" start="340" style="color: #81a2be">]</span><span class="whitespace" start="341" style="color: #f0c674"> </span><span class="op" start="342" style="color: #f0c674">=</span><span class="whitespace" start="343" style="color: #f0c674"> </span><span class="parenthesis" start="344" pair-end="370" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="345" style="color: #969896">cast</span><span class="op" style="color: #f0c674">'</span><span class="op" start="351" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="352" style="color: #969896">castable</span><span class="op" style="color: #f0c674">'</span><span class="op" start="362" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="363" style="color: #969896">treat</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="370" style="color: #81a2be">)</span><span class="whitespace" start="371" style="color: #f0c674"> </span><span class="op" start="372" style="color: #f0c674">and</span><span class="whitespace" start="375" style="color: #f0c674"> </span><span class="variable" start="376" select="quick" style="color: #ad95af">$splitToken</span><span class="filter" start="387" pair-end="389" select="quick" style="color: #81a2be">[</span><span class="numeric" start="388" style="color: #8abeb7">2</span><span class="filter" start="389" style="color: #81a2be">]</span><span class="whitespace" start="390" style="color: #f0c674"> </span><span class="op" start="391" style="color: #f0c674">eq</span><span class="whitespace" start="393" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="394" style="color: #969896">as</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="398" style="color: #81a2be">)</span><span class="whitespace" start="399" style="color: #f0c674">
                          </span><span class="op" start="424" style="color: #f0c674">then</span><span class="whitespace" start="428" style="color: #f0c674"> </span><span class="function" start="429" pair-end="434" select="quick" style="color: #de935f">true</span><span class="parenthesis" style="color: #81a2be">(</span><span class="parenthesis" start="434" style="color: #81a2be">)</span><span class="whitespace" start="435" style="color: #f0c674"> </span><span class="op" start="436" style="color: #f0c674">else</span><span class="whitespace" start="440" style="color: #f0c674"> </span><span class="function" start="441" pair-end="447" select="quick" style="color: #de935f">false</span><span class="parenthesis" style="color: #81a2be">(</span><span class="parenthesis" start="447" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
              
            </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:otherwise</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:choose</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:variable</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:if</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$isDoubleToken</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">type</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">type-op</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:if</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">functionType</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:choose</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$isSimpleOps</span><span class="whitespace" start="13" style="color: #f0c674"> </span><span class="op" start="14" style="color: #f0c674">or</span><span class="whitespace" start="16" style="color: #f0c674"> </span><span class="variable" start="17" select="quick" style="color: #ad95af">$isDoubleToken</span><span class="whitespace" start="31" style="color: #f0c674"> </span><span class="op" start="32" style="color: #f0c674">or</span><span class="whitespace" start="34" style="color: #f0c674"> </span><span class="function" start="35" pair-end="55" select="quick" style="color: #de935f">string-length</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="49" select="quick" style="color: #ad95af">$token</span><span class="parenthesis" start="55" style="color: #81a2be">)</span><span class="whitespace" start="56" style="color: #f0c674"> </span><span class="op" start="57" style="color: #f0c674">=</span><span class="whitespace" start="58" style="color: #f0c674"> </span><span class="numeric" start="59" style="color: #8abeb7">1</span><span class="whitespace" start="60" style="color: #f0c674"> </span><span class="op" start="61" style="color: #f0c674">or</span><span class="whitespace" start="63" style="color: #f0c674"> </span><span class="function" start="64" pair-end="89" select="quick" style="color: #de935f">not</span><span class="parenthesis" style="color: #81a2be">(</span><span class="function" start="68" pair-end="88" select="quick" style="color: #de935f">ends-with</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="78" select="quick" style="color: #ad95af">$token</span><span class="op" start="84" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="85" style="color: #969896">(</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="88" style="color: #81a2be">)</span><span class="parenthesis" start="89" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
              </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:text</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6"></span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:text</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:otherwise</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
              </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:variable</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">fnName</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="34" select="quick" style="color: #de935f">tokenize</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="10" select="quick" style="color: #ad95af">$token</span><span class="op" start="16" style="color: #f0c674">,</span><span class="whitespace" start="17" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="18" style="color: #969896">[\s\p{Zs}]+|\(</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="34" style="color: #81a2be">)</span><span class="filter" start="35" pair-end="37" select="quick" style="color: #81a2be">[</span><span class="numeric" start="36" style="color: #8abeb7">1</span><span class="filter" start="37" style="color: #81a2be">]</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
              </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:choose</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
                </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$fnName</span><span class="whitespace" start="8" style="color: #f0c674"> </span><span class="op" start="9" style="color: #f0c674">=</span><span class="whitespace" start="10" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="11" style="color: #969896">if</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
                  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:text</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">if</span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:text</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
                </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
                </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="higher" start="1" style="color: #f0c674">some</span><span class="whitespace" start="5" style="color: #f0c674"> </span><span id="rng-$n" class="variable" start="6" select="quick" style="color: #ad95af">$n</span><span class="whitespace" start="8" style="color: #f0c674"> </span><span class="op" start="9" style="color: #f0c674">in</span><span class="whitespace" start="11" style="color: #f0c674"> </span><span class="variable" start="12" select="quick" style="color: #ad95af">$nodeTests</span><span class="whitespace" start="22" style="color: #f0c674"> </span><span class="op" start="23" style="color: #f0c674">satisfies</span><span class="whitespace" start="32" style="color: #f0c674"> </span><span class="variable" start="33" select="quick" style="color: #ad95af">$n</span><span class="whitespace" start="35" style="color: #f0c674"> </span><span class="op" start="36" style="color: #f0c674">=</span><span class="whitespace" start="37" style="color: #f0c674"> </span><span class="variable" start="38" select="quick" style="color: #ad95af">$fnName</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
                  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:text</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">node</span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:text</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
                </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
                </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="higher" start="1" style="color: #f0c674">some</span><span class="whitespace" start="5" style="color: #f0c674"> </span><span id="rng-$x" class="variable" start="6" select="quick" style="color: #ad95af">$x</span><span class="whitespace" start="8" style="color: #f0c674"> </span><span class="op" start="9" style="color: #f0c674">in</span><span class="whitespace" start="11" style="color: #f0c674"> </span><span class="variable" start="12" select="quick" style="color: #ad95af">$typeTests</span><span class="whitespace" start="22" style="color: #f0c674"> </span><span class="op" start="23" style="color: #f0c674">satisfies</span><span class="whitespace" start="32" style="color: #f0c674"> </span><span class="variable" start="33" select="quick" style="color: #ad95af">$x</span><span class="whitespace" start="35" style="color: #f0c674"> </span><span class="op" start="36" style="color: #f0c674">=</span><span class="whitespace" start="37" style="color: #f0c674"> </span><span class="variable" start="38" select="quick" style="color: #ad95af">$fnName</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
                  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:text</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">type</span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:text</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
                </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
                </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:otherwise</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
                  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:text</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">function</span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:text</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
                </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:otherwise</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
              </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:choose</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:otherwise</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:choose</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:variable</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:choose</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="25" select="quick" style="color: #de935f">starts-with</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="13" select="quick" style="color: #ad95af">$token</span><span class="op" start="19" style="color: #f0c674">,</span><span class="whitespace" start="20" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="21" style="color: #969896">Q{</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="25" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">type</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">bracedq</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$isSimpleOps</span><span class="whitespace" start="13" style="color: #f0c674"> </span><span class="op" start="14" style="color: #f0c674">or</span><span class="whitespace" start="16" style="color: #f0c674"> </span><span class="variable" start="17" select="quick" style="color: #ad95af">$isDoubleToken</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6"></span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$functionType</span><span class="whitespace" start="14" style="color: #f0c674"> </span><span class="op" start="15" style="color: #f0c674">ne</span><span class="whitespace" start="17" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="18" style="color: #969896"></span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">type</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$functionType</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="23" select="quick" style="color: #de935f">ends-with</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="11" select="quick" style="color: #ad95af">$token</span><span class="op" start="17" style="color: #f0c674">,</span><span class="whitespace" start="18" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="19" style="color: #969896">::</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="23" style="color: #81a2be">)</span><span class="whitespace" start="24" style="color: #f0c674"> </span><span class="op" start="25" style="color: #f0c674">or</span><span class="whitespace" start="27" style="color: #f0c674"> </span><span class="variable" start="28" select="quick" style="color: #ad95af">$token</span><span class="whitespace" start="34" style="color: #f0c674"> </span><span class="op" start="35" style="color: #f0c674">eq</span><span class="whitespace" start="37" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="38" style="color: #969896">@</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">type</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">axis</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="29" select="quick" style="color: #de935f">matches</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="9" select="quick" style="color: #ad95af">$token</span><span class="op" start="15" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="16" style="color: #969896">[\s\p{Zs}]+</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="29" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">type</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">whitespace</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="whitespace" start="7" style="color: #f0c674"> </span><span class="op" start="8" style="color: #f0c674">=</span><span class="whitespace" start="9" style="color: #f0c674"> </span><span class="parenthesis" start="10" pair-end="19" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="11" style="color: #969896">.</span><span class="op" style="color: #f0c674">'</span><span class="op" start="14" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="15" style="color: #969896">..</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="19" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">type</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">context</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="whitespace" start="7" style="color: #f0c674"> </span><span class="op" start="8" style="color: #f0c674">=</span><span class="whitespace" start="9" style="color: #f0c674"> </span><span class="parenthesis" start="10" pair-end="18" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="11" style="color: #969896">(</span><span class="op" style="color: #f0c674">'</span><span class="op" start="14" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="15" style="color: #969896">)</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="18" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">type</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">parenthesis</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="whitespace" start="7" style="color: #f0c674"> </span><span class="op" start="8" style="color: #f0c674">=</span><span class="whitespace" start="9" style="color: #f0c674"> </span><span class="parenthesis" start="10" pair-end="18" select="quick" style="color: #81a2be">(</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="11" style="color: #969896">[</span><span class="op" style="color: #f0c674">'</span><span class="op" start="14" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="15" style="color: #969896">]</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="18" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">type</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">filter</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="14" select="quick" style="color: #de935f">number</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="8" select="quick" style="color: #ad95af">$token</span><span class="parenthesis" start="14" style="color: #81a2be">)</span><span class="whitespace" start="15" style="color: #f0c674"> </span><span class="op" start="16" style="color: #f0c674">=</span><span class="whitespace" start="17" style="color: #f0c674"> </span><span class="function" start="18" pair-end="31" select="quick" style="color: #de935f">number</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="25" select="quick" style="color: #ad95af">$token</span><span class="parenthesis" start="31" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">type</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">numeric</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="whitespace" start="7" style="color: #f0c674"> </span><span class="op" start="8" style="color: #f0c674">=</span><span class="whitespace" start="9" style="color: #f0c674"> </span><span class="variable" start="10" select="quick" style="color: #ad95af">$ambiguousOps</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">type</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">probableOp</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="whitespace" start="7" style="color: #f0c674"> </span><span class="op" start="8" style="color: #f0c674">=</span><span class="whitespace" start="9" style="color: #f0c674"> </span><span class="variable" start="10" select="quick" style="color: #ad95af">$higherOps</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:if</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="51" select="quick" style="color: #de935f">starts-with</span><span class="parenthesis" style="color: #81a2be">(</span><span class="function" start="13" pair-end="45" select="quick" style="color: #de935f">loc:nextNonWhite</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="30" select="quick" style="color: #ad95af">$tokens</span><span class="op" start="37" style="color: #f0c674">,</span><span class="whitespace" start="38" style="color: #f0c674"> </span><span class="variable" start="39" select="quick" style="color: #ad95af">$index</span><span class="parenthesis" start="45" style="color: #81a2be">)</span><span class="op" start="46" style="color: #f0c674">,</span><span class="whitespace" start="47" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="48" style="color: #969896">$</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="51" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
              </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">type</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">higher</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:if</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$token</span><span class="whitespace" start="7" style="color: #f0c674"> </span><span class="op" start="8" style="color: #f0c674">eq</span><span class="whitespace" start="10" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="11" style="color: #969896">if</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:if</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="33" select="quick" style="color: #de935f">loc:nextNonWhite</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="18" select="quick" style="color: #ad95af">$tokens</span><span class="op" start="25" style="color: #f0c674">,</span><span class="whitespace" start="26" style="color: #f0c674"> </span><span class="variable" start="27" select="quick" style="color: #ad95af">$index</span><span class="parenthesis" start="33" style="color: #81a2be">)</span><span class="whitespace" start="34" style="color: #f0c674"> </span><span class="op" start="35" style="color: #f0c674">eq</span><span class="whitespace" start="37" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="38" style="color: #969896">(</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
              </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">type</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">if</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:if</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="24" select="quick" style="color: #de935f">starts-with</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="13" select="quick" style="color: #ad95af">$token</span><span class="op" start="19" style="color: #f0c674">,</span><span class="whitespace" start="20" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="21" style="color: #969896">$</span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="24" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
            </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:attribute</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">type</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="1" style="color: #969896">variable</span><span class="op" style="color: #f0c674">'</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
          </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:choose</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:element</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:variable</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:choose</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$index</span><span class="whitespace" start="7" style="color: #f0c674"> </span><span class="op" start="8" style="color: #f0c674">+</span><span class="whitespace" start="9" style="color: #f0c674"> </span><span class="numeric" start="10" style="color: #8abeb7">1</span><span class="whitespace" start="11" style="color: #f0c674"> </span><span class="op" start="12" style="color: #f0c674">le</span><span class="whitespace" start="14" style="color: #f0c674"> </span><span class="function" start="15" pair-end="28" select="quick" style="color: #de935f">count</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="21" select="quick" style="color: #ad95af">$tokens</span><span class="parenthesis" start="28" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:sequence</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="67" select="quick" style="color: #de935f">loc:processXqTokens</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="21" select="quick" style="color: #ad95af">$tokens</span><span class="op" start="28" style="color: #f0c674">,</span><span class="whitespace" start="29" style="color: #f0c674"> </span><span class="variable" start="30" select="quick" style="color: #ad95af">$end</span><span class="op" start="34" style="color: #f0c674">,</span><span class="whitespace" start="35" style="color: #f0c674"> </span><span class="variable" start="36" select="quick" style="color: #ad95af">$index</span><span class="whitespace" start="42" style="color: #f0c674"> </span><span class="op" start="43" style="color: #f0c674">+</span><span class="whitespace" start="44" style="color: #f0c674"> </span><span class="numeric" start="45" style="color: #8abeb7">1</span><span class="op" start="46" style="color: #f0c674">,</span><span class="whitespace" start="47" style="color: #f0c674"> </span><span class="parenthesis" start="48" pair-end="66" select="quick" style="color: #81a2be">(</span><span class="variable" start="49" select="quick" style="color: #ad95af">$result</span><span class="op" start="56" style="color: #f0c674">,</span><span class="whitespace" start="57" style="color: #f0c674"> </span><span class="variable" start="58" select="quick" style="color: #ad95af">$result1</span><span class="parenthesis" start="66" style="color: #81a2be">)</span><span class="parenthesis" start="67" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:otherwise</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:sequence</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="parenthesis" start="1" pair-end="19" select="quick" style="color: #81a2be">(</span><span class="variable" start="2" select="quick" style="color: #ad95af">$result</span><span class="op" start="9" style="color: #f0c674">,</span><span class="whitespace" start="10" style="color: #f0c674"> </span><span class="variable" start="11" select="quick" style="color: #ad95af">$result1</span><span class="parenthesis" start="19" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:otherwise</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:choose</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
  </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:function</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
  
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:function</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="fname" style="color: #cc6666">loc:nextNonWhite</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string?</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">tokens</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string*</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">index</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:integer</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:choose</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:when</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">test</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="6" select="quick" style="color: #de935f">true</span><span class="parenthesis" style="color: #81a2be">(</span><span class="parenthesis" start="6" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6"></span><span class="z" style="color: #616161">&lt;!--</span><span class="cm" style="color: #b5bd68"> test="$index + 2 lt count($tokens)"&gt;  </span><span class="z" style="color: #616161">--&gt;</span><span class="txt" style="color: #c5c8c6"> 
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="if" start="1" pair-end="55" style="color: #f0c674">if</span><span class="parenthesis" style="color: #81a2be">(</span><span class="function" start="4" pair-end="48" select="quick" style="color: #de935f">replace</span><span class="parenthesis" style="color: #81a2be">(</span><span class="variable" start="12" select="quick" style="color: #ad95af">$tokens</span><span class="filter" start="19" pair-end="30" select="quick" style="color: #81a2be">[</span><span class="variable" start="20" select="quick" style="color: #ad95af">$index</span><span class="whitespace" start="26" style="color: #f0c674"> </span><span class="op" start="27" style="color: #f0c674">+</span><span class="whitespace" start="28" style="color: #f0c674"> </span><span class="numeric" start="29" style="color: #8abeb7">1</span><span class="filter" start="30" style="color: #81a2be">]</span><span class="op" start="31" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="32" style="color: #969896">[\s\p{Zs}]+</span><span class="op" style="color: #f0c674">'</span><span class="op" start="45" style="color: #f0c674">,</span><span class="op" style="color: #f0c674">'</span><span class="literal" start="46" style="color: #969896"></span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="48" style="color: #81a2be">)</span><span class="whitespace" start="49" style="color: #f0c674"> </span><span class="op" start="50" style="color: #f0c674">eq</span><span class="whitespace" start="52" style="color: #f0c674"> </span><span class="op" style="color: #f0c674">'</span><span class="literal" start="53" style="color: #969896"></span><span class="op" style="color: #f0c674">'</span><span class="parenthesis" start="55" style="color: #81a2be">)</span><span class="whitespace" start="56" style="color: #f0c674">
                              </span><span class="op" start="87" style="color: #f0c674">then</span><span class="whitespace" start="91" style="color: #f0c674"> </span><span class="variable" start="92" select="quick" style="color: #ad95af">$tokens</span><span class="filter" start="99" pair-end="110" select="quick" style="color: #81a2be">[</span><span class="variable" start="100" select="quick" style="color: #ad95af">$index</span><span class="whitespace" start="106" style="color: #f0c674"> </span><span class="op" start="107" style="color: #f0c674">+</span><span class="whitespace" start="108" style="color: #f0c674"> </span><span class="numeric" start="109" style="color: #8abeb7">2</span><span class="filter" start="110" style="color: #81a2be">]</span><span class="whitespace" start="111" style="color: #f0c674"> </span><span class="op" start="112" style="color: #f0c674">else</span><span class="whitespace" start="116" style="color: #f0c674"> </span><span class="variable" start="117" select="quick" style="color: #ad95af">$tokens</span><span class="filter" start="124" pair-end="135" select="quick" style="color: #81a2be">[</span><span class="variable" start="125" select="quick" style="color: #ad95af">$index</span><span class="whitespace" start="131" style="color: #f0c674"> </span><span class="op" start="132" style="color: #f0c674">+</span><span class="whitespace" start="133" style="color: #f0c674"> </span><span class="numeric" start="134" style="color: #8abeb7">1</span><span class="filter" start="135" style="color: #81a2be">]</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:when</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:otherwise</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6"></span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:otherwise</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:choose</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
  </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:function</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
  
  </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:function</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="fname" style="color: #cc6666">loc:rawTokens</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string*</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:param</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">name</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="vname" style="color: #ad95af">chunk</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">as</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">xs:string</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:analyze-string</span><span class="z" style="color: #616161">
        </span><span class="atn" style="color: #8abeb7">regex</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="av" style="color: #b5bd68">(((-)?\d+)(\.)?(\d+([eE][\+\-]?)?\d*)?)|(\?)|(Q\{{[^\{{\}}]*\}})|(instance[\s\p{{Zs}}]+of)|(cast[\s\p{{Zs}}]+as)|(:=)|(\|\|)|(order[\s\p{{Zs}}]+by)|(castable[\s\p{{Zs}}]+as)|(treat[\s\p{{Zs}}]+as)|((\$[\s\p{{Zs}}]*)?[\i\*][\p{{L}}\p{{Nd}}\.\-_]*(:[\p{{L}}\p{{Nd}}\.\-\*_]*)?(::)?:?(#\d+)?)(\()?|(\.\.)|((-)?\d?\.\d*)|-|([&amp;lt;&amp;gt;!]=)|(&amp;gt;&amp;gt;|&amp;lt;&amp;lt;)|(//)|([\s\p{{Zs}}]+)|(\C)</span><span class="z" style="color: #616161">"</span><span class="z" style="color: #616161">
        </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="variable" start="1" select="quick" style="color: #ad95af">$chunk</span><span class="z" style="color: #616161">"</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:matching-substring</span><span class="scx" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
        </span><span class="es" style="color: #616161">&lt;</span><span class="enxsl" style="color: #81a2be">xsl:value-of</span><span class="z" style="color: #616161"> </span><span class="atn" style="color: #8abeb7">select</span><span class="atneq" style="color: #616161">=</span><span class="z" style="color: #616161">"</span><span class="function" start="1" pair-end="9" select="quick" style="color: #de935f">string</span><span class="parenthesis" style="color: #81a2be">(</span><span class="context" start="8" style="color: #8abeb7">.</span><span class="parenthesis" start="9" style="color: #81a2be">)</span><span class="z" style="color: #616161">"</span><span class="sc" style="color: #616161">/&gt;</span><span class="txt" style="color: #c5c8c6">
      </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:matching-substring</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
    </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:analyze-string</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
  </span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:function</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
  
      
</span><span class="ez" style="color: #616161">&lt;/</span><span class="clxsl" style="color: #81a2be">xsl:stylesheet</span><span class="ec" style="color: #616161">&gt;</span><span class="txt" style="color: #c5c8c6">
</span></pre></div></body></html>