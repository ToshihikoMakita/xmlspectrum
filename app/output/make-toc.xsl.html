
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html><head><title>make-toc.xsl</title><link rel="stylesheet" type="text/css" href="theme.css"/></head><body><div><pre class="spectrum"><span class="ww" id="w1"><span class="es">&lt;</span><a class="solar" href="index.html"><span class="enxsl" id="e?{http://www.w3.org/1999/XSL/Transform}stylesheet">xsl:stylesheet</span></a><span class="z"> </span><span class="atn">version</span><span class="atneq">=</span><span class="z">"</span><span class="av">2.0</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:xsl</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/XSL/Transform</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:xs</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2001/XMLSchema</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:loc</span><span class="atneq">=</span><span class="z">"</span><span class="av">com.qutoric.sketchpath.functions</span><span class="z">"</span><span class="z">
                </span><span class="atn">exclude-result-prefixes</span><span class="atneq">=</span><span class="z">"</span><span class="av">loc f xs</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:f</span><span class="atneq">=</span><span class="z">"</span><span class="av">internal</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  
  </span><span class="z">&lt;!--</span><span class="cm"> Creates a table of contents derived from globals result-tree </span><span class="z">--&gt;</span><span class="txt">
  
  
  </span><span class="ww" id="w50"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?create-toc">create-toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w60"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?globals">globals</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx80" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w82"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?path">path</span><span class="z">"</span><span id="wx90" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w92"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?css-link">css-link</span><span class="z">"</span><span id="wx100" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w102"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?output-method">output-method</span><span class="z">"</span><span id="wx110" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w112"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?is-css-inline">is-css-inline</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:boolean</span><span class="z">"</span><span id="wx126" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w128"><span class="es">&lt;</span><span class="enxsl">xsl:result-document</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function" start="1" pair-end="27" select="quick">concat</span></a><span class="parenthesis">(</span><span class="variable" start="8" select="quick">$path</span><span class="op" start="13">,</span><span class="whitespace" start="14"> </span><span class="op">'</span><span class="literal" start="15">index.html</span><span class="op">'</span><span class="parenthesis" start="27">)</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">method</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="highlight-file.xsl.html#v?output-method" class="solar"><span class="variable" start="1" select="quick">$output-method</span></a><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">indent</span><span class="atneq">=</span><span class="z">"</span><span class="av">no</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      
      </span><span class="ww" id="w162"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="highlight-file.xsl.html#v?output-method" class="solar"><span class="variable" start="1" select="quick">$output-method</span></a><span class="whitespace" start="15"> </span><span class="op" start="16">eq</span><span class="whitespace" start="18"> </span><span class="op">'</span><span class="literal" start="19">html</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w178"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="z"> </span><span class="atn">disable-output-escaping</span><span class="atneq">=</span><span class="z">'</span><span class="av">yes</span><span class="z">'</span><span class="scx">&gt;</span><span class="txt">&amp;lt;!DOCTYPE html&gt;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx190" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx194" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w196"><span class="es">&lt;</span><span class="en">html</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w200"><span class="es">&lt;</span><span class="en">head</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w204"><span class="es">&lt;</span><span class="en">title</span><span class="scx">&gt;</span><span class="txt"/><span class="ww" id="w208"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">Summary View</span><span class="op">'</span><span class="z">"</span><span id="wx218" class="sc">/&gt;</span></span><span class="txt"/><span class="ez">&lt;/</span><span class="cl">title</span><span id="wx222" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w224"><span class="es">&lt;</span><span class="en">link</span><span class="z"> </span><span class="atn">rel</span><span class="atneq">=</span><span class="z">"</span><span class="av">stylesheet</span><span class="z">"</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/css</span><span class="z">"</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$css-link</span><span class="op">}</span><span class="z">"</span><span id="wx246" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">head</span><span id="wx250" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w252"><span class="es">&lt;</span><span class="en">body</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w256"><span class="es">&lt;</span><span class="en">div</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">spectrum-toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w266"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$is-css-inline</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w276"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">style</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xmlspectrum.xsl.html#f?{internal}inline-css-toc" class="solar"><span class="function" start="1" pair-end="18" select="quick">f:inline-css-toc</span></a><span class="parenthesis">(</span><span class="parenthesis" start="18">)</span><span class="z">"</span><span id="wx292" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx296" class="ec">&gt;</span></span><span class="txt">
            
            </span><span class="ww" id="w298"><span class="es">&lt;</span><span class="en">p</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">av</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w308"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">z</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">(HTML code rendering by XMLSpectrum)</span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx320" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="cl">p</span><span id="wx324" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w326"><span class="es">&lt;</span><span class="en">h3</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w330"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">av</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">Global XSLT Module Members</span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx342" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="cl">h3</span><span id="wx346" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w348"><span class="es">&lt;</span><span class="en">p</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">av</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w358"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?epath">epath</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="15" select="quick">(</span><span class="variable" start="2" select="quick">$globals</span><span class="step" start="10">/</span><span class="qname" start="11" select="quick">file</span><span class="parenthesis" start="15">)</span><span class="filter" start="16" pair-end="18" select="quick">[</span><span class="numeric" start="17">1</span><span class="filter" start="18">]</span><span class="step" start="19">/</span><span class="axis" start="20">@</span><span class="qname" start="21" select="quick">path</span><span class="z">"</span><span id="wx382" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w384"><span class="es">&lt;</span><span class="en">a</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">solar</span><span class="z">"</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function" start="1" pair-end="22" select="quick">concat</span></a><span class="parenthesis">(</span><span class="variable" start="8" select="quick">$epath</span><span class="op" start="14">,</span><span class="op">'</span><span class="literal" start="15">.html</span><span class="op">'</span><span class="parenthesis" start="22">)</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">style</span><span class="atneq">=</span><span class="z">"</span><span class="av">text-decoration:none</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w415"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">av</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">Entry file: </span><span class="ww" id="w425"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$epath</span><span class="z">"</span><span id="wx433" class="sc">/&gt;</span></span><span class="txt"/><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx437" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="cl">a</span><span id="wx441" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="cl">p</span><span id="wx445" class="ec">&gt;</span></span><span class="txt">
            
            </span><span class="ww" id="w447"><span class="es">&lt;</span><span class="en">ul</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">spectrum-toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w457"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$globals</span><span class="step" start="9">/</span><span class="qname" start="10" select="quick">file</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">toc</span><span class="z">"</span><span id="wx473" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="cl">ul</span><span id="wx477" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">div</span><span id="wx481" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">body</span><span id="wx485" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">html</span><span id="wx489" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:result-document</span><span id="wx493" class="ec">&gt;</span></span><span class="txt">
    
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx497" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w499"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">file</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    
    </span><span class="ww" id="w515"><span class="es">&lt;</span><span class="en">li</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w519"><span class="es">&lt;</span><span class="en">a</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">solar</span><span class="z">"</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function" start="1" pair-end="21" select="quick">concat</span></a><span class="parenthesis">(</span><span class="axis" start="8">@</span><span class="qname" start="9" select="quick">path</span><span class="op" start="13">,</span><span class="op">'</span><span class="literal" start="14">.html</span><span class="op">'</span><span class="parenthesis" start="21">)</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">style</span><span class="atneq">=</span><span class="z">"</span><span class="av">text-decoration:none</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w551"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">blue</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">File: </span><span class="ww" id="w561"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">path</span><span class="z">"</span><span id="wx570" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx574" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">a</span><span id="wx578" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">li</span><span id="wx582" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w584"><span class="es">&lt;</span><span class="en">ul</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">spectrum-toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w594"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-exists" class="solar"><span class="function" start="1" pair-end="22" select="quick">exists</span></a><span class="parenthesis">(</span><span class="qname" start="8" select="quick">templates</span><span class="step" start="17">/</span><span class="qname" start="18" select="quick">item</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w609"><span class="es">&lt;</span><span class="en">li</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w613"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">en</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">Templates</span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx625" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w627"><span class="es">&lt;</span><span class="en">ul</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w631"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">templates</span><span class="step" start="10">/</span><span class="qname" start="11" select="quick">item</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w649"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="make-toc.xsl.html#f?{internal}resolve-clark-name" class="solar"><span class="function" start="1" pair-end="23" select="quick">f:resolve-clark-name</span></a><span class="parenthesis">(</span><span class="context" start="22">.</span><span class="parenthesis" start="23">)</span><span class="z">"</span><span id="wx660" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w662"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">path</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">path</span><span class="z">"</span><span id="wx677" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx681" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">ul</span><span id="wx685" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">li</span><span id="wx689" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx693" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w695"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-exists" class="solar"><span class="function" start="1" pair-end="22" select="quick">exists</span></a><span class="parenthesis">(</span><span class="qname" start="8" select="quick">functions</span><span class="step" start="17">/</span><span class="qname" start="18" select="quick">item</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w710"><span class="es">&lt;</span><span class="en">li</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w714"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">fname</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">Functions</span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx726" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w728"><span class="es">&lt;</span><span class="en">ul</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w732"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">functions</span><span class="step" start="10">/</span><span class="qname" start="11" select="quick">item</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w750"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="make-toc.xsl.html#f?{internal}resolve-clark-name" class="solar"><span class="function" start="1" pair-end="23" select="quick">f:resolve-clark-name</span></a><span class="parenthesis">(</span><span class="context" start="22">.</span><span class="parenthesis" start="23">)</span><span class="z">"</span><span id="wx761" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w763"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">path</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">path</span><span class="z">"</span><span id="wx778" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx782" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">ul</span><span id="wx786" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">li</span><span id="wx790" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx794" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w796"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-exists" class="solar"><span class="function" start="1" pair-end="22" select="quick">exists</span></a><span class="parenthesis">(</span><span class="qname" start="8" select="quick">variables</span><span class="step" start="17">/</span><span class="qname" start="18" select="quick">item</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w811"><span class="es">&lt;</span><span class="en">li</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w815"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">vname</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">Variables</span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx827" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w829"><span class="es">&lt;</span><span class="en">ul</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w833"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">variables</span><span class="step" start="10">/</span><span class="qname" start="11" select="quick">item</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w851"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="make-toc.xsl.html#f?{internal}resolve-clark-name" class="solar"><span class="function" start="1" pair-end="23" select="quick">f:resolve-clark-name</span></a><span class="parenthesis">(</span><span class="context" start="22">.</span><span class="parenthesis" start="23">)</span><span class="z">"</span><span id="wx862" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w864"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">path</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">path</span><span class="z">"</span><span id="wx879" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx883" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">ul</span><span id="wx887" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">li</span><span id="wx891" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx895" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w897"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="19" select="quick">not</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-exists" class="solar"><span class="function" start="5" pair-end="18" select="quick">exists</span></a><span class="parenthesis">(</span><span class="qname" start="12" select="quick">*</span><span class="step" start="13">/</span><span class="qname" start="14" select="quick">item</span><span class="parenthesis" start="18">)</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w915"><span class="es">&lt;</span><span class="en">li</span><span class="scx">&gt;</span><span class="txt"/><span class="ww" id="w919"><span class="es">&lt;</span><span class="en">span</span><span class="scx">&gt;</span><span class="txt">[None]</span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx925" class="ec">&gt;</span></span><span class="txt"/><span class="ez">&lt;/</span><span class="cl">li</span><span id="wx929" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx933" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">ul</span><span id="wx937" class="ec">&gt;</span></span><span class="txt">
    
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx941" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w943"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">item</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w959"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?path">path</span><span class="z">"</span><span id="wx967" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w969"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?char">char</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring" class="solar"><span class="function" start="1" pair-end="30" select="quick">substring</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="11" pair-end="24" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="22">..</span><span class="parenthesis" start="24">)</span><span class="op" start="25">,</span><span class="numeric" start="26">1</span><span class="op" start="27">,</span><span class="whitespace" start="28"> </span><span class="numeric" start="29">1</span><span class="parenthesis" start="30">)</span><span class="z">"</span><span id="wx994" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w996"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?name">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="make-toc.xsl.html#f?{internal}resolve-clark-name" class="solar"><span class="function" start="1" pair-end="23" select="quick">f:resolve-clark-name</span></a><span class="parenthesis">(</span><span class="context" start="22">.</span><span class="parenthesis" start="23">)</span><span class="z">"</span><span id="wx1013" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1015"><span class="es">&lt;</span><span class="en">li</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1019"><span class="es">&lt;</span><span class="en">a</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">solar</span><span class="z">"</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function" start="1" pair-end="48" select="quick">concat</span></a><span class="parenthesis">(</span><span class="variable" start="8" select="quick">$path</span><span class="op" start="13">,</span><span class="whitespace" start="14"> </span><span class="op">'</span><span class="literal" start="15">.html</span><span class="op">'</span><span class="op" start="22">,</span><span class="whitespace" start="23"> </span><span class="op">'</span><span class="literal" start="24">#</span><span class="op">'</span><span class="op" start="27">,</span><span class="variable" start="28" select="quick">$char</span><span class="op" start="33">,</span><span class="op">'</span><span class="literal" start="34">?</span><span class="op">'</span><span class="op" start="37">,</span><span class="whitespace" start="38"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="39" pair-end="47" select="quick">string</span></a><span class="parenthesis">(</span><span class="context" start="46">.</span><span class="parenthesis" start="47">)</span><span class="parenthesis" start="48">)</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">style</span><span class="atneq">=</span><span class="z">"</span><span class="av">text-decoration:none</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1068"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">atn</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"/><span class="ww" id="w1078"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$name</span><span class="z">"</span><span id="wx1086" class="sc">/&gt;</span></span><span class="txt"/><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx1090" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">a</span><span id="wx1094" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">li</span><span id="wx1098" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1102" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1104"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{internal}resolve-clark-name">f:resolve-clark-name</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:string</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1120"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?text">text</span><span class="z">"</span><span id="wx1128" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1130"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?ns">ns</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring" class="solar"><span class="function" start="1" pair-end="42" select="quick">substring</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-before" class="solar"><span class="function" start="11" pair-end="38" select="quick">substring-before</span></a><span class="parenthesis">(</span><span class="variable" start="28" select="quick">$text</span><span class="op" start="33">,</span><span class="whitespace" start="34"> </span><span class="op">'</span><span class="literal" start="35">}</span><span class="op">'</span><span class="parenthesis" start="38">)</span><span class="op" start="39">,</span><span class="whitespace" start="40"> </span><span class="numeric" start="41">2</span><span class="parenthesis" start="42">)</span><span class="z">"</span><span id="wx1158" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1160"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="if" start="1">if</span><span class="whitespace" start="3"> </span><span class="parenthesis" start="4" pair-end="14" select="quick">(</span><span class="variable" start="5" select="quick">$ns</span><span class="whitespace" start="8"> </span><span class="op" start="9">eq</span><span class="whitespace" start="11"> </span><span class="op">'</span><span class="literal" start="12"/><span class="op">'</span><span class="parenthesis" start="14">)</span><span class="whitespace" start="15"> </span><span class="op" start="16">then</span><span class="whitespace" start="20">
                            </span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="23" pair-end="35" select="quick">string</span></a><span class="parenthesis">(</span><span class="variable" start="30" select="quick">$text</span><span class="parenthesis" start="35">)</span><span class="whitespace" start="36">  
                          </span><span class="op" start="39">else</span><span class="whitespace" start="43">
                              </span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-after" class="solar"><span class="function" start="48" pair-end="74" select="quick">substring-after</span></a><span class="parenthesis">(</span><span class="variable" start="64" select="quick">$text</span><span class="op" start="69">,</span><span class="whitespace" start="70"> </span><span class="op">'</span><span class="literal" start="71">}</span><span class="op">'</span><span class="parenthesis" start="74">)</span><span class="whitespace" start="75">
                          </span><span class="z">"</span><span id="wx1198" class="sc">/&gt;</span></span><span class="txt">
    
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx1202" class="ec">&gt;</span></span><span class="txt">
  
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:stylesheet</span><span id="wx1206" class="ec">&gt;</span></span><span class="txt">

</span></pre></div></body></html>