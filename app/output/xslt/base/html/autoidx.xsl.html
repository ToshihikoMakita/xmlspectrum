<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>autoidx.xsl</title><link rel="stylesheet" type="text/css" href="../../../theme.css"></head><body><div><p class="spectrum"><span class="z">&lt;?</span><span class="pi">xml version="1.0"</span><span class="z">?&gt;</span><span class="txt">
</span><span class="z">&lt;!</span><span class="dt">DOCTYPE xsl:stylesheet [

&lt;!ENTITY primary   'normalize-space(concat(db:primary/@sortas, db:primary[not(@sortas)]))'&gt;
&lt;!ENTITY secondary 'normalize-space(concat(db:secondary/@sortas, db:secondary[not(@sortas)]))'&gt;
&lt;!ENTITY tertiary  'normalize-space(concat(db:tertiary/@sortas, db:tertiary[not(@sortas)]))'&gt;

&lt;!ENTITY section   '(ancestor-or-self::db:set
|ancestor-or-self::db:book
|ancestor-or-self::db:part
|ancestor-or-self::db:reference
|ancestor-or-self::db:partintro
|ancestor-or-self::db:chapter
|ancestor-or-self::db:appendix
|ancestor-or-self::db:preface
|ancestor-or-self::db:article
|ancestor-or-self::db:section
|ancestor-or-self::db:sect1
|ancestor-or-self::db:sect2
|ancestor-or-self::db:sect3
|ancestor-or-self::db:sect4
|ancestor-or-self::db:sect5
|ancestor-or-self::db:refentry
|ancestor-or-self::db:refsect1
|ancestor-or-self::db:refsect2
|ancestor-or-self::db:refsect3
|ancestor-or-self::db:simplesect
|ancestor-or-self::db:bibliography
|ancestor-or-self::db:glossary
|ancestor-or-self::db:index
|ancestor-or-self::db:webpage)[last()]'&gt;

&lt;!ENTITY section.id 'generate-id(&amp;section;)'&gt;
&lt;!ENTITY sep '" "'&gt;
&lt;!ENTITY scope 'count(ancestor::node()|$scope) = count(ancestor::node())
and ($role = @role or $type = @type or
(string-length($role) = 0 and string-length($type) = 0))'&gt;
</span><span class="z">]&gt;</span><span class="txt">
</span><span class="ww" id="w9"><span class="es">&lt;</span><span class="enxsl">xsl:stylesheet</span><span class="z"> </span><span class="atn">xmlns:xsl</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/XSL/Transform</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:h</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:f</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/extension</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:m</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/mode</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:fn</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2005/xpath-functions</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:db</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:t</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/template</span><span class="z">"</span><span class="z">
                </span><span class="atn">exclude-result-prefixes</span><span class="atneq">=</span><span class="z">"</span><span class="av">h f m fn db t</span><span class="z">"</span><span class="z">
                </span><span class="atn">version</span><span class="atneq">=</span><span class="z">"</span><span class="av">2.0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  
  
  </span><span class="z">&lt;!--</span><span class="cm"> ********************************************************************
  $Id: autoidx.xsl 8562 2009-12-17 23:10:25Z nwalsh $
  ********************************************************************
  
  This file is part of the XSL DocBook Stylesheet distribution.
  See ../README or http://nwalsh.com/docbook/xsl/ for copyright
  and other information.
  
  ******************************************************************** </span><span class="z">--&gt;</span><span class="txt">
  
  </span><span class="z">&lt;!--</span><span class="cm"> ==================================================================== </span><span class="z">--&gt;</span><span class="txt">
  
  </span><span class="ww" id="w81"><span class="es">&lt;</span><span class="enxsl">xsl:key</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">primary</span><span class="z">"</span><span class="z">
           </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:indexterm</span><span class="z">"</span><span class="z">
           </span><span class="atn">use</span><span class="atneq">=</span><span class="z">"</span><span class="av">&amp;primary;</span><span class="z">"</span><span id="wx101" class="sc">/&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w103"><span class="es">&lt;</span><span class="enxsl">xsl:key</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">endofrange</span><span class="z">"</span><span class="z">
           </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:indexterm</span><span class="filter" start="13" pair-end="33" select="quick">[</span><span class="axis" start="14">@</span><span class="qname" start="15" select="quick">class</span><span class="op" start="20">=</span><span class="op">'</span><span class="literal" start="21">endofrange</span><span class="op">'</span><span class="filter" start="33">]</span><span class="z">"</span><span class="z">
           </span><span class="atn">use</span><span class="atneq">=</span><span class="z">"</span><span class="av">@startref</span><span class="z">"</span><span id="wx131" class="sc">/&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w133"><span class="es">&lt;</span><span class="enxsl">xsl:key</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">sections</span><span class="z">"</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="filter" start="2" pair-end="10" select="quick">[</span><span class="axis" start="3">@</span><span class="qname" start="4" select="quick">xml:id</span><span class="filter" start="10">]</span><span class="z">"</span><span class="z"> </span><span class="atn">use</span><span class="atneq">=</span><span class="z">"</span><span class="av">@xml:id</span><span class="z">"</span><span id="wx157" class="sc">/&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w159"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?generate-index">generate-index</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w169"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?scope">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="21" select="quick">(</span><span class="axis" start="2">ancestor::</span><span class="qname" start="12" select="quick">db:book</span><span class="op" start="19">|</span><span class="step" start="20">/</span><span class="parenthesis" start="21">)</span><span class="filter" start="22" pair-end="29" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-last" class="solar"><span class="function" start="23" pair-end="28" select="quick">last</span></a><span class="parenthesis">(</span><span class="parenthesis" start="28">)</span><span class="filter" start="29">]</span><span class="z">"</span><span id="wx193" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w195"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?role">role</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w205"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/param.xsl.html#v?index.on.role" class="solar"><span class="variable" start="1" select="quick">$index.on.role</span></a><span class="whitespace" start="15"> </span><span class="op" start="16">!=</span><span class="whitespace" start="18"> </span><span class="numeric" start="19">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w219"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">role</span><span class="z">"</span><span id="wx228" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx232" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx236" class="ec">&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w238"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?type">type</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w248"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/param.xsl.html#v?index.on.type" class="solar"><span class="variable" start="1" select="quick">$index.on.type</span></a><span class="whitespace" start="15"> </span><span class="op" start="16">!=</span><span class="whitespace" start="18"> </span><span class="numeric" start="19">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w262"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">type</span><span class="z">"</span><span id="wx271" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx275" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx279" class="ec">&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w281"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?lang">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/l10n.xsl.html#f?{http://docbook.org/xslt/ns/extension}l10n-language" class="solar"><span class="function" start="1" pair-end="23" select="quick">f:l10n-language</span></a><span class="parenthesis">(</span><span class="variable" start="17" select="quick">$scope</span><span class="parenthesis" start="23">)</span><span class="z">"</span><span id="wx298" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w300"><span class="es">&lt;</span><span class="en">div</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">generated-index</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w310"><span class="es">&lt;</span><span class="enxsl">xsl:for-each-group</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="step" start="1">//</span><span class="qname" start="3" select="quick">db:indexterm</span><span class="filter" start="15" pair-end="23" select="quick">[</span><span class="qname" start="16" select="quick">&amp;</span><span class="qname" start="17" select="quick">scope</span><span class="qname" start="22" select="quick">;</span><span class="filter" start="23">]</span><span class="filter" start="24" pair-end="51" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="25" pair-end="50" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="29">@</span><span class="qname" start="30" select="quick">class</span><span class="whitespace" start="35"> </span><span class="op" start="36">=</span><span class="whitespace" start="37"> </span><span class="op">'</span><span class="literal" start="38">endofrange</span><span class="op">'</span><span class="parenthesis" start="50">)</span><span class="filter" start="51">]</span><span class="z">"</span><span class="z">
                          </span><span class="atn">group-by</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:group-index(&amp;primary;, $lang)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w345"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}group-index" class="solar"><span class="function" start="1" pair-end="31" select="quick">f:group-index</span></a><span class="parenthesis">(</span><span class="qname" start="15" select="quick">&amp;</span><span class="qname" start="16" select="quick">primary</span><span class="qname" start="23" select="quick">;</span><span class="op" start="24">,</span><span class="whitespace" start="25"> </span><span class="variable" start="26" select="quick">$lang</span><span class="parenthesis" start="31">)</span><span class="z">"</span><span class="z"> </span><span class="atn">data-type</span><span class="atneq">=</span><span class="z">"</span><span class="av">number</span><span class="z">"</span><span id="wx367" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w369"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-div</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w385"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx399" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w401"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx415" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w417"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx431" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w433"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$lang</span><span class="z">"</span><span id="wx447" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w449"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">nodes</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-current-group" class="solar"><span class="function" start="1" pair-end="15" select="quick">current-group</span></a><span class="parenthesis">(</span><span class="parenthesis" start="15">)</span><span class="z">"</span><span id="wx465" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w467"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">group-index</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-current-grouping-key" class="solar"><span class="function" start="1" pair-end="22" select="quick">current-grouping-key</span></a><span class="parenthesis">(</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span id="wx483" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx487" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each-group</span><span id="wx491" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">div</span><span id="wx495" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx499" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w501"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:indexterm</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-div</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w517"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?scope">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx531" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w533"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?role">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx549" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w551"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?type">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx567" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w569"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?lang">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">en</span><span class="op">'</span><span class="z">"</span><span id="wx585" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w587"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?nodes">nodes</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()*</span><span class="z">"</span><span id="wx601" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w603"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?group-index">group-index</span><span class="z">"</span><span id="wx611" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w613"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$nodes</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w623"><span class="es">&lt;</span><span class="en">div</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">generated-indexdiv</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w633"><span class="es">&lt;</span><span class="en">h3</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w637"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}group-label" class="solar"><span class="function" start="1" pair-end="34" select="quick">f:group-label</span></a><span class="parenthesis">(</span><span class="variable" start="15" select="quick">$group-index</span><span class="op" start="27">,</span><span class="whitespace" start="28"> </span><span class="variable" start="29" select="quick">$lang</span><span class="parenthesis" start="34">)</span><span class="z">"</span><span id="wx651" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">h3</span><span id="wx655" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w657"><span class="es">&lt;</span><span class="en">dl</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w661"><span class="es">&lt;</span><span class="enxsl">xsl:for-each-group</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$nodes</span><span class="z">"</span><span class="z"> </span><span class="atn">group-by</span><span class="atneq">=</span><span class="z">"</span><span class="av">&amp;primary;</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w677"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">&amp;</span><span class="qname" start="2" select="quick">primary</span><span class="qname" start="9" select="quick">;</span><span class="z">"</span><span class="z"> </span><span class="atn">lang</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$lang</span><span class="op">}</span><span class="z">"</span><span id="wx695" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w697"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-current-group" class="solar"><span class="function" start="1" pair-end="15" select="quick">current-group</span></a><span class="parenthesis">(</span><span class="parenthesis" start="15">)</span><span class="filter" start="16" pair-end="18" select="quick">[</span><span class="numeric" start="17">1</span><span class="filter" start="18">]</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-primary</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w718"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx732" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w734"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx748" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w750"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx764" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w766"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$lang</span><span class="z">"</span><span id="wx780" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx784" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each-group</span><span id="wx788" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">dl</span><span id="wx792" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">div</span><span id="wx796" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx800" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx804" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w806"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:indexterm</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-primary</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w822"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?scope">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx836" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w838"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?role">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx854" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w856"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?type">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx872" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w874"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?lang">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">en</span><span class="op">'</span><span class="z">"</span><span id="wx890" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w892"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?key">key</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">&amp;</span><span class="qname" start="2" select="quick">primary</span><span class="qname" start="9" select="quick">;</span><span class="z">"</span><span id="wx908" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w910"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?refs">refs</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-key" class="solar"><span class="function" start="1" pair-end="20" select="quick">key</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="5">primary</span><span class="op">'</span><span class="op" start="14">,</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$key</span><span class="parenthesis" start="20">)</span><span class="filter" start="21" pair-end="29" select="quick">[</span><span class="qname" start="22" select="quick">&amp;</span><span class="qname" start="23" select="quick">scope</span><span class="qname" start="28" select="quick">;</span><span class="filter" start="29">]</span><span class="z">"</span><span id="wx937" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w939"><span class="es">&lt;</span><span class="en">dt</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w943"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:primary</span><span class="z">"</span><span id="wx951" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w953"><span class="es">&lt;</span><span class="enxsl">xsl:for-each-group</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="filter" start="6" pair-end="40" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="7" pair-end="23" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="11" select="quick">db:secondary</span><span class="parenthesis" start="23">)</span><span class="whitespace" start="24"> </span><span class="op" start="25">and</span><span class="whitespace" start="28"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="29" pair-end="39" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="33" select="quick">db:see</span><span class="parenthesis" start="39">)</span><span class="filter" start="40">]</span><span class="z">"</span><span class="z">
                          </span><span class="atn">group-by</span><span class="atneq">=</span><span class="z">"</span><span class="av">concat(&amp;primary;, &amp;sep;, &amp;section.id;)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w982"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:reference</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w998"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx1012" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w1014"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx1028" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w1030"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx1044" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx1048" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each-group</span><span id="wx1052" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w1054"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="filter" start="6" pair-end="24" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="7" pair-end="23" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="11" select="quick">db:secondary</span><span class="parenthesis" start="23">)</span><span class="filter" start="24">]</span><span class="step" start="25">/</span><span class="qname" start="26" select="quick">*</span><span class="filter" start="27" pair-end="40" select="quick">[</span><span class="axis" start="28">self::</span><span class="qname" start="34" select="quick">db:see</span><span class="filter" start="40">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1076"><span class="es">&lt;</span><span class="enxsl">xsl:for-each-group</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="filter" start="6" pair-end="13" select="quick">[</span><span class="qname" start="7" select="quick">db:see</span><span class="filter" start="13">]</span><span class="z">"</span><span class="z">
                            </span><span class="atn">group-by</span><span class="atneq">=</span><span class="z">"</span><span class="av">concat(&amp;primary;, &amp;sep;, &amp;sep;, &amp;sep;, db:see)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1095"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-see</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1111"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx1125" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w1127"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx1141" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w1143"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx1157" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w1159"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$lang</span><span class="z">"</span><span id="wx1173" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w1175"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="21" select="quick">fn:upper-case</span><span class="parenthesis">(</span><span class="qname" start="15" select="quick">db:see</span><span class="parenthesis" start="21">)</span><span class="z">"</span><span class="z"> </span><span class="atn">lang</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$lang</span><span class="op">}</span><span class="z">"</span><span id="wx1194" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx1198" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each-group</span><span id="wx1202" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1206" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">dt</span><span id="wx1210" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1212"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="step" start="6">/</span><span class="qname" start="7" select="quick">db:secondary</span><span class="whitespace" start="19"> </span><span class="op" start="20">or</span><span class="whitespace" start="22"> </span><span class="variable" start="23" select="quick">$refs</span><span class="filter" start="28" pair-end="46" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="29" pair-end="45" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="33" select="quick">db:secondary</span><span class="parenthesis" start="45">)</span><span class="filter" start="46">]</span><span class="step" start="47">/</span><span class="qname" start="48" select="quick">*</span><span class="filter" start="49" pair-end="66" select="quick">[</span><span class="axis" start="50">self::</span><span class="qname" start="56" select="quick">db:seealso</span><span class="filter" start="66">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1240"><span class="es">&lt;</span><span class="en">dd</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1244"><span class="es">&lt;</span><span class="en">dl</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1248"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-count" class="solar"><span class="function" start="1" pair-end="17" select="quick">count</span></a><span class="parenthesis">(</span><span class="qname" start="7" select="quick">db:seealso</span><span class="parenthesis" start="17">)</span><span class="whitespace" start="18"> </span><span class="qname" start="19" select="quick">&amp;</span><span class="op" start="20">gt</span><span class="qname" start="22" select="quick">;</span><span class="whitespace" start="23"> </span><span class="numeric" start="24">1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1267"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">Multiple see also's not supported: only using first</span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx1273" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1277" class="ec">&gt;</span></span><span class="txt">
          
          </span><span class="ww" id="w1279"><span class="es">&lt;</span><span class="enxsl">xsl:for-each-group</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="filter" start="6" pair-end="17" select="quick">[</span><span class="qname" start="7" select="quick">db:seealso</span><span class="filter" start="17">]</span><span class="z">"</span><span class="z">
                              </span><span class="atn">group-by</span><span class="atneq">=</span><span class="z">"</span><span class="av">concat(&amp;primary;, &amp;sep;, &amp;sep;, &amp;sep;, db:seealso[1])</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1298"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-seealso</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w1314"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx1328" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1330"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx1344" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1346"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx1360" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1362"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$lang</span><span class="z">"</span><span id="wx1376" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1378"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="28" select="quick">fn:upper-case</span><span class="parenthesis">(</span><span class="qname" start="15" select="quick">db:seealso</span><span class="filter" start="25" pair-end="27" select="quick">[</span><span class="numeric" start="26">1</span><span class="filter" start="27">]</span><span class="parenthesis" start="28">)</span><span class="z">"</span><span class="z"> </span><span class="atn">lang</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$lang</span><span class="op">}</span><span class="z">"</span><span id="wx1400" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx1404" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each-group</span><span id="wx1408" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w1410"><span class="es">&lt;</span><span class="enxsl">xsl:for-each-group</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="filter" start="6" pair-end="19" select="quick">[</span><span class="qname" start="7" select="quick">db:secondary</span><span class="filter" start="19">]</span><span class="z">"</span><span class="z"> 
                              </span><span class="atn">group-by</span><span class="atneq">=</span><span class="z">"</span><span class="av">concat(&amp;primary;, &amp;sep;, &amp;secondary;)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1429"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-secondary</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w1445"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx1459" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1461"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx1475" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1477"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx1491" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1493"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$lang</span><span class="z">"</span><span id="wx1507" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1509"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">refs</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-current-group" class="solar"><span class="function" start="1" pair-end="15" select="quick">current-group</span></a><span class="parenthesis">(</span><span class="parenthesis" start="15">)</span><span class="z">"</span><span id="wx1525" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1527"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="26" select="quick">fn:upper-case</span><span class="parenthesis">(</span><span class="qname" start="15" select="quick">&amp;</span><span class="qname" start="16" select="quick">secondary</span><span class="qname" start="25" select="quick">;</span><span class="parenthesis" start="26">)</span><span class="z">"</span><span class="z"> </span><span class="atn">lang</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$lang</span><span class="op">}</span><span class="z">"</span><span id="wx1548" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx1552" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each-group</span><span id="wx1556" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">dl</span><span id="wx1560" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">dd</span><span id="wx1564" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1568" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1572" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1574"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:indexterm</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-secondary</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1590"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?scope">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1604" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1606"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?role">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx1622" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1624"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?type">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx1640" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1642"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?refs">refs</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()*</span><span class="z">"</span><span id="wx1656" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1658"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?lang">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">en</span><span class="op">'</span><span class="z">"</span><span id="wx1674" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w1676"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?key">key</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function" start="1" pair-end="37" select="quick">concat</span></a><span class="parenthesis">(</span><span class="qname" start="8" select="quick">&amp;</span><span class="qname" start="9" select="quick">primary</span><span class="qname" start="16" select="quick">;</span><span class="op" start="17">,</span><span class="whitespace" start="18"> </span><span class="qname" start="19" select="quick">&amp;</span><span class="qname" start="20" select="quick">sep</span><span class="qname" start="23" select="quick">;</span><span class="op" start="24">,</span><span class="whitespace" start="25"> </span><span class="qname" start="26" select="quick">&amp;</span><span class="qname" start="27" select="quick">secondary</span><span class="qname" start="36" select="quick">;</span><span class="parenthesis" start="37">)</span><span class="z">"</span><span id="wx1705" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1707"><span class="es">&lt;</span><span class="en">dt</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1711"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:secondary</span><span class="z">"</span><span id="wx1719" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1721"><span class="es">&lt;</span><span class="enxsl">xsl:for-each-group</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="filter" start="6" pair-end="39" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="7" pair-end="22" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="11" select="quick">db:tertiary</span><span class="parenthesis" start="22">)</span><span class="whitespace" start="23"> </span><span class="op" start="24">and</span><span class="whitespace" start="27"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="28" pair-end="38" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="32" select="quick">db:see</span><span class="parenthesis" start="38">)</span><span class="filter" start="39">]</span><span class="z">"</span><span class="z">
                          </span><span class="atn">group-by</span><span class="atneq">=</span><span class="z">"</span><span class="av">concat($key, &amp;sep;, &amp;section.id;)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1750"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:reference</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1766"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx1780" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w1782"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx1796" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w1798"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx1812" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w1814"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$lang</span><span class="z">"</span><span id="wx1828" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx1832" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each-group</span><span id="wx1836" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w1838"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="filter" start="6" pair-end="23" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="7" pair-end="22" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="11" select="quick">db:tertiary</span><span class="parenthesis" start="22">)</span><span class="filter" start="23">]</span><span class="step" start="24">/</span><span class="qname" start="25" select="quick">*</span><span class="filter" start="26" pair-end="39" select="quick">[</span><span class="axis" start="27">self::</span><span class="qname" start="33" select="quick">db:see</span><span class="filter" start="39">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1860"><span class="es">&lt;</span><span class="enxsl">xsl:for-each-group</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="filter" start="6" pair-end="13" select="quick">[</span><span class="qname" start="7" select="quick">db:see</span><span class="filter" start="13">]</span><span class="z">"</span><span class="z">
                            </span><span class="atn">group-by</span><span class="atneq">=</span><span class="z">"</span><span class="av">concat(&amp;primary;, &amp;sep;, &amp;secondary;, &amp;sep;, &amp;sep;, db:see)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1879"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-see</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1895"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx1909" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w1911"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx1925" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w1927"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx1941" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w1943"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$lang</span><span class="z">"</span><span id="wx1957" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w1959"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="21" select="quick">fn:upper-case</span><span class="parenthesis">(</span><span class="qname" start="15" select="quick">db:see</span><span class="parenthesis" start="21">)</span><span class="z">"</span><span class="z"> </span><span class="atn">lang</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$lang</span><span class="op">}</span><span class="z">"</span><span id="wx1978" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx1982" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each-group</span><span id="wx1986" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1990" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">dt</span><span id="wx1994" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1996"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="step" start="6">/</span><span class="qname" start="7" select="quick">db:tertiary</span><span class="whitespace" start="18"> </span><span class="op" start="19">or</span><span class="whitespace" start="21"> </span><span class="variable" start="22" select="quick">$refs</span><span class="filter" start="27" pair-end="44" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="28" pair-end="43" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="32" select="quick">db:tertiary</span><span class="parenthesis" start="43">)</span><span class="filter" start="44">]</span><span class="step" start="45">/</span><span class="qname" start="46" select="quick">*</span><span class="filter" start="47" pair-end="64" select="quick">[</span><span class="axis" start="48">self::</span><span class="qname" start="54" select="quick">db:seealso</span><span class="filter" start="64">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2024"><span class="es">&lt;</span><span class="en">dd</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2028"><span class="es">&lt;</span><span class="en">dl</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2032"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-count" class="solar"><span class="function" start="1" pair-end="17" select="quick">count</span></a><span class="parenthesis">(</span><span class="qname" start="7" select="quick">db:seealso</span><span class="parenthesis" start="17">)</span><span class="whitespace" start="18"> </span><span class="qname" start="19" select="quick">&amp;</span><span class="op" start="20">gt</span><span class="qname" start="22" select="quick">;</span><span class="whitespace" start="23"> </span><span class="numeric" start="24">1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2051"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">Multiple see also's not supported: only using first</span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx2057" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2061" class="ec">&gt;</span></span><span class="txt">
          
          </span><span class="ww" id="w2063"><span class="es">&lt;</span><span class="enxsl">xsl:for-each-group</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="filter" start="6" pair-end="17" select="quick">[</span><span class="qname" start="7" select="quick">db:seealso</span><span class="filter" start="17">]</span><span class="z">"</span><span class="z"> 
                              </span><span class="atn">group-by</span><span class="atneq">=</span><span class="z">"</span><span class="av">concat(&amp;primary;, &amp;sep;, &amp;secondary;, &amp;sep;, &amp;sep;, db:seealso[1])</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2082"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-seealso</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w2098"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx2112" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2114"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx2128" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2130"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx2144" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2146"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$lang</span><span class="z">"</span><span id="wx2160" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2162"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="28" select="quick">fn:upper-case</span><span class="parenthesis">(</span><span class="qname" start="15" select="quick">db:seealso</span><span class="filter" start="25" pair-end="27" select="quick">[</span><span class="numeric" start="26">1</span><span class="filter" start="27">]</span><span class="parenthesis" start="28">)</span><span class="z">"</span><span class="z"> </span><span class="atn">lang</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$lang</span><span class="op">}</span><span class="z">"</span><span id="wx2184" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx2188" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each-group</span><span id="wx2192" class="ec">&gt;</span></span><span class="txt">
          
          </span><span class="ww" id="w2194"><span class="es">&lt;</span><span class="enxsl">xsl:for-each-group</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="filter" start="6" pair-end="18" select="quick">[</span><span class="qname" start="7" select="quick">db:tertiary</span><span class="filter" start="18">]</span><span class="z">"</span><span class="z"> 
                              </span><span class="atn">group-by</span><span class="atneq">=</span><span class="z">"</span><span class="av">concat($key, &amp;sep;, &amp;tertiary;)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2213"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-tertiary</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w2229"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx2243" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2245"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx2259" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2261"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx2275" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2277"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$lang</span><span class="z">"</span><span id="wx2291" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2293"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">refs</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-current-group" class="solar"><span class="function" start="1" pair-end="15" select="quick">current-group</span></a><span class="parenthesis">(</span><span class="parenthesis" start="15">)</span><span class="z">"</span><span id="wx2309" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2311"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="25" select="quick">fn:upper-case</span><span class="parenthesis">(</span><span class="qname" start="15" select="quick">&amp;</span><span class="qname" start="16" select="quick">tertiary</span><span class="qname" start="24" select="quick">;</span><span class="parenthesis" start="25">)</span><span class="z">"</span><span class="z"> </span><span class="atn">lang</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$lang</span><span class="op">}</span><span class="z">"</span><span id="wx2332" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx2336" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each-group</span><span id="wx2340" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">dl</span><span id="wx2344" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">dd</span><span id="wx2348" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2352" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2356" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2358"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:indexterm</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-tertiary</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2374"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?scope">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx2388" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2390"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?role">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx2406" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2408"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?type">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx2424" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2426"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?lang">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">en</span><span class="op">'</span><span class="z">"</span><span id="wx2442" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2444"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?refs">refs</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()*</span><span class="z">"</span><span id="wx2458" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w2460"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?key">key</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function" start="1" pair-end="56" select="quick">concat</span></a><span class="parenthesis">(</span><span class="qname" start="8" select="quick">&amp;</span><span class="qname" start="9" select="quick">primary</span><span class="qname" start="16" select="quick">;</span><span class="op" start="17">,</span><span class="whitespace" start="18"> </span><span class="qname" start="19" select="quick">&amp;</span><span class="qname" start="20" select="quick">sep</span><span class="qname" start="23" select="quick">;</span><span class="op" start="24">,</span><span class="whitespace" start="25"> </span><span class="qname" start="26" select="quick">&amp;</span><span class="qname" start="27" select="quick">secondary</span><span class="qname" start="36" select="quick">;</span><span class="op" start="37">,</span><span class="whitespace" start="38"> </span><span class="qname" start="39" select="quick">&amp;</span><span class="qname" start="40" select="quick">sep</span><span class="qname" start="43" select="quick">;</span><span class="op" start="44">,</span><span class="whitespace" start="45"> </span><span class="qname" start="46" select="quick">&amp;</span><span class="qname" start="47" select="quick">tertiary</span><span class="qname" start="55" select="quick">;</span><span class="parenthesis" start="56">)</span><span class="z">"</span><span id="wx2499" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2501"><span class="es">&lt;</span><span class="en">dt</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2505"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:tertiary</span><span class="z">"</span><span id="wx2513" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2515"><span class="es">&lt;</span><span class="enxsl">xsl:for-each-group</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="filter" start="6" pair-end="18" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="7" pair-end="17" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="11" select="quick">db:see</span><span class="parenthesis" start="17">)</span><span class="filter" start="18">]</span><span class="z">"</span><span class="z">
                          </span><span class="atn">group-by</span><span class="atneq">=</span><span class="z">"</span><span class="av">concat($key, &amp;sep;, &amp;section.id;)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2537"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:reference</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2553"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx2567" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w2569"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx2583" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w2585"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx2599" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w2601"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$lang</span><span class="z">"</span><span id="wx2615" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx2619" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each-group</span><span id="wx2623" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w2625"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="step" start="6">/</span><span class="qname" start="7" select="quick">db:see</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2637"><span class="es">&lt;</span><span class="enxsl">xsl:for-each-group</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="filter" start="6" pair-end="13" select="quick">[</span><span class="qname" start="7" select="quick">db:see</span><span class="filter" start="13">]</span><span class="z">"</span><span class="z">
                            </span><span class="atn">group-by</span><span class="atneq">=</span><span class="z">"</span><span class="av">concat(&amp;primary;, &amp;sep;, &amp;secondary;, &amp;sep;, &amp;tertiary;, &amp;sep;, db:see)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2656"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-see</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2672"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx2686" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w2688"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx2702" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w2704"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx2718" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w2720"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$lang</span><span class="z">"</span><span id="wx2734" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w2736"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="21" select="quick">fn:upper-case</span><span class="parenthesis">(</span><span class="qname" start="15" select="quick">db:see</span><span class="parenthesis" start="21">)</span><span class="z">"</span><span class="z"> </span><span class="atn">lang</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$lang</span><span class="op">}</span><span class="z">"</span><span id="wx2755" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx2759" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each-group</span><span id="wx2763" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2767" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">dt</span><span id="wx2771" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2773"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="step" start="6">/</span><span class="qname" start="7" select="quick">db:seealso</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2785"><span class="es">&lt;</span><span class="en">dd</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2789"><span class="es">&lt;</span><span class="en">dl</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2793"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-count" class="solar"><span class="function" start="1" pair-end="17" select="quick">count</span></a><span class="parenthesis">(</span><span class="qname" start="7" select="quick">db:seealso</span><span class="parenthesis" start="17">)</span><span class="whitespace" start="18"> </span><span class="qname" start="19" select="quick">&amp;</span><span class="op" start="20">gt</span><span class="qname" start="22" select="quick">;</span><span class="whitespace" start="23"> </span><span class="numeric" start="24">1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2812"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">Multiple see also's not supported: only using first</span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx2818" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2822" class="ec">&gt;</span></span><span class="txt">
          
          </span><span class="ww" id="w2824"><span class="es">&lt;</span><span class="enxsl">xsl:for-each-group</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$refs</span><span class="filter" start="6" pair-end="17" select="quick">[</span><span class="qname" start="7" select="quick">db:seealso</span><span class="filter" start="17">]</span><span class="z">"</span><span class="z">
                              </span><span class="atn">group-by</span><span class="atneq">=</span><span class="z">"</span><span class="av">concat(&amp;primary;, &amp;sep;, &amp;secondary;, &amp;sep;, &amp;tertiary;, &amp;sep;, db:seealso[1])</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2843"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-seealso</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w2859"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx2873" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2875"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx2889" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2891"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx2905" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2907"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$lang</span><span class="z">"</span><span id="wx2921" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2923"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="28" select="quick">fn:upper-case</span><span class="parenthesis">(</span><span class="qname" start="15" select="quick">db:seealso</span><span class="filter" start="25" pair-end="27" select="quick">[</span><span class="numeric" start="26">1</span><span class="filter" start="27">]</span><span class="parenthesis" start="28">)</span><span class="z">"</span><span class="z"> </span><span class="atn">lang</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$lang</span><span class="op">}</span><span class="z">"</span><span id="wx2945" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx2949" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each-group</span><span id="wx2953" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">dl</span><span id="wx2957" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">dd</span><span id="wx2961" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2965" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2969" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2971"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:indexterm</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:reference</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2987"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?scope">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx3001" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3003"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?role">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx3019" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3021"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?type">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx3037" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3039"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?lang">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">en</span><span class="op">'</span><span class="z">"</span><span id="wx3055" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3057"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?separator">separator</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">, </span><span class="op">'</span><span class="z">"</span><span id="wx3073" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w3075"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$separator</span><span class="z">"</span><span id="wx3083" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3085"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3089"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">zone</span><span class="whitespace" start="6"> </span><span class="op" start="7">and</span><span class="whitespace" start="10"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="11" pair-end="23" select="quick">string</span></a><span class="parenthesis">(</span><span class="axis" start="18">@</span><span class="qname" start="19" select="quick">zone</span><span class="parenthesis" start="23">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3108"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/autoidx.xsl.html#t?reference" class="solar"><span class="tcall">reference</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3118"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">zones</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-normalize-space" class="solar"><span class="function" start="1" pair-end="22" select="quick">normalize-space</span></a><span class="parenthesis">(</span><span class="axis" start="17">@</span><span class="qname" start="18" select="quick">zone</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span id="wx3136" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3138"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx3152" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3154"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx3168" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3170"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx3184" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3186"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$lang</span><span class="z">"</span><span id="wx3200" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx3204" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3208" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3210"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3214"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?tobject">tobject</span><span class="z">"</span><span class="z">
                      </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">ancestor::</span><span class="qname" start="11" select="quick">*</span><span class="filter" start="12" pair-end="41" select="quick">[</span><span class="qname" start="13" select="quick">db:title</span><span class="whitespace" start="21"> </span><span class="op" start="22">or</span><span class="whitespace" start="24"> </span><span class="qname" start="25" select="quick">db:info</span><span class="step" start="32">/</span><span class="qname" start="33" select="quick">db:title</span><span class="filter" start="41">]</span><span class="filter" start="42" pair-end="44" select="quick">[</span><span class="numeric" start="43">1</span><span class="filter" start="44">]</span><span class="z">"</span><span id="wx3241" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w3243"><span class="es">&lt;</span><span class="en">a</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="../../../xslt/base/html/html.xsl.html#f?{http://docbook.org/xslt/ns/extension}href" class="solar"><span class="function" start="1" pair-end="11" select="quick">f:href</span></a><span class="parenthesis">(</span><span class="step" start="8">/</span><span class="op" start="9">,</span><span class="context" start="10">.</span><span class="parenthesis" start="11">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3260"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">title</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w3270"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$tobject</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:title-content</span><span class="z">"</span><span id="wx3284" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx3288" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3290"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-position" class="solar"><span class="function" start="1" pair-end="10" select="quick">position</span></a><span class="parenthesis">(</span><span class="parenthesis" start="10">)</span><span class="z">"</span><span id="wx3300" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">a</span><span id="wx3304" class="ec">&gt;</span></span><span class="txt">
        
        </span><span class="ww" id="w3306"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-key" class="solar"><span class="function" start="1" pair-end="26" select="quick">key</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="5">endofrange</span><span class="op">'</span><span class="op" start="17">,</span><span class="whitespace" start="18"> </span><span class="axis" start="19">@</span><span class="qname" start="20" select="quick">xml:id</span><span class="parenthesis" start="26">)</span><span class="filter" start="27" pair-end="35" select="quick">[</span><span class="qname" start="28" select="quick">&amp;</span><span class="qname" start="29" select="quick">scope</span><span class="qname" start="34" select="quick">;</span><span class="filter" start="35">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3330"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-key" class="solar"><span class="function" start="1" pair-end="26" select="quick">key</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="5">endofrange</span><span class="op">'</span><span class="op" start="17">,</span><span class="whitespace" start="18"> </span><span class="axis" start="19">@</span><span class="qname" start="20" select="quick">xml:id</span><span class="parenthesis" start="26">)</span><span class="filter" start="27" pair-end="35" select="quick">[</span><span class="qname" start="28" select="quick">&amp;</span><span class="qname" start="29" select="quick">scope</span><span class="qname" start="34" select="quick">;</span><span class="filter" start="35">]</span><span class="filter" start="36" pair-end="43" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-last" class="solar"><span class="function" start="37" pair-end="42" select="quick">last</span></a><span class="parenthesis">(</span><span class="parenthesis" start="42">)</span><span class="filter" start="43">]</span><span class="z">"</span><span class="z">
                               </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:reference</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w3365"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx3379" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w3381"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx3395" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w3397"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx3411" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w3413"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$lang</span><span class="z">"</span><span id="wx3427" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w3429"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">separator</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">-</span><span class="op">'</span><span class="z">"</span><span id="wx3445" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx3449" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3453" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx3457" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3461" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3465" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w3467"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?reference">reference</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3477"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?scope">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx3491" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3493"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?role">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx3509" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3511"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?type">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx3527" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3529"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?lang">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">en</span><span class="op">'</span><span class="z">"</span><span id="wx3545" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3547"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?zones">zones</span><span class="z">"</span><span id="wx3555" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w3557"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3561"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="21" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$zones</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18"> </span><span class="op">'</span><span class="parenthesis" start="21">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3579"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?zone">zone</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-before" class="solar"><span class="function" start="1" pair-end="29" select="quick">substring-before</span></a><span class="parenthesis">(</span><span class="variable" start="18" select="quick">$zones</span><span class="op" start="24">,</span><span class="whitespace" start="25"> </span><span class="op">'</span><span class="literal" start="26"> </span><span class="op">'</span><span class="parenthesis" start="29">)</span><span class="z">"</span><span id="wx3601" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w3603"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?target">target</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-key" class="solar"><span class="function" start="1" pair-end="22" select="quick">key</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="5">sections</span><span class="op">'</span><span class="op" start="15">,</span><span class="whitespace" start="16"> </span><span class="variable" start="17" select="quick">$zone</span><span class="parenthesis" start="22">)</span><span class="filter" start="23" pair-end="31" select="quick">[</span><span class="qname" start="24" select="quick">&amp;</span><span class="qname" start="25" select="quick">scope</span><span class="qname" start="30" select="quick">;</span><span class="filter" start="31">]</span><span class="z">"</span><span id="wx3630" class="sc">/&gt;</span></span><span class="txt">
        
        </span><span class="ww" id="w3632"><span class="es">&lt;</span><span class="en">a</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="../../../xslt/base/html/html.xsl.html#f?{http://docbook.org/xslt/ns/extension}href" class="solar"><span class="function" start="1" pair-end="20" select="quick">f:href</span></a><span class="parenthesis">(</span><span class="step" start="8">/</span><span class="op" start="9">,</span><span class="variable" start="10" select="quick">$target</span><span class="filter" start="17" pair-end="19" select="quick">[</span><span class="numeric" start="18">1</span><span class="filter" start="19">]</span><span class="parenthesis" start="20">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3652"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$target</span><span class="filter" start="8" pair-end="10" select="quick">[</span><span class="numeric" start="9">1</span><span class="filter" start="10">]</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-title-content</span><span class="z">"</span><span id="wx3669" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">a</span><span id="wx3673" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w3675"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">, </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx3681" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w3683"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/autoidx.xsl.html#t?reference" class="solar"><span class="tcall">reference</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3693"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">zones</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-after" class="solar"><span class="function" start="1" pair-end="28" select="quick">substring-after</span></a><span class="parenthesis">(</span><span class="variable" start="17" select="quick">$zones</span><span class="op" start="23">,</span><span class="whitespace" start="24"> </span><span class="op">'</span><span class="literal" start="25"> </span><span class="op">'</span><span class="parenthesis" start="28">)</span><span class="z">"</span><span id="wx3715" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3717"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$scope</span><span class="z">"</span><span id="wx3731" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3733"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx3747" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3749"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$type</span><span class="z">"</span><span id="wx3763" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx3767" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3771" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3773"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3777"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?zone">zone</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$zones</span><span class="z">"</span><span id="wx3791" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w3793"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?target">target</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-key" class="solar"><span class="function" start="1" pair-end="22" select="quick">key</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="5">sections</span><span class="op">'</span><span class="op" start="15">,</span><span class="whitespace" start="16"> </span><span class="variable" start="17" select="quick">$zone</span><span class="parenthesis" start="22">)</span><span class="filter" start="23" pair-end="31" select="quick">[</span><span class="qname" start="24" select="quick">&amp;</span><span class="qname" start="25" select="quick">scope</span><span class="qname" start="30" select="quick">;</span><span class="filter" start="31">]</span><span class="z">"</span><span id="wx3820" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w3822"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$target</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3832"><span class="es">&lt;</span><span class="en">a</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="../../../xslt/base/html/html.xsl.html#f?{http://docbook.org/xslt/ns/extension}href" class="solar"><span class="function" start="1" pair-end="20" select="quick">f:href</span></a><span class="parenthesis">(</span><span class="step" start="8">/</span><span class="op" start="9">,</span><span class="variable" start="10" select="quick">$target</span><span class="filter" start="17" pair-end="19" select="quick">[</span><span class="numeric" start="18">1</span><span class="filter" start="19">]</span><span class="parenthesis" start="20">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w3852"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$target</span><span class="filter" start="8" pair-end="10" select="quick">[</span><span class="numeric" start="9">1</span><span class="filter" start="10">]</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-title-content</span><span class="z">"</span><span id="wx3869" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">a</span><span id="wx3873" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3877" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx3881" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3885" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3889" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w3891"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:indexterm</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-see</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3907"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?scope">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx3921" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3923"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?role">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx3939" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3941"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?type">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx3957" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3959"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?lang">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">en</span><span class="op">'</span><span class="z">"</span><span id="wx3975" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w3977"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> (</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx3983" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3985"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/l10n.xsl.html#t?gentext" class="solar"><span class="tcall">gentext</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3995"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">key</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">see</span><span class="op">'</span><span class="z">"</span><span id="wx4011" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx4015" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4017"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4023" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4025"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:see</span><span class="z">"</span><span id="wx4033" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4035"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">)</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4041" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4045" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w4047"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:indexterm</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-seealso</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4063"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?scope">scope</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx4077" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4079"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?role">role</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx4095" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4097"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?type">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx4113" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4115"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?lang">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">en</span><span class="op">'</span><span class="z">"</span><span id="wx4131" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w4133"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:seealso</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4143"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="16" select="quick">fn:upper-case</span><span class="parenthesis">(</span><span class="context" start="15">.</span><span class="parenthesis" start="16">)</span><span class="z">"</span><span class="z"> </span><span class="atn">lang</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$lang</span><span class="op">}</span><span class="z">"</span><span id="wx4162" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4164"><span class="es">&lt;</span><span class="en">dt</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w4168"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">(</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4174" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w4176"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/l10n.xsl.html#t?gentext" class="solar"><span class="tcall">gentext</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w4186"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">key</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">seealso</span><span class="op">'</span><span class="z">"</span><span id="wx4202" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx4206" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w4208"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4214" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w4216"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx4224" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w4226"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">)</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4232" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">dt</span><span id="wx4236" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx4240" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4244" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w4246"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:index-title-content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4262"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?title">title</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4272"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">&amp;</span><span class="qname" start="2" select="quick">section</span><span class="qname" start="9" select="quick">;</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:title-markup</span><span class="z">"</span><span id="wx4288" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx4292" class="ec">&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w4294"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$title</span><span class="z">"</span><span id="wx4302" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4306" class="ec">&gt;</span></span><span class="txt">
  
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:stylesheet</span><span id="wx4310" class="ec">&gt;</span></span><span class="txt">
</span></p></div></body></html>