<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>html.xsl</title><link rel="stylesheet" type="text/css" href="../../../theme.css"></head><body><div><p class="spectrum"><span class="z">&lt;?</span><span class="pi">xml version="1.0" encoding="utf-8"</span><span class="z">?&gt;</span><span class="txt">
</span><span class="ww" id="w5"><span class="es">&lt;</span><span class="enxsl">xsl:stylesheet</span><span class="z"> </span><span class="atn">xmlns:xsl</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/XSL/Transform</span><span class="z">"</span><span class="z">
££££££££££££££££qq</span><span class="atn">xmlns:db</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="z">
££££££££££££££££qq</span><span class="atn">xmlns:doc</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://nwalsh.com/xsl/documentation/1.0</span><span class="z">"</span><span class="z">
££££££££££££££££qq</span><span class="atn">xmlns:f</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/extension</span><span class="z">"</span><span class="z">
££££££££££££££££qq</span><span class="atn">xmlns:fn</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2005/xpath-functions</span><span class="z">"</span><span class="z">
££££££££££££££££qq</span><span class="atn">xmlns:h</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
££££££££££££££££qq</span><span class="atn">xmlns:m</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/mode</span><span class="z">"</span><span class="z">
££££££££££££££££qq</span><span class="atn">xmlns:t</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/template</span><span class="z">"</span><span class="z">
££££££££££££££££qq</span><span class="atn">xmlns:u</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://nwalsh.com/xsl/unittests#</span><span class="z">"</span><span class="z">
££££££££££££££££qq</span><span class="atn">xmlns:xlink</span><span class="atneq">=</span><span class="z">'</span><span class="av">http://www.w3.org/1999/xlink</span><span class="z">'</span><span class="z">
££££££££££££££££qq</span><span class="atn">xmlns:xs</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2001/XMLSchema</span><span class="z">"</span><span class="z">
££££££££££££££££qq</span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
££££££££££££££££qq</span><span class="atn">exclude-result-prefixes</span><span class="atneq">=</span><span class="z">"</span><span class="av">db doc f fn h m t u xlink xs</span><span class="z">"</span><span class="z">
££££££££££££££££qq</span><span class="atn">version</span><span class="atneq">=</span><span class="z">"</span><span class="av">2.0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w97"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?body.fontset">body.fontset</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="z">&lt;!--</span><span class="cm"> this isn't used by the HTML stylesheets, but it's in common/functions </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:param</span><span id="wx113" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w119"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">anchor</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w135"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Returns an XHTML anchor if appropriate</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx141" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w143"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w147"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template returns an XHTML anchor
(</span><span class="ww" id="w151"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">starttag</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">a</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx163" class="ec">&gt;</span></span><span class="txt">) if the specified
node has an </span><span class="ww" id="w165"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">id</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx177" class="ec">&gt;</span></span><span class="txt">
(or </span><span class="ww" id="w179"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">xml:id</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx191" class="ec">&gt;</span></span><span class="txt">) attribute or if the
</span><span class="ww" id="w193"><span class="es">&lt;</span><span class="en">parameter</span><span class="scx">&gt;</span><span class="txt">force</span><span class="ez">&lt;/</span><span class="cl">parameter</span><span id="wx199" class="ec">&gt;</span></span><span class="txt"> parameter is non-zero.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx203" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w205"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">If an anchor is generated, it's </span><span class="ww" id="w209"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">id</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx221" class="ec">&gt;</span></span><span class="txt">
value is </span><span class="ww" id="w223"><span class="es">&lt;</span><span class="en">function</span><span class="scx">&gt;</span><span class="txt">f:node-id()</span><span class="ez">&lt;/</span><span class="cl">function</span><span id="wx229" class="ec">&gt;</span></span><span class="txt">.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx233" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx237" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w239"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w243"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w247"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w251"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">node</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx257" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w259"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w263"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The node for which an anchor should be generated. It defaults to
the context item.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx269" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx273" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx277" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w279"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w283"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">force</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx289" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w291"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w295"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">To force an anchor to be generated, even if the node does
not have an ID, make this parameter non-zero. It defaults to 0.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx301" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx305" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx309" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx313" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx317" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w319"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w323"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">An XHTML anchor or nothing.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx329" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx333" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w335"><span class="es">&lt;</span><span class="en">u:unittests</span><span class="z"> </span><span class="atn">template</span><span class="atneq">=</span><span class="z">"</span><span class="av">anchor</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w345"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w349"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w365"><span class="es">&lt;</span><span class="en">db:para</span><span class="z"> </span><span class="atn">xml:id</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span id="wx373" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx377" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w379"><span class="es">&lt;</span><span class="en">u:result</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w383"><span class="es">&lt;</span><span class="en">a</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span class="z"> </span><span class="atn">id</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span id="wx403" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx407" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx411" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">u:unittests</span><span id="wx415" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx419" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w421"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?anchor">anchor</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w431"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx445" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w447"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?force">force</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">0</span><span class="z">"</span><span id="wx461" class="sc">/&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w463"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$force</span><span class="whitespace" start="7"> </span><span class="op" start="8">!=</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">0</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="parenthesis" start="16" pair-end="43" select="quick">(</span><span class="variable" start="17" select="quick">$node</span><span class="step" start="22">/</span><span class="axis" start="23">@</span><span class="qname" start="24" select="quick">id</span><span class="whitespace" start="26"> </span><span class="op" start="27">or</span><span class="whitespace" start="29"> </span><span class="variable" start="30" select="quick">$node</span><span class="step" start="35">/</span><span class="axis" start="36">@</span><span class="qname" start="37" select="quick">xml:id</span><span class="parenthesis" start="43">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w493"><span class="es">&lt;</span><span class="en">a</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="n/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}node-id" class="solar"><span class="function" start="1" pair-end="16" select="quick">f:node-id</span></a><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$node</span><span class="parenthesis" start="16">)</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">id</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="n/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}node-id" class="solar"><span class="function" start="1" pair-end="16" select="quick">f:node-id</span></a><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$node</span><span class="parenthesis" start="16">)</span><span class="op">}</span><span class="z">"</span><span id="wx517" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx521" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx525" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w531"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">class</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w547"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Returns an “class” attribute if appropriate</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx553" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w555"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w559"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template returns an attribute named “class” if the specified
node has an </span><span class="ww" id="w563"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">role</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx575" class="ec">&gt;</span></span><span class="txt"> attribute or if the
</span><span class="ww" id="w577"><span class="es">&lt;</span><span class="en">parameter</span><span class="scx">&gt;</span><span class="txt">force</span><span class="ez">&lt;/</span><span class="cl">parameter</span><span id="wx583" class="ec">&gt;</span></span><span class="txt"> parameter is non-zero.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx587" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx591" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w593"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w597"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w601"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w605"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">node</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx611" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w613"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w617"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The node for which an class attribute should be generated. It defaults to
the context item.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx623" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx627" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx631" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w633"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w637"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">force</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx643" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w645"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w649"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">To force a “class” attribute to be generated, even if the node does
not have a </span><span class="ww" id="w653"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">role</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx665" class="ec">&gt;</span></span><span class="txt">,
make this parameter non-zero. It defaults to 0.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx669" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx673" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx677" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w679"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w683"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">default-role</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx689" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w691"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w695"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The default role that will be used if the attribute is forced
and the node has no </span><span class="ww" id="w699"><span class="es">&lt;</span><span class="en">tag</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">role</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx711" class="ec">&gt;</span></span><span class="txt">.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx715" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx719" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx723" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx727" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx731" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w733"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w737"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">An “class” attribute or nothing.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx743" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx747" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx751" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w753"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?class">class</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w763"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx777" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w779"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?force">force</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">0</span><span class="z">"</span><span id="wx793" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w795"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?default-role">default-role</span><span class="z">"</span><span id="wx803" class="sc">/&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w805"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?role">role</span><span class="z">"</span><span class="z">
££££££££££££££qq</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="if" start="1">if</span><span class="whitespace" start="3"> </span><span class="parenthesis" start="4" pair-end="16" select="quick">(</span><span class="variable" start="5" select="quick">$node</span><span class="step" start="10">/</span><span class="axis" start="11">@</span><span class="qname" start="12" select="quick">role</span><span class="parenthesis" start="16">)</span><span class="whitespace" start="17"> </span><span class="op" start="18">then</span><span class="whitespace" start="22"> </span><span class="variable" start="23" select="quick">$node</span><span class="step" start="28">/</span><span class="axis" start="29">@</span><span class="qname" start="30" select="quick">role</span><span class="whitespace" start="34"> </span><span class="op" start="35">else</span><span class="whitespace" start="39"> </span><span class="variable" start="40" select="quick">$default-role</span><span class="z">"</span><span id="wx837" class="sc">/&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w839"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$force</span><span class="whitespace" start="7"> </span><span class="op" start="8">!=</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">0</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$node</span><span class="step" start="21">/</span><span class="axis" start="22">@</span><span class="qname" start="23" select="quick">role</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w860"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">class</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$role</span><span class="z">"</span><span id="wx874" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx878" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx882" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w888"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">style</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w904"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Returns a “style” attribute if appropriate</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx910" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w912"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w916"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template returns an attribute named “style” if the
global parameter </span><span class="ww" id="w920"><span class="es">&lt;</span><span class="en">parameter</span><span class="scx">&gt;</span><span class="txt">inline.style.attribute</span><span class="ez">&lt;/</span><span class="cl">parameter</span><span id="wx926" class="ec">&gt;</span></span><span class="txt"> is non-zero
and a CSS style is specified.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx930" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx934" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w936"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w940"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w944"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w948"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">css</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx954" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w956"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w960"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The CSS style to apply.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx966" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx970" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx974" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx978" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx982" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w984"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w988"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">A “style” attribute or nothing.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx994" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx998" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx1002" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1004"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?style">style</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1014"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?css">css</span><span class="z">"</span><span id="wx1022" class="sc">/&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w1024"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="param.xsl.html#v?inline.style.attribute" class="solar"><span class="variable" start="1" select="quick">$inline.style.attribute</span></a><span class="whitespace" start="24"> </span><span class="op" start="25">!=</span><span class="whitespace" start="27"> </span><span class="numeric" start="28">0</span><span class="whitespace" start="29"> </span><span class="op" start="30">and</span><span class="whitespace" start="33"> </span><span class="variable" start="34" select="quick">$css</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1042"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">style</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1052"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$css</span><span class="z">"</span><span id="wx1060" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx1064" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1068" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1072" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w1078"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">t:javascript</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1094"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Template for inserting Javascript</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx1100" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1102"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1106"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">T.B.D.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1112" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx1116" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx1120" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1122"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}javascript">t:javascript</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1132"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1146" class="sc">/&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w1148"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="step" start="1">//</span><span class="qname" start="3" select="quick">db:annotation</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1159"><span class="es">&lt;</span><span class="en">script</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/javascript</span><span class="z">"</span><span class="z"> </span><span class="atn">src</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.github.com/latest/js/AnchorPosition.js</span><span class="z">"</span><span id="wx1173" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w1175"><span class="es">&lt;</span><span class="en">script</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/javascript</span><span class="z">"</span><span class="z"> </span><span class="atn">src</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.github.com/latest/js/PopupWindow.js</span><span class="z">"</span><span id="wx1189" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w1191"><span class="es">&lt;</span><span class="en">script</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/javascript</span><span class="z">"</span><span class="z"> </span><span class="atn">src</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.github.com/latest/js/annotation.js</span><span class="z">"</span><span id="wx1205" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1209" class="ec">&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w1211"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="step" start="1">//</span><span class="qname" start="3" select="quick">*</span><span class="filter" start="4" pair-end="27" select="quick">[</span><span class="axis" start="5">@</span><span class="qname" start="6" select="quick">xlink:type</span><span class="op" start="16">=</span><span class="op">'</span><span class="literal" start="17">extended</span><span class="op">'</span><span class="filter" start="27">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1230"><span class="es">&lt;</span><span class="en">script</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/javascript</span><span class="z">"</span><span class="z"> </span><span class="atn">src</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js</span><span class="z">"</span><span id="wx1244" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w1246"><span class="es">&lt;</span><span class="en">script</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/javascript</span><span class="z">"</span><span class="z"> </span><span class="atn">src</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.min.js</span><span class="z">"</span><span id="wx1260" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w1262"><span class="es">&lt;</span><span class="en">link</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/css</span><span class="z">"</span><span class="z"> </span><span class="atn">rel</span><span class="atneq">=</span><span class="z">"</span><span class="av">stylesheet</span><span class="z">"</span><span class="z">
££££££qq</span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/start/jquery-ui.css</span><span class="z">"</span><span id="wx1282" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w1284"><span class="es">&lt;</span><span class="en">script</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/javascript</span><span class="z">"</span><span class="z"> </span><span class="atn">src</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.github.com/latest/js/nhrefs.js</span><span class="z">"</span><span id="wx1298" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1302" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1306" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w1312"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">t:head</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1328"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Template for generating the head element</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx1334" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1336"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1340"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template is called to generate the HTML head for the
primary result document.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1346" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx1350" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx1354" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1356"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}head">t:head</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1366"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1380" class="sc">/&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w1382"><span class="es">&lt;</span><span class="en">head</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1386"><span class="es">&lt;</span><span class="en">title</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1390"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="n/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}title" class="solar"><span class="function" start="1" pair-end="14" select="quick">f:title</span></a><span class="parenthesis">(</span><span class="variable" start="9" select="quick">$node</span><span class="parenthesis" start="14">)</span><span class="z">"</span><span id="wx1401" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">title</span><span id="wx1405" class="ec">&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w1407"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="param.xsl.html#v?html.base" class="solar"><span class="variable" start="1" select="quick">$html.base</span></a><span class="whitespace" start="11"> </span><span class="op" start="12">!=</span><span class="whitespace" start="14"> </span><span class="op">'</span><span class="literal" start="15"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1423"><span class="es">&lt;</span><span class="en">base</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="param.xsl.html#v?html.base" class="solar"><span class="variable" start="1" select="quick">$html.base</span></a><span class="op">}</span><span class="z">"</span><span id="wx1433" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1437" class="ec">&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w1439"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="html.xsl.html#t?{http://docbook.org/xslt/ns/template}system-head-content" class="solar"><span class="tcall">t:system-head-content</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1449"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span id="wx1463" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1467" class="ec">&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w1469"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="html.xsl.html#t?{http://docbook.org/xslt/ns/template}head-meta" class="solar"><span class="tcall">t:head-meta</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1479"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span id="wx1493" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1497" class="ec">&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w1499"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="html.xsl.html#t?{http://docbook.org/xslt/ns/template}head-links" class="solar"><span class="tcall">t:head-links</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1509"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span id="wx1523" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1527" class="ec">&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w1529"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="136" select="quick">(</span><a href="param.xsl.html#v?draft.mode" class="solar"><span class="variable" start="2" select="quick">$draft.mode</span></a><span class="whitespace" start="13"> </span><span class="op" start="14">=</span><span class="whitespace" start="15"> </span><span class="op">'</span><span class="literal" start="16">yes</span><span class="op">'</span><span class="whitespace" start="21">
££££££££££££££qq</span><span class="op" start="41">or</span><span class="whitespace" start="43"> </span><span class="parenthesis" start="44" pair-end="135" select="quick">(</span><a href="param.xsl.html#v?draft.mode" class="solar"><span class="variable" start="45" select="quick">$draft.mode</span></a><span class="whitespace" start="56"> </span><span class="op" start="57">=</span><span class="whitespace" start="58"> </span><span class="op">'</span><span class="literal" start="59">maybe</span><span class="op">'</span><span class="whitespace" start="66"> </span><span class="op" start="67">and</span><span class="whitespace" start="70">
££££££££££££££qq</span><span class="variable" start="80" select="quick">$node</span><span class="step" start="85">/</span><span class="axis" start="86">ancestor-or-self::</span><span class="qname" start="104" select="quick">*</span><span class="filter" start="105" pair-end="113" select="quick">[</span><span class="axis" start="106">@</span><span class="qname" start="107" select="quick">status</span><span class="filter" start="113">]</span><span class="filter" start="114" pair-end="116" select="quick">[</span><span class="numeric" start="115">1</span><span class="filter" start="116">]</span><span class="step" start="117">/</span><span class="axis" start="118">@</span><span class="qname" start="119" select="quick">status</span><span class="whitespace" start="125"> </span><span class="op" start="126">=</span><span class="whitespace" start="127"> </span><span class="op">'</span><span class="literal" start="128">draft</span><span class="op">'</span><span class="parenthesis" start="135">)</span><span class="parenthesis" start="136">)</span><span class="whitespace" start="137">
££££££££££££££qq</span><span class="op" start="156">and</span><span class="whitespace" start="159"> </span><a href="param.xsl.html#v?draft.watermark.image" class="solar"><span class="variable" start="160" select="quick">$draft.watermark.image</span></a><span class="whitespace" start="182"> </span><span class="op" start="183">!=</span><span class="whitespace" start="185"> </span><span class="op">'</span><span class="literal" start="186"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1592"><span class="es">&lt;</span><span class="en">style</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/css</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
body { background-image: url('</span><span class="ww" id="w1602"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="param.xsl.html#v?draft.watermark.image" class="solar"><span class="variable" start="1" select="quick">$draft.watermark.image</span></a><span class="z">"</span><span id="wx1610" class="sc">/&gt;</span></span><span class="txt">');
qqbackground-repeat: no-repeat;
qqbackground-position: center center;
qq/* The following property make the watermark "fixed" on the page. */
qq/* I think that's just a bit too distracting for the reader... */
qq/* background-attachment: fixed; */
qq}
</span><span class="ez">&lt;/</span><span class="cl">style</span><span id="wx1614" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1618" class="ec">&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w1620"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="param.xsl.html#v?html.stylesheets" class="solar"><span class="variable" start="1" select="quick">$html.stylesheets</span></a><span class="whitespace" start="18"> </span><span class="op" start="19">!=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1636"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-tokenize" class="solar"><span class="function" start="1" pair-end="34" select="quick">tokenize</span></a><span class="parenthesis">(</span><a href="param.xsl.html#v?html.stylesheets" class="solar"><span class="variable" start="10" select="quick">$html.stylesheets</span></a><span class="op" start="27">,</span><span class="whitespace" start="28"> </span><span class="op">'</span><span class="literal" start="29">\s+</span><span class="op">'</span><span class="parenthesis" start="34">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1654"><span class="es">&lt;</span><span class="en">link</span><span class="z"> </span><span class="atn">rel</span><span class="atneq">=</span><span class="z">"</span><span class="av">stylesheet</span><span class="z">"</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="context" start="1">.</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1672"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1676"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-ends-with" class="solar"><span class="function" start="1" pair-end="19" select="quick">ends-with</span></a><span class="parenthesis">(</span><span class="context" start="11">.</span><span class="op" start="12">,</span><span class="op">'</span><span class="literal" start="13">.css</span><span class="op">'</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1693"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">type</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">text/css</span><span class="op">'</span><span class="z">"</span><span id="wx1709" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1713" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w1715"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="z">&lt;!--</span><span class="cm"> ??? what type is this ??? </span><span class="z">--&gt;</span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1725" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1729" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">link</span><span id="wx1733" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx1737" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1741" class="ec">&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w1743"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="html.xsl.html#t?{http://docbook.org/xslt/ns/template}javascript" class="solar"><span class="tcall">t:javascript</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1753"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span id="wx1767" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1771" class="ec">&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w1773"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="html.xsl.html#t?{http://docbook.org/xslt/ns/template}user-head-content" class="solar"><span class="tcall">t:user-head-content</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1783"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span id="wx1797" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1801" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">head</span><span id="wx1805" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1809" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w1815"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">t:head-meta</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1831"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Template for inserting metadata in the head</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx1837" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1839"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1843"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template is called in the HTML </span><span class="ww" id="w1847"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">head</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx1853" class="ec">&gt;</span></span><span class="txt"> to insert
HTML </span><span class="ww" id="w1855"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">meta</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx1861" class="ec">&gt;</span></span><span class="txt"> elements.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1865" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx1869" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx1873" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1875"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}head-meta">t:head-meta</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1885"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1899" class="sc">/&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w1901"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="param.xsl.html#v?generate.meta.generator" class="solar"><span class="variable" start="1" select="quick">$generate.meta.generator</span></a><span class="whitespace" start="25"> </span><span class="op" start="26">!=</span><span class="whitespace" start="28"> </span><span class="numeric" start="29">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1915"><span class="es">&lt;</span><span class="en">meta</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">generator</span><span class="z">"</span><span class="z"> </span><span class="atn">content</span><span class="atneq">=</span><span class="z">"</span><span class="av">DocBook XSL 2.0 Stylesheets V</span><span class="op">{</span><a href=".html#v?VERSION" class="solar"><span class="variable" start="1" select="quick">$VERSION</span></a><span class="op">}</span><span class="z">"</span><span id="wx1932" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1936" class="ec">&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w1938"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="param.xsl.html#v?generate.meta.abstract" class="solar"><span class="variable" start="1" select="quick">$generate.meta.abstract</span></a><span class="whitespace" start="24"> </span><span class="op" start="25">!=</span><span class="whitespace" start="27"> </span><span class="numeric" start="28">0</span><span class="whitespace" start="29"> </span><span class="op" start="30">and</span><span class="whitespace" start="33"> </span><span class="variable" start="34" select="quick">$node</span><span class="step" start="39">/</span><span class="qname" start="40" select="quick">db:info</span><span class="step" start="47">/</span><span class="qname" start="48" select="quick">db:abstract</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1960"><span class="es">&lt;</span><span class="en">meta</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">description</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1970"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1980"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="step" start="6">/</span><span class="qname" start="7" select="quick">db:info</span><span class="step" start="14">/</span><span class="qname" start="15" select="quick">db:abstract</span><span class="filter" start="26" pair-end="28" select="quick">[</span><span class="numeric" start="27">1</span><span class="filter" start="28">]</span><span class="step" start="29">/</span><span class="qname" start="30" select="quick">*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w1999"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx2007" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2009"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-position" class="solar"><span class="function" start="1" pair-end="10" select="quick">position</span></a><span class="parenthesis">(</span><span class="parenthesis" start="10">)</span><span class="whitespace" start="11"> </span><span class="qname" start="12" select="quick">&amp;</span><span class="op" start="13">lt</span><span class="qname" start="15" select="quick">;</span><span class="whitespace" start="16"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-last" class="solar"><span class="function" start="17" pair-end="22" select="quick">last</span></a><span class="parenthesis">(</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2029"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2035" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2039" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx2043" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx2047" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">meta</span><span id="wx2051" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2055" class="ec">&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w2057"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:head-keywords-content</span><span class="z">"</span><span id="wx2071" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2075" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w2081"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">t:head-links</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2097"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Template for inserting links in the head</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx2103" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2105"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2109"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template is called in the HTML </span><span class="ww" id="w2113"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">head</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2119" class="ec">&gt;</span></span><span class="txt"> to insert
HTML </span><span class="ww" id="w2121"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">link</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx2127" class="ec">&gt;</span></span><span class="txt"> elements.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2131" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx2135" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx2139" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2141"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}head-links">t:head-links</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2151"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx2165" class="sc">/&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w2167"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2171"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="1" pair-end="20" select="quick">string</span></a><span class="parenthesis">(</span><a href="param.xsl.html#v?docbook.css" class="solar"><span class="variable" start="8" select="quick">$docbook.css</span></a><span class="parenthesis" start="20">)</span><span class="whitespace" start="21"> </span><span class="op" start="22">=</span><span class="whitespace" start="23"> </span><span class="op">'</span><span class="literal" start="24"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="z">&lt;!--</span><span class="cm"> nop </span><span class="z">--&gt;</span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2196" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2198"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="param.xsl.html#v?docbook.css.inline" class="solar"><span class="variable" start="1" select="quick">$docbook.css.inline</span></a><span class="whitespace" start="20"> </span><span class="op" start="21">=</span><span class="whitespace" start="22"> </span><span class="numeric" start="23">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2212"><span class="es">&lt;</span><span class="en">link</span><span class="z"> </span><span class="atn">rel</span><span class="atneq">=</span><span class="z">"</span><span class="av">stylesheet</span><span class="z">"</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/css</span><span class="z">"</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="param.xsl.html#v?docbook.css" class="solar"><span class="variable" start="1" select="quick">$docbook.css</span></a><span class="op">}</span><span class="z">"</span><span id="wx2234" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2238" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2240"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2244"><span class="es">&lt;</span><span class="en">style</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/css</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2254"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-unparsed-text" class="solar"><span class="function" start="1" pair-end="36" select="quick">unparsed-text</span></a><span class="parenthesis">(</span><a href="param.xsl.html#v?docbook.css" class="solar"><span class="variable" start="15" select="quick">$docbook.css</span></a><span class="op" start="27">,</span><span class="whitespace" start="28"> </span><span class="op">'</span><span class="literal" start="29">utf-8</span><span class="op">'</span><span class="parenthesis" start="36">)</span><span class="z">"</span><span id="wx2270" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">style</span><span id="wx2274" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2278" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2282" class="ec">&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w2284"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="param.xsl.html#v?link.madeby.uri" class="solar"><span class="variable" start="1" select="quick">$link.madeby.uri</span></a><span class="whitespace" start="17"> </span><span class="op" start="18">!=</span><span class="whitespace" start="20"> </span><span class="op">'</span><span class="literal" start="21"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2300"><span class="es">&lt;</span><span class="en">link</span><span class="z"> </span><span class="atn">rev</span><span class="atneq">=</span><span class="z">"</span><span class="av">made</span><span class="z">"</span><span class="z">
££££££qq</span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="param.xsl.html#v?link.madeby.uri" class="solar"><span class="variable" start="1" select="quick">$link.madeby.uri</span></a><span class="op">}</span><span class="z">"</span><span id="wx2316" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2320" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2324" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w2330"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">t:body-attributes</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2346"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Template for inserting attributes on the HTML body</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx2352" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2354"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2358"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">T.B.D.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2364" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx2368" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx2372" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2374"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}body-attributes">t:body-attributes</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="z">&lt;!--</span><span class="cm"> nop </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2390" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w2396"><span class="es">&lt;</span><span class="en">doc:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:href</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2412"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Returns a URI for the node</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx2418" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2420"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2424"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This function returns a URI suitable for use in a hypertext link
for the specified node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2430" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx2434" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2436"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2440"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2444"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w2448"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">context</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx2454" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2456"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2460"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The context in which the link will be used. (This is necessary
when chunking.)</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2466" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2470" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx2474" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2476"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w2480"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">node</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx2486" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2488"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2492"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The node for which a URI will be generated.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2498" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2502" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx2506" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx2510" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx2514" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2516"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2520"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The hypertext anchor URI for the node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2526" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx2530" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2532"><span class="es">&lt;</span><span class="en">u:unittests</span><span class="z"> </span><span class="atn">function</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:href</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2542"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2546"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="av">/</span><span class="z">"</span><span id="wx2554" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2556"><span class="es">&lt;</span><span class="en">u:param</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2560"><span class="es">&lt;</span><span class="en">para</span><span class="z"> </span><span class="atn">id</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span id="wx2568" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx2572" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2574"><span class="es">&lt;</span><span class="en">u:result</span><span class="scx">&gt;</span><span class="txt">'#foo'</span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx2580" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx2584" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2586"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2590"><span class="es">&lt;</span><span class="en">u:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">mydoc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2600"><span class="es">&lt;</span><span class="en">db:book</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2604"><span class="es">&lt;</span><span class="en">db:title</span><span class="scx">&gt;</span><span class="txt">Some Title</span><span class="ez">&lt;/</span><span class="cl">db:title</span><span id="wx2610" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2612"><span class="es">&lt;</span><span class="en">db:chapter</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2616"><span class="es">&lt;</span><span class="en">db:title</span><span class="scx">&gt;</span><span class="txt">Some Chapter Title</span><span class="ez">&lt;/</span><span class="cl">db:title</span><span id="wx2622" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2624"><span class="es">&lt;</span><span class="en">db:para</span><span class="scx">&gt;</span><span class="txt">My para.</span><span class="ez">&lt;/</span><span class="cl">db:para</span><span id="wx2630" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">db:chapter</span><span id="wx2634" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">db:book</span><span id="wx2638" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">u:variable</span><span id="wx2642" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2644"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="av">$mydoc</span><span class="z">"</span><span id="wx2652" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2654"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="av">$mydoc//db:chapter[1]</span><span class="z">"</span><span id="wx2662" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2664"><span class="es">&lt;</span><span class="en">u:result</span><span class="scx">&gt;</span><span class="txt">'#R.1.2'</span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx2670" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx2674" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">u:unittests</span><span id="wx2678" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="cl">doc:function</span><span id="wx2682" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2684"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension}href">f:href</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:string</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2700"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?context">context</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">node()</span><span class="z">"</span><span id="wx2714" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2716"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span id="wx2730" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2732"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function" start="1" pair-end="29" select="quick">concat</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="8">#</span><span class="op">'</span><span class="op" start="11">,</span><span class="whitespace" start="12"> </span><a href="n/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}node-id" class="solar"><span class="function" start="13" pair-end="28" select="quick">f:node-id</span></a><span class="parenthesis">(</span><span class="variable" start="23" select="quick">$node</span><span class="parenthesis" start="28">)</span><span class="parenthesis" start="29">)</span><span class="z">"</span><span id="wx2751" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx2755" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w2761"><span class="es">&lt;</span><span class="en">doc:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:href-target-uri</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2777"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Returns a URI for the node</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx2783" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2785"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2789"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This function returns a URI suitable for use in a hypertext link
for the specified node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2795" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2797"><span class="es">&lt;</span><span class="en">note</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2801"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The difference between </span><span class="ww" id="w2805"><span class="es">&lt;</span><span class="en">function</span><span class="scx">&gt;</span><span class="txt">href-target-uri</span><span class="ez">&lt;/</span><span class="cl">function</span><span id="wx2811" class="ec">&gt;</span></span><span class="txt"> and
</span><span class="ww" id="w2813"><span class="es">&lt;</span><span class="en">function</span><span class="scx">&gt;</span><span class="txt">href</span><span class="ez">&lt;/</span><span class="cl">function</span><span id="wx2819" class="ec">&gt;</span></span><span class="txt"> is only apparent when chunking is used.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2823" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">note</span><span id="wx2827" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx2831" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2833"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2837"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2841"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w2845"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">node</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx2851" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w2853"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2857"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The node for which a URI will be generated.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2863" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx2867" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx2871" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx2875" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx2879" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2881"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2885"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The hypertext anchor URI for the node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2891" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx2895" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2897"><span class="es">&lt;</span><span class="en">u:unittests</span><span class="z"> </span><span class="atn">function</span><span class="atneq">=</span><span class="z">"</span><span class="av">f:href-target-uri</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2907"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2911"><span class="es">&lt;</span><span class="en">u:param</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2915"><span class="es">&lt;</span><span class="en">para</span><span class="z"> </span><span class="atn">id</span><span class="atneq">=</span><span class="z">"</span><span class="av">foo</span><span class="z">"</span><span id="wx2923" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">u:param</span><span id="wx2927" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2929"><span class="es">&lt;</span><span class="en">u:result</span><span class="scx">&gt;</span><span class="txt">'#foo'</span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx2935" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx2939" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2941"><span class="es">&lt;</span><span class="en">u:test</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2945"><span class="es">&lt;</span><span class="en">u:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">mydoc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2955"><span class="es">&lt;</span><span class="en">db:book</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2959"><span class="es">&lt;</span><span class="en">db:title</span><span class="scx">&gt;</span><span class="txt">Some Title</span><span class="ez">&lt;/</span><span class="cl">db:title</span><span id="wx2965" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2967"><span class="es">&lt;</span><span class="en">db:chapter</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w2971"><span class="es">&lt;</span><span class="en">db:title</span><span class="scx">&gt;</span><span class="txt">Some Chapter Title</span><span class="ez">&lt;/</span><span class="cl">db:title</span><span id="wx2977" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2979"><span class="es">&lt;</span><span class="en">db:para</span><span class="scx">&gt;</span><span class="txt">My para.</span><span class="ez">&lt;/</span><span class="cl">db:para</span><span id="wx2985" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">db:chapter</span><span id="wx2989" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">db:book</span><span id="wx2993" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">u:variable</span><span id="wx2997" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w2999"><span class="es">&lt;</span><span class="en">u:param</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="av">$mydoc//db:chapter[1]</span><span class="z">"</span><span id="wx3007" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w3009"><span class="es">&lt;</span><span class="en">u:result</span><span class="scx">&gt;</span><span class="txt">'#R.1.2'</span><span class="ez">&lt;/</span><span class="cl">u:result</span><span id="wx3015" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="cl">u:test</span><span id="wx3019" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">u:unittests</span><span id="wx3023" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="cl">doc:function</span><span id="wx3027" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3029"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension}href-target-uri">f:href-target-uri</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:string</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3045"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span id="wx3059" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w3061"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function" start="1" pair-end="29" select="quick">concat</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="8">#</span><span class="op">'</span><span class="op" start="11">,</span><span class="whitespace" start="12"> </span><a href="n/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}node-id" class="solar"><span class="function" start="13" pair-end="28" select="quick">f:node-id</span></a><span class="parenthesis">(</span><span class="variable" start="23" select="quick">$node</span><span class="parenthesis" start="28">)</span><span class="parenthesis" start="29">)</span><span class="z">"</span><span id="wx3080" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx3084" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w3090"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:strip-anchors</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3106"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for stripping anchors from XHTML</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx3112" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3114"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3118"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode performs an identity transform except that all XHTML
anchors (</span><span class="ww" id="w3122"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">a</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx3128" class="ec">&gt;</span></span><span class="txt">) elements are removed. The content of each anchor
is preserved, only the wrapping </span><span class="ww" id="w3130"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">a</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx3136" class="ec">&gt;</span></span><span class="txt"> is stripped away.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3140" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx3144" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx3148" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3150"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:strip-anchors</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3166"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3170"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx3179" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w3181"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:strip-anchors</span><span class="z">"</span><span id="wx3189" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx3193" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3197" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3199"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">h:a</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:strip-anchors</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">100</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3221"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:strip-anchors</span><span class="z">"</span><span id="wx3229" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3233" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3235"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">h:sup</span><span class="filter" start="6" pair-end="24" select="quick">[</span><span class="axis" start="7">@</span><span class="qname" start="8" select="quick">class</span><span class="op" start="13">=</span><span class="op">'</span><span class="literal" start="14">footnote</span><span class="op">'</span><span class="filter" start="24">]</span><span class="z">"</span><span class="z">
££££££££££££££qq</span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:strip-anchors</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">100</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="z">&lt;!--</span><span class="cm"> strip it </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3271" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3273"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="node" start="1" pair-end="6" select="quick">text</span><span class="parenthesis">(</span><span class="parenthesis" start="6">)</span><span class="op" start="7">|</span><span class="node" start="8" pair-end="16" select="quick">comment</span><span class="parenthesis">(</span><span class="parenthesis" start="16">)</span><span class="op" start="17">|</span><span class="node" start="18" pair-end="41" select="quick">processing-instruction</span><span class="parenthesis">(</span><span class="parenthesis" start="41">)</span><span class="z">"</span><span class="z">
££££££££££££££qq</span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:strip-anchors</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3299"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span id="wx3301" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3305" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w3311"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}user-preroot">t:user-preroot</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="z">&lt;!--</span><span class="cm"> Pre-root output, can be used to output comments and PIs. </span><span class="z">--&gt;</span><span class="txt">
qq</span><span class="z">&lt;!--</span><span class="cm"> This must not output any element content! </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3331" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3333"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}system-head-content">t:system-head-content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3343"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx3357" class="sc">/&gt;</span></span><span class="txt">

qq</span><span class="z">&lt;!--</span><span class="cm"> system.head.content is like user.head.content, except that
qqit is called before head.content. This is important because it
qqmeans, for example, that &lt;style&gt; elements output by system-head-content
qqhave a lower CSS precedence than the users stylesheet. </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3365" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3367"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}user-head-content">t:user-head-content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3377"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx3391" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3395" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3397"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}user-header-content">t:user-header-content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3407"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx3421" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w3423"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?next">next</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx3438" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w3440"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?prev">prev</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx3455" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w3457"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?up">up</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx3472" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3476" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3478"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}user-footer-content">t:user-footer-content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3488"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx3502" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w3504"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?next">next</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx3519" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w3521"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?prev">prev</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx3536" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w3538"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?up">up</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx3553" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3557" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w3563"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:head-keywords-content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3579"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:info</span><span class="step" start="8">/</span><span class="qname" start="9" select="quick">db:keywordset</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:head-keywords-content</span><span class="z">"</span><span id="wx3595" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w3597"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="param.xsl.html#v?inherit.keywords" class="solar"><span class="variable" start="1" select="quick">$inherit.keywords</span></a><span class="whitespace" start="18"> </span><span class="op" start="19">!=</span><span class="whitespace" start="21"> </span><span class="numeric" start="22">0</span><span class="whitespace" start="23"> </span><span class="op" start="24">and</span><span class="whitespace" start="27"> </span><span class="axis" start="28">parent::</span><span class="qname" start="36" select="quick">*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3616"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">parent::</span><span class="qname" start="9" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:head-keywords-content</span><span class="z">"</span><span id="wx3631" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3635" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3639" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3641"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:keywordset</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:head-keywords-content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3657"><span class="es">&lt;</span><span class="en">meta</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">keywords</span><span class="z">"</span><span class="z"> </span><span class="atn">content</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-string-join" class="solar"><span class="function" start="1" pair-end="29" select="quick">string-join</span></a><span class="parenthesis">(</span><span class="qname" start="13" select="quick">db:keyword</span><span class="op" start="23">,</span><span class="whitespace" start="24"> </span><span class="op">'</span><span class="literal" start="25">, </span><span class="op">'</span><span class="parenthesis" start="29">)</span><span class="op">}</span><span class="z">"</span><span id="wx3681" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3685" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w3691"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">attribute()*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3713"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?class">class</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:string</span><span class="z">"</span><span id="wx3735" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w3737"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?force-id">force-id</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-false" class="solar"><span class="function" start="1" pair-end="7" select="quick">false</span></a><span class="parenthesis">(</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:boolean</span><span class="z">"</span><span id="wx3759" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w3761"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?suppress-local-name-class">suppress-local-name-class</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-false" class="solar"><span class="function" start="1" pair-end="7" select="quick">false</span></a><span class="parenthesis">(</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:boolean</span><span class="z">"</span><span id="wx3783" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w3785"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?suppress-role-class">suppress-role-class</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-false" class="solar"><span class="function" start="1" pair-end="7" select="quick">false</span></a><span class="parenthesis">(</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:boolean</span><span class="z">"</span><span id="wx3807" class="sc">/&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w3809"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3813"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">xml:id</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3824"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">id</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">xml:id</span><span class="z">"</span><span id="wx3839" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3843" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ww" id="w3845"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$force-id</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3855"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">id</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="n/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}node-id" class="solar"><span class="function" start="1" pair-end="12" select="quick">f:node-id</span></a><span class="parenthesis">(</span><span class="context" start="11">.</span><span class="parenthesis" start="12">)</span><span class="z">"</span><span id="wx3872" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3876" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3880" class="ec">&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w3882"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">dir</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3893"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">dir</span><span class="z">"</span><span id="wx3902" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3906" class="ec">&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w3908"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">xml:lang</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3919"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="n/l10n.xsl.html#t?lang-attribute" class="solar"><span class="tcall">lang-attribute</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w3929"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx3943" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx3947" class="ec">&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3951" class="ec">&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w3953"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?value-seq">value-seq</span><span class="z">"</span><span class="z">
££££££££££££££qq</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="420" select="quick">(</span><span class="if" start="2">if</span><span class="whitespace" start="4"> </span><span class="parenthesis" start="5" pair-end="32" select="quick">(</span><span class="variable" start="6" select="quick">$suppress-local-name-class</span><span class="parenthesis" start="32">)</span><span class="whitespace" start="33">
££££££££££££££££££££££qq</span><span class="op" start="59">then</span><span class="whitespace" start="63"> </span><span class="parenthesis" start="64" pair-end="65" select="quick">(</span><span class="parenthesis" start="65">)</span><span class="whitespace" start="66"> </span><span class="op" start="67">else</span><span class="whitespace" start="71"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="72" pair-end="84" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="83">.</span><span class="parenthesis" start="84">)</span><span class="op" start="85">,</span><span class="whitespace" start="86">
££££££££££££££££££££££qq</span><span class="if" start="112">if</span><span class="whitespace" start="114"> </span><span class="parenthesis" start="115" pair-end="128" select="quick">(</span><span class="variable" start="116" select="quick">$class</span><span class="whitespace" start="122"> </span><span class="op" start="123">!=</span><span class="whitespace" start="125"> </span><span class="op">'</span><span class="literal" start="126"></span><span class="op">'</span><span class="parenthesis" start="128">)</span><span class="whitespace" start="129"> </span><span class="op" start="130">then</span><span class="whitespace" start="134"> </span><span class="variable" start="135" select="quick">$class</span><span class="whitespace" start="141"> </span><span class="op" start="142">else</span><span class="whitespace" start="146"> </span><span class="parenthesis" start="147" pair-end="148" select="quick">(</span><span class="parenthesis" start="148">)</span><span class="op" start="149">,</span><span class="whitespace" start="150">
££££££££££££££££££££££qq</span><span class="if" start="176">if</span><span class="whitespace" start="178"> </span><span class="parenthesis" start="179" pair-end="214" select="quick">(</span><span class="variable" start="180" select="quick">$suppress-role-class</span><span class="whitespace" start="200"> </span><span class="op" start="201">or</span><span class="whitespace" start="203"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="204" pair-end="213" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="208">@</span><span class="qname" start="209" select="quick">role</span><span class="parenthesis" start="213">)</span><span class="parenthesis" start="214">)</span><span class="whitespace" start="215">
££££££££££££££££££££££qq</span><span class="op" start="241">then</span><span class="whitespace" start="245"> </span><span class="parenthesis" start="246" pair-end="247" select="quick">(</span><span class="parenthesis" start="247">)</span><span class="whitespace" start="248">
££££££££££££££££££££££qq</span><span class="op" start="274">else</span><span class="whitespace" start="278"> </span><span class="axis" start="279">@</span><span class="qname" start="280" select="quick">role</span><span class="op" start="284">,</span><span class="whitespace" start="285">
££££££££££££££££££££££qq</span><span class="if" start="311">if</span><span class="whitespace" start="313"> </span><span class="parenthesis" start="314" pair-end="328" select="quick">(</span><span class="axis" start="315">@</span><span class="qname" start="316" select="quick">revisionflag</span><span class="parenthesis" start="328">)</span><span class="whitespace" start="329">
££££££££££££££££££££££qq</span><span class="op" start="355">then</span><span class="whitespace" start="359"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function" start="360" pair-end="386" select="quick">concat</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="367">rf-</span><span class="op">'</span><span class="op" start="372">,</span><span class="axis" start="373">@</span><span class="qname" start="374" select="quick">revisionflag</span><span class="parenthesis" start="386">)</span><span class="whitespace" start="387">
££££££££££££££££££££££qq</span><span class="op" start="413">else</span><span class="whitespace" start="417"> </span><span class="parenthesis" start="418" pair-end="419" select="quick">(</span><span class="parenthesis" start="419">)</span><span class="parenthesis" start="420">)</span><span class="z">"</span><span id="wx4057" class="sc">/&gt;</span></span><span class="txt">

qq</span><span class="ww" id="w4059"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="22" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$value-seq</span><span class="parenthesis" start="21">)</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
qq</span><span class="ww" id="w4075"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">class</span><span class="z">"</span><span class="z">
£££££££££££££££qq</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-normalize-space" class="solar"><span class="function" start="1" pair-end="45" select="quick">normalize-space</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-string-join" class="solar"><span class="function" start="17" pair-end="44" select="quick">string-join</span></a><span class="parenthesis">(</span><span class="variable" start="29" select="quick">$value-seq</span><span class="op" start="39">,</span><span class="whitespace" start="40"> </span><span class="op">'</span><span class="literal" start="41"> </span><span class="op">'</span><span class="parenthesis" start="44">)</span><span class="parenthesis" start="45">)</span><span class="z">"</span><span id="wx4100" class="sc">/&gt;</span></span><span class="txt">
qq</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx4104" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4108" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="clxsl">xsl:stylesheet</span><span id="wx4112" class="ec">&gt;</span></span><span class="txt">
</span></p></div></body></html>