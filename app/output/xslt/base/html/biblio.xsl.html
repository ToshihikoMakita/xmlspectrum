<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>biblio.xsl</title><link rel="stylesheet" type="text/css" href="../../../theme.css"></head><body><div><p class="spectrum"><span class="z">&lt;?</span><span class="pi">xml version="1.0" encoding="utf-8"</span><span class="z">?&gt;</span><span class="txt">
</span><span class="ww" id="w5"><span class="es">&lt;</span><span class="enxsl">xsl:stylesheet</span><span class="z"> </span><span class="atn">xmlns:xsl</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/XSL/Transform</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:db</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:doc</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://nwalsh.com/xsl/documentation/1.0</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:f</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/extension</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:fn</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2005/xpath-functions</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:h</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:m</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/mode</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:t</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/template</span><span class="z">"</span><span class="z">
                </span><span class="atn">exclude-result-prefixes</span><span class="atneq">=</span><span class="z">"</span><span class="av">db doc f fn h m t</span><span class="z">"</span><span class="z">
                </span><span class="atn">version</span><span class="atneq">=</span><span class="z">"</span><span class="av">2.0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  
  </span><span class="ww" id="w75"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:bibliography</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w85"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?recto">recto</span><span class="z">"</span><span class="z">
                  </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="87" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27"> </span><span class="op" start="28">=</span><span class="whitespace" start="29"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="30" pair-end="49" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="40" pair-end="48" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="48">)</span><span class="parenthesis" start="49">)</span><span class="whitespace" start="50">
                          </span><span class="op" start="68">and</span><span class="whitespace" start="71"> </span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">t:side</span><span class="op" start="79">=</span><span class="op">'</span><span class="literal" start="80">recto</span><span class="op">'</span><span class="filter" start="87">]</span><span class="filter" start="88" pair-end="90" select="quick">[</span><span class="numeric" start="89">1</span><span class="filter" start="90">]</span><span class="z">"</span><span id="wx128" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w130"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?verso">verso</span><span class="z">"</span><span class="z">
                  </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="87" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27"> </span><span class="op" start="28">=</span><span class="whitespace" start="29"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="30" pair-end="49" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="40" pair-end="48" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="48">)</span><span class="parenthesis" start="49">)</span><span class="whitespace" start="50">
                          </span><span class="op" start="68">and</span><span class="whitespace" start="71"> </span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">t:side</span><span class="op" start="79">=</span><span class="op">'</span><span class="literal" start="80">verso</span><span class="op">'</span><span class="filter" start="87">]</span><span class="filter" start="88" pair-end="90" select="quick">[</span><span class="numeric" start="89">1</span><span class="filter" start="90">]</span><span class="z">"</span><span id="wx173" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w175"><span class="es">&lt;</span><span class="en">div</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w179"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx193" class="sc">/&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w195"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/titlepages.xsl.html#t?titlepage" class="solar"><span class="tcall">titlepage</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w205"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$recto</span><span class="z">"</span><span id="wx219" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx223" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w225"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="18" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$verso</span><span class="parenthesis" start="17">)</span><span class="parenthesis" start="18">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w241"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/titlepages.xsl.html#t?titlepage" class="solar"><span class="tcall">titlepage</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w251"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$verso</span><span class="z">"</span><span id="wx265" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx269" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx273" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w275"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span id="wx277" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">div</span><span id="wx281" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx285" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w287"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:bibliodiv</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w297"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?recto">recto</span><span class="z">"</span><span class="z">
                  </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="87" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27"> </span><span class="op" start="28">=</span><span class="whitespace" start="29"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="30" pair-end="49" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="40" pair-end="48" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="48">)</span><span class="parenthesis" start="49">)</span><span class="whitespace" start="50">
                          </span><span class="op" start="68">and</span><span class="whitespace" start="71"> </span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">t:side</span><span class="op" start="79">=</span><span class="op">'</span><span class="literal" start="80">recto</span><span class="op">'</span><span class="filter" start="87">]</span><span class="filter" start="88" pair-end="90" select="quick">[</span><span class="numeric" start="89">1</span><span class="filter" start="90">]</span><span class="z">"</span><span id="wx340" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w342"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?verso">verso</span><span class="z">"</span><span class="z">
                  </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="87" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27"> </span><span class="op" start="28">=</span><span class="whitespace" start="29"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="30" pair-end="49" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="40" pair-end="48" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="48">)</span><span class="parenthesis" start="49">)</span><span class="whitespace" start="50">
                          </span><span class="op" start="68">and</span><span class="whitespace" start="71"> </span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">t:side</span><span class="op" start="79">=</span><span class="op">'</span><span class="literal" start="80">verso</span><span class="op">'</span><span class="filter" start="87">]</span><span class="filter" start="88" pair-end="90" select="quick">[</span><span class="numeric" start="89">1</span><span class="filter" start="90">]</span><span class="z">"</span><span id="wx385" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w387"><span class="es">&lt;</span><span class="en">div</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w391"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx405" class="sc">/&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w407"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/titlepages.xsl.html#t?titlepage" class="solar"><span class="tcall">titlepage</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w417"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$recto</span><span class="z">"</span><span id="wx431" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx435" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w437"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="18" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="5">empty</span><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$verso</span><span class="parenthesis" start="17">)</span><span class="parenthesis" start="18">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w453"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/titlepages.xsl.html#t?titlepage" class="solar"><span class="tcall">titlepage</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w463"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$verso</span><span class="z">"</span><span id="wx477" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx481" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx485" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w487"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span id="wx489" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">div</span><span id="wx493" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx497" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w499"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:bibliolist</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w509"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?titlepage">titlepage</span><span class="z">"</span><span class="z">
                  </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="48" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="op" start="27">=</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="28" pair-end="47" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="38" pair-end="46" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="46">)</span><span class="parenthesis" start="47">)</span><span class="filter" start="48">]</span><span class="filter" start="49" pair-end="51" select="quick">[</span><span class="numeric" start="50">1</span><span class="filter" start="51">]</span><span class="z">"</span><span id="wx541" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w543"><span class="es">&lt;</span><span class="en">div</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w547"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx561" class="sc">/&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w563"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/titlepages.xsl.html#t?titlepage" class="solar"><span class="tcall">titlepage</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w573"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$titlepage</span><span class="z">"</span><span id="wx587" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx591" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w593"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span id="wx595" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">div</span><span id="wx599" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx603" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w605"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:biblioentry</span><span class="filter" start="15" pair-end="27" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="16" pair-end="26" select="quick">not</span></a><span class="parenthesis">(</span><span class="node" start="20" pair-end="25" select="quick">node</span><span class="parenthesis">(</span><span class="parenthesis" start="25">)</span><span class="parenthesis" start="26">)</span><span class="filter" start="27">]</span><span class="op" start="28">|</span><span class="qname" start="29" select="quick">db:bibliomixed</span><span class="filter" start="43" pair-end="55" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="44" pair-end="54" select="quick">not</span></a><span class="parenthesis">(</span><span class="node" start="48" pair-end="53" select="quick">node</span><span class="parenthesis">(</span><span class="parenthesis" start="53">)</span><span class="parenthesis" start="54">)</span><span class="filter" start="55">]</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">100</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w639"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?id">id</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">xml:id</span><span class="z">"</span><span id="wx654" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w656"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w660"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="8" select="quick">not</span></a><span class="parenthesis">(</span><span class="variable" start="5" select="quick">$id</span><span class="parenthesis" start="8">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w673"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w677"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Error: </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx683" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w685"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">empty </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx691" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w693"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="z">"</span><span id="wx704" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w706"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> with no id.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx712" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx716" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx720" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w722"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/normalize.xsl.html#v?external.bibliography" class="solar"><span class="variable" start="1" select="quick">$external.bibliography</span></a><span class="step" start="23">/</span><a href="http://www.w3.org/TR/xpath-functions/#func-key" class="solar"><span class="function" start="24" pair-end="37" select="quick">key</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="28">id</span><span class="op">'</span><span class="op" start="32">,</span><span class="whitespace" start="33"> </span><span class="variable" start="34" select="quick">$id</span><span class="parenthesis" start="37">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w742"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/normalize.xsl.html#v?external.bibliography" class="solar"><span class="variable" start="1" select="quick">$external.bibliography</span></a><span class="step" start="23">/</span><a href="http://www.w3.org/TR/xpath-functions/#func-key" class="solar"><span class="function" start="24" pair-end="37" select="quick">key</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="28">id</span><span class="op">'</span><span class="op" start="32">,</span><span class="whitespace" start="33"> </span><span class="variable" start="34" select="quick">$id</span><span class="parenthesis" start="37">)</span><span class="z">"</span><span id="wx760" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx764" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w766"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w770"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w774"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Error: </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx780" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w782"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">$bibliography.collection doesn't contain </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx788" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w790"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$id</span><span class="z">"</span><span id="wx798" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx802" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w804"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w808"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx817" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w819"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">???</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx825" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx829" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx833" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx837" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx841" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w843"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:biblioentry</span><span class="op" start="15">|</span><span class="qname" start="16" select="quick">db:bibliomixed</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w855"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?label">label</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}biblioentry-label" class="solar"><span class="function" start="1" pair-end="22" select="quick">f:biblioentry-label</span></a><span class="parenthesis">(</span><span class="context" start="21">.</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span id="wx872" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="z">&lt;!--</span><span class="cm"> N.B. The bibliography entry is expanded using $bibliography.collection </span><span class="z">--&gt;</span><span class="txt">
    </span><span class="z">&lt;!--</span><span class="cm"> during *normalization*, not here... </span><span class="z">--&gt;</span><span class="txt">
    
    </span><span class="ww" id="w882"><span class="es">&lt;</span><span class="en">div</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w886"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx900" class="sc">/&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w902"><span class="es">&lt;</span><span class="en">p</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w906"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">[</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx912" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w914"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$label</span><span class="z">"</span><span id="wx922" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w924"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">] </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx930" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w932"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w936"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">self::</span><span class="qname" start="7" select="quick">db:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w947"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx955" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx959" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w961"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w965"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span id="wx973" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx977" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx981" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">p</span><span id="wx985" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">div</span><span id="wx989" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx993" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">
  
  </span><span class="ww" id="w999"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span class="z">
            </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1015"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for formatting </span><span class="ww" id="w1019"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">bibliomixed</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx1025" class="ec">&gt;</span></span><span class="txt"> elements</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx1029" class="ec">&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w1031"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1035"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to format elements in a </span><span class="ww" id="w1039"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">bibliomixed</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx1045" class="ec">&gt;</span></span><span class="txt">.
        Any element processed in this mode should generate markup appropriate
      for the content of a bibliography entry.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1049" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx1053" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx1057" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1059"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1075"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1083" class="sc">/&gt;</span></span><span class="txt"> </span><span class="z">&lt;!--</span><span class="cm"> try the default mode </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1091" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1093"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:abbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1109"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">preceding-sibling::</span><span class="qname" start="20" select="quick">*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1120"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span id="wx1128" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1132" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1136" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1138"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:bibliomset</span><span class="step" start="14">/</span><span class="qname" start="15" select="quick">db:title</span><span class="op" start="23">|</span><span class="qname" start="24" select="quick">db:bibliomset</span><span class="step" start="37">/</span><span class="qname" start="38" select="quick">db:citetitle</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1160"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?relation">relation</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">..</span><span class="step" start="3">/</span><span class="axis" start="4">@</span><span class="qname" start="5" select="quick">relation</span><span class="z">"</span><span id="wx1177" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w1179"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/xlink.xsl.html#t?{http://docbook.org/xslt/ns/template}simple-xlink" class="solar"><span class="tcall">t:simple-xlink</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1189"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1199"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1203"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$relation</span><span class="op" start="10">=</span><span class="op">'</span><span class="literal" start="11">article</span><span class="op">'</span><span class="whitespace" start="20"> </span><span class="op" start="21">or</span><span class="whitespace" start="23"> </span><span class="axis" start="24">@</span><span class="qname" start="25" select="quick">pubwork</span><span class="op" start="32">=</span><span class="op">'</span><span class="literal" start="33">article</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1226"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/l10n.xsl.html#t?gentext-startquote" class="solar"><span class="tcall">gentext-startquote</span></a><span class="z">"</span><span id="wx1234" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w1236"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span id="wx1244" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w1246"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/l10n.xsl.html#t?gentext-endquote" class="solar"><span class="tcall">gentext-endquote</span></a><span class="z">"</span><span id="wx1254" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1258" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w1260"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1264"><span class="es">&lt;</span><span class="en">cite</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w1268"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span id="wx1276" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="cl">cite</span><span id="wx1280" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1284" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1288" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1292" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1296" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1300" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1302"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:citetitle</span><span class="op" start="13">|</span><span class="qname" start="14" select="quick">db:title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1320"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/xlink.xsl.html#t?{http://docbook.org/xslt/ns/template}simple-xlink" class="solar"><span class="tcall">t:simple-xlink</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1330"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1340"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="7" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">.</span><span class="parenthesis" start="7">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1355"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1359"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">pubwork</span><span class="whitespace" start="9"> </span><span class="op" start="10">=</span><span class="whitespace" start="11"> </span><span class="op">'</span><span class="literal" start="12">article</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w1376"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/l10n.xsl.html#t?gentext-startquote" class="solar"><span class="tcall">gentext-startquote</span></a><span class="z">"</span><span id="wx1384" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1386"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span id="wx1394" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1396"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/l10n.xsl.html#t?gentext-endquote" class="solar"><span class="tcall">gentext-endquote</span></a><span class="z">"</span><span id="wx1404" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1408" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w1410"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w1414"><span class="es">&lt;</span><span class="en">cite</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w1418"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span id="wx1426" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="cl">cite</span><span id="wx1430" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1434" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1438" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx1442" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1446" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1450" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1454" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1456"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:revhistory</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="z">&lt;!--</span><span class="cm"> suppressed; how could this be represented? </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1478" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1480"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:abstract</span><span class="whitespace" start="12">
                       </span><span class="op" start="20">|</span><span class="qname" start="21" select="quick">db:address</span><span class="whitespace" start="31">
                       </span><span class="op" start="39">|</span><span class="qname" start="40" select="quick">db:affiliation</span><span class="whitespace" start="54">
                       </span><span class="op" start="62">|</span><span class="qname" start="63" select="quick">db:artpagenums</span><span class="whitespace" start="77">
                       </span><span class="op" start="85">|</span><span class="qname" start="86" select="quick">db:authorblurb</span><span class="whitespace" start="100">
                       </span><span class="op" start="108">|</span><span class="qname" start="109" select="quick">db:authorinitials</span><span class="whitespace" start="126">
                       </span><span class="op" start="134">|</span><span class="qname" start="135" select="quick">db:bibliocoverage</span><span class="whitespace" start="152">
                       </span><span class="op" start="160">|</span><span class="qname" start="161" select="quick">db:biblioid</span><span class="whitespace" start="172">
                       </span><span class="op" start="180">|</span><span class="qname" start="181" select="quick">db:bibliomisc</span><span class="whitespace" start="194">
                       </span><span class="op" start="202">|</span><span class="qname" start="203" select="quick">db:bibliomset</span><span class="whitespace" start="216">
                       </span><span class="op" start="224">|</span><span class="qname" start="225" select="quick">db:bibliorelation</span><span class="whitespace" start="242">
                       </span><span class="op" start="250">|</span><span class="qname" start="251" select="quick">db:biblioset</span><span class="whitespace" start="263">
                       </span><span class="op" start="271">|</span><span class="qname" start="272" select="quick">db:bibliosource</span><span class="whitespace" start="287">
                       </span><span class="op" start="295">|</span><span class="qname" start="296" select="quick">db:collab</span><span class="whitespace" start="305">
                       </span><span class="op" start="313">|</span><span class="qname" start="314" select="quick">db:confgroup</span><span class="whitespace" start="326">
                       </span><span class="op" start="334">|</span><span class="qname" start="335" select="quick">db:contractnum</span><span class="whitespace" start="349">
                       </span><span class="op" start="357">|</span><span class="qname" start="358" select="quick">db:contractsponsor</span><span class="whitespace" start="376">
                       </span><span class="op" start="384">|</span><span class="qname" start="385" select="quick">db:contrib</span><span class="whitespace" start="395">
                       </span><span class="op" start="403">|</span><span class="qname" start="404" select="quick">db:corpauthor</span><span class="whitespace" start="417">
                       </span><span class="op" start="425">|</span><span class="qname" start="426" select="quick">db:corpcredit</span><span class="whitespace" start="439">
                       </span><span class="op" start="447">|</span><span class="qname" start="448" select="quick">db:corpname</span><span class="whitespace" start="459">
                       </span><span class="op" start="467">|</span><span class="qname" start="468" select="quick">db:date</span><span class="whitespace" start="475">
                       </span><span class="op" start="483">|</span><span class="qname" start="484" select="quick">db:edition</span><span class="whitespace" start="494">
                       </span><span class="op" start="502">|</span><span class="qname" start="503" select="quick">db:firstname</span><span class="whitespace" start="515">
                       </span><span class="op" start="523">|</span><span class="qname" start="524" select="quick">db:honorific</span><span class="whitespace" start="536">
                       </span><span class="op" start="544">|</span><span class="qname" start="545" select="quick">db:invpartnumber</span><span class="whitespace" start="561">
                       </span><span class="op" start="569">|</span><span class="qname" start="570" select="quick">db:isbn</span><span class="whitespace" start="577">
                       </span><span class="op" start="585">|</span><span class="qname" start="586" select="quick">db:issn</span><span class="whitespace" start="593">
                       </span><span class="op" start="601">|</span><span class="qname" start="602" select="quick">db:issuenum</span><span class="whitespace" start="613">
                       </span><span class="op" start="621">|</span><span class="qname" start="622" select="quick">db:jobtitle</span><span class="whitespace" start="633">
                       </span><span class="op" start="641">|</span><span class="qname" start="642" select="quick">db:lineage</span><span class="whitespace" start="652">
                       </span><span class="op" start="660">|</span><span class="qname" start="661" select="quick">db:orgname</span><span class="whitespace" start="671">
                       </span><span class="op" start="679">|</span><span class="qname" start="680" select="quick">db:othername</span><span class="whitespace" start="692">
                       </span><span class="op" start="700">|</span><span class="qname" start="701" select="quick">db:pagenums</span><span class="whitespace" start="712">
                       </span><span class="op" start="720">|</span><span class="qname" start="721" select="quick">db:personblurb</span><span class="whitespace" start="735">
                       </span><span class="op" start="743">|</span><span class="qname" start="744" select="quick">db:printhistory</span><span class="whitespace" start="759">
                       </span><span class="op" start="767">|</span><span class="qname" start="768" select="quick">db:productname</span><span class="whitespace" start="782">
                       </span><span class="op" start="790">|</span><span class="qname" start="791" select="quick">db:productnumber</span><span class="whitespace" start="807">
                       </span><span class="op" start="815">|</span><span class="qname" start="816" select="quick">db:pubdate</span><span class="whitespace" start="826">
                       </span><span class="op" start="834">|</span><span class="qname" start="835" select="quick">db:publisher</span><span class="whitespace" start="847">
                       </span><span class="op" start="855">|</span><span class="qname" start="856" select="quick">db:publishername</span><span class="whitespace" start="872">
                       </span><span class="op" start="880">|</span><span class="qname" start="881" select="quick">db:pubsnumber</span><span class="whitespace" start="894">
                       </span><span class="op" start="902">|</span><span class="qname" start="903" select="quick">db:releaseinfo</span><span class="whitespace" start="917">
                       </span><span class="op" start="925">|</span><span class="qname" start="926" select="quick">db:seriesvolnums</span><span class="whitespace" start="942">
                       </span><span class="op" start="950">|</span><span class="qname" start="951" select="quick">db:shortaffil</span><span class="whitespace" start="964">
                       </span><span class="op" start="972">|</span><span class="qname" start="973" select="quick">db:subtitle</span><span class="whitespace" start="984">
                       </span><span class="op" start="992">|</span><span class="qname" start="993" select="quick">db:surname</span><span class="whitespace" start="1003">
                       </span><span class="op" start="1011">|</span><span class="qname" start="1012" select="quick">db:titleabbrev</span><span class="whitespace" start="1026">
                       </span><span class="op" start="1034">|</span><span class="qname" start="1035" select="quick">db:volumenum</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1640"><span class="es">&lt;</span><span class="en">span</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1644"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx1658" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1660"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:bibliomixed</span><span class="z">"</span><span id="wx1668" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx1672" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1676" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">
  
  </span><span class="ww" id="w1682"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="z">
            </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1698"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for formatting </span><span class="ww" id="w1702"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">biblioentry</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx1708" class="ec">&gt;</span></span><span class="txt"> elements</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx1712" class="ec">&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w1714"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1718"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to format elements in a </span><span class="ww" id="w1722"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">biblioentry</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx1728" class="ec">&gt;</span></span><span class="txt">.
        Any element processed in this mode should generate markup appropriate
      for the content of a bibliography entry.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1732" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx1736" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx1740" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1742"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1758"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?content">content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1768"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1776" class="sc">/&gt;</span></span><span class="txt"> </span><span class="z">&lt;!--</span><span class="cm"> try the default mode </span><span class="z">--&gt;</span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx1784" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1786"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="z">"</span><span id="wx1794" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1796"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="37" select="quick">not</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-ends-with" class="solar"><span class="function" start="5" pair-end="36" select="quick">ends-with</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="15" pair-end="30" select="quick">string</span></a><span class="parenthesis">(</span><span class="variable" start="22" select="quick">$content</span><span class="parenthesis" start="30">)</span><span class="op" start="31">,</span><span class="whitespace" start="32"> </span><span class="op">'</span><span class="literal" start="33">.</span><span class="op">'</span><span class="parenthesis" start="36">)</span><span class="parenthesis" start="37">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1822" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1824"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1830" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1834" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1836"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:biblioset</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1852"><span class="es">&lt;</span><span class="en">span</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1856"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx1870" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1872"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx1880" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx1884" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1888" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1890"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:abbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1906"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">preceding-sibling::</span><span class="qname" start="20" select="quick">*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1917"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx1925" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1929" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1933" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1935"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:biblioset</span><span class="step" start="13">/</span><span class="qname" start="14" select="quick">db:title</span><span class="op" start="22">|</span><span class="qname" start="23" select="quick">db:biblioset</span><span class="step" start="35">/</span><span class="qname" start="36" select="quick">db:citetitle</span><span class="whitespace" start="48">
                       </span><span class="op" start="70">|</span><span class="qname" start="71" select="quick">db:bibliomset</span><span class="step" start="84">/</span><span class="qname" start="85" select="quick">db:title</span><span class="op" start="93">|</span><span class="qname" start="94" select="quick">db:bibliomset</span><span class="step" start="107">/</span><span class="qname" start="108" select="quick">db:citetitle</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1966"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?relation">relation</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">..</span><span class="step" start="3">/</span><span class="axis" start="4">@</span><span class="qname" start="5" select="quick">relation</span><span class="z">"</span><span id="wx1983" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1985"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/xlink.xsl.html#t?{http://docbook.org/xslt/ns/template}simple-xlink" class="solar"><span class="tcall">t:simple-xlink</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1995"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2005"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2009"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$relation</span><span class="op" start="10">=</span><span class="op">'</span><span class="literal" start="11">article</span><span class="op">'</span><span class="whitespace" start="20"> </span><span class="op" start="21">or</span><span class="whitespace" start="23"> </span><span class="axis" start="24">@</span><span class="qname" start="25" select="quick">pubwork</span><span class="op" start="32">=</span><span class="op">'</span><span class="literal" start="33">article</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2032"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/l10n.xsl.html#t?gentext-startquote" class="solar"><span class="tcall">gentext-startquote</span></a><span class="z">"</span><span id="wx2040" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w2042"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx2050" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w2052"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/l10n.xsl.html#t?gentext-endquote" class="solar"><span class="tcall">gentext-endquote</span></a><span class="z">"</span><span id="wx2060" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2064" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w2066"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2070"><span class="es">&lt;</span><span class="en">cite</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w2074"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx2082" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="cl">cite</span><span id="wx2086" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2090" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2094" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx2098" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx2102" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2104"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">. </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2110" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2114" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2116"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:citetitle</span><span class="op" start="13">|</span><span class="qname" start="14" select="quick">db:title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2134"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/xlink.xsl.html#t?{http://docbook.org/xslt/ns/template}simple-xlink" class="solar"><span class="tcall">t:simple-xlink</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2144"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2154"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="7" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">.</span><span class="parenthesis" start="7">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2169"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2173"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">pubwork</span><span class="whitespace" start="9"> </span><span class="op" start="10">=</span><span class="whitespace" start="11"> </span><span class="op">'</span><span class="literal" start="12">article</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w2190"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/l10n.xsl.html#t?gentext-startquote" class="solar"><span class="tcall">gentext-startquote</span></a><span class="z">"</span><span id="wx2198" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2200"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx2208" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2210"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/l10n.xsl.html#t?gentext-endquote" class="solar"><span class="tcall">gentext-endquote</span></a><span class="z">"</span><span id="wx2218" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2222" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w2224"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w2228"><span class="es">&lt;</span><span class="en">cite</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w2232"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx2240" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="cl">cite</span><span id="wx2244" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2248" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2252" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx2256" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx2260" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx2264" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2266"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">. </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2272" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2276" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2278"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2294"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="7" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">.</span><span class="parenthesis" start="7">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2309"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span id="wx2311" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx2315" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2317"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">. </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2323" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2327" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2329"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:address</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2345"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?addr">addr</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(h:div)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2361"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx2369" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx2373" class="ec">&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w2375"><span class="es">&lt;</span><span class="en">span</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2379"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx2393" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="z">&lt;!--</span><span class="cm"> Now $addr is a div containing lines with BRs </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ww" id="w2399"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$addr</span><span class="step" start="6">/</span><span class="node" start="7" pair-end="12" select="quick">node</span><span class="parenthesis">(</span><span class="parenthesis" start="12">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2413"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?node">node</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx2427" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w2429"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2433"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="step" start="6">/</span><span class="axis" start="7">self::</span><span class="qname" start="13" select="quick">h:br</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2446"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-position" class="solar"><span class="function" start="1" pair-end="10" select="quick">position</span></a><span class="parenthesis">(</span><span class="parenthesis" start="10">)</span><span class="whitespace" start="11"> </span><span class="qname" start="12" select="quick">&amp;</span><span class="op" start="13">lt</span><span class="qname" start="15" select="quick">;</span><span class="whitespace" start="16"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-last" class="solar"><span class="function" start="17" pair-end="22" select="quick">last</span></a><span class="parenthesis">(</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"> / </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2468" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2472" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w2474"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2478"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$node</span><span class="z">"</span><span id="wx2486" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2490" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2494" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx2498" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w2500"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="34" select="quick">not</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-ends-with" class="solar"><span class="function" start="5" pair-end="33" select="quick">ends-with</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="15" pair-end="27" select="quick">string</span></a><span class="parenthesis">(</span><span class="variable" start="22" select="quick">$addr</span><span class="parenthesis" start="27">)</span><span class="op" start="28">,</span><span class="whitespace" start="29"> </span><span class="op">'</span><span class="literal" start="30">.</span><span class="op">'</span><span class="parenthesis" start="33">)</span><span class="parenthesis" start="34">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2526" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx2530" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2532"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2538" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2542" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2544"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:collab</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2560"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?content">content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2570"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="filter" start="2" pair-end="28" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="3" pair-end="27" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="7">self::</span><span class="qname" start="13" select="quick">db:affiliation</span><span class="parenthesis" start="27">)</span><span class="filter" start="28">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2587"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-position" class="solar"><span class="function" start="1" pair-end="10" select="quick">position</span></a><span class="parenthesis">(</span><span class="parenthesis" start="10">)</span><span class="whitespace" start="11"> </span><span class="qname" start="12" select="quick">&amp;</span><span class="op" start="13">gt</span><span class="qname" start="15" select="quick">;</span><span class="whitespace" start="16"> </span><span class="numeric" start="17">1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">, </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2607" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w2609"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx2617" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx2621" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx2625" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2627"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$content</span><span class="z">"</span><span id="wx2635" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2637"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="37" select="quick">not</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-ends-with" class="solar"><span class="function" start="5" pair-end="36" select="quick">ends-with</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="15" pair-end="30" select="quick">string</span></a><span class="parenthesis">(</span><span class="variable" start="22" select="quick">$content</span><span class="parenthesis" start="30">)</span><span class="op" start="31">,</span><span class="whitespace" start="32"> </span><span class="op">'</span><span class="literal" start="33">.</span><span class="op">'</span><span class="parenthesis" start="36">)</span><span class="parenthesis" start="37">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2663" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2665"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2671" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2675" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2677"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:confgroup</span><span class="op" start="13">|</span><span class="qname" start="14" select="quick">db:publisher</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2695"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span id="wx2703" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2707" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2709"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:printhistory</span><span class="op" start="16">|</span><span class="qname" start="17" select="quick">db:revhistory</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="z">&lt;!--</span><span class="cm"> suppressed; how could this be represented? </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2733" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2735"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:titleabbrev</span><span class="op" start="15">|</span><span class="qname" start="16" select="quick">db:abstract</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:biblioentry</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="z">&lt;!--</span><span class="cm"> suppressed </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2759" class="ec">&gt;</span></span><span class="txt">
  
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:stylesheet</span><span id="wx2763" class="ec">&gt;</span></span><span class="txt">
</span></p></div></body></html>