<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>1-db4to5.xsl</title><link rel="stylesheet" type="text/css" href="../../../theme.css"></head><body><div><p class="spectrum"><span class="ww" id="w1"><span class="es">&lt;</span><a class="solar" href="../../../index.html"><span class="enxsl" id="e?{http://www.w3.org/1999/XSL/Transform}stylesheet">xsl:stylesheet</span></a><span class="z"> </span><span class="atn">xmlns:xsl</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/XSL/Transform</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:db</span><span class="z"> </span><span class="atneq">= </span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:tp</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/template/private</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:xlink</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xlink</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:f</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/extension</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:mp</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/mode/private</span><span class="z">"</span><span class="z">
                </span><span class="atn">exclude-result-prefixes</span><span class="atneq">=</span><span class="z">"</span><span class="av">db tp f mp</span><span class="z">"</span><span class="z">
                </span><span class="atn">version</span><span class="atneq">=</span><span class="z">"</span><span class="av">2.0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  
  </span><span class="z">&lt;!--</span><span class="cm"> This stylesheet attempts to convert DocBook V4.x into DocBook V5.x </span><span class="z">--&gt;</span><span class="txt">
  
  </span><span class="z">&lt;!--</span><span class="cm"> This may be the first in a series of transformations. Because
  only the first document in a series has (guaranteed) access to
  the original base URI and any declarations provided in an internal
  or external subset, this stylesheet also provides an xml:base
  attribute and replaces all entityref attributes with fileref. </span><span class="z">--&gt;</span><span class="txt">
  
  </span><span class="ww" id="w62"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?version">version</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">1.0</span><span class="op">'</span><span class="z">"</span><span id="wx78" class="sc">/&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w80"><span class="es">&lt;</span><span class="enxsl">xsl:output</span><span class="z"> </span><span class="atn">method</span><span class="atneq">=</span><span class="z">"</span><span class="av">xml</span><span class="z">"</span><span class="z"> </span><span class="atn">encoding</span><span class="atneq">=</span><span class="z">"</span><span class="av">utf-8</span><span class="z">"</span><span class="z"> </span><span class="atn">indent</span><span class="atneq">=</span><span class="z">"</span><span class="av">no</span><span class="z">"</span><span class="z"> </span><span class="atn">omit-xml-declaration</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx106" class="sc">/&gt;</span></span><span class="txt">
  
  </span><span class="z">&lt;!--</span><span class="cm"> Let the next phase deal with where space is insignificant </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="ww" id="w112"><span class="es">&lt;</span><span class="enxsl">xsl:preserve-space</span><span class="z"> </span><span class="atn">elements</span><span class="atneq">=</span><span class="z">"</span><span class="av">*</span><span class="z">"</span><span id="wx120" class="sc">/&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w122"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="step" start="1">/</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w132"><span class="es">&lt;</span><span class="enxsl">xsl:sequence</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#f?{http://docbook.org/xslt/ns/extension}convert-to-docbook5" class="solar"><span class="function" start="1" pair-end="24" select="quick">f:convert-to-docbook5</span></a><span class="parenthesis">(</span><span class="step" start="23">/</span><span class="parenthesis" start="24">)</span><span class="z">"</span><span id="wx143" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx147" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w149"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{http://docbook.org/xslt/ns/extension}convert-to-docbook5">f:convert-to-docbook5</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">document-node()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w165"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?root">root</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">document-node()</span><span class="z">"</span><span id="wx179" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w181"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?converted">converted</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">document-node()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w197"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$root</span><span class="z">"</span><span id="wx211" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx215" class="ec">&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w217"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$converted</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:addNS</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w233"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">base-uri</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-base-uri" class="solar"><span class="function" start="1" pair-end="15" select="quick">base-uri</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$root</span><span class="parenthesis" start="15">)</span><span class="z">"</span><span id="wx250" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx254" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx258" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w260"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="step" start="1">/</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w276"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w280"><span class="es">&lt;</span><span class="enxsl">xsl:comment</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w284"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> DocBook V4.x converted to DocBook V5.x by 0-db4to5.xsl version </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx290" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w292"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#v?version" class="solar"><span class="variable" start="1" select="quick">$version</span></a><span class="z">"</span><span id="wx300" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w302"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx308" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:comment</span><span id="wx312" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w314"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">&amp;#10;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx320" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w322"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx330" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx334" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx338" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w340"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">bookinfo</span><span class="op" start="9">|</span><span class="qname" start="10" select="quick">chapterinfo</span><span class="op" start="21">|</span><span class="qname" start="22" select="quick">articleinfo</span><span class="op" start="33">|</span><span class="qname" start="34" select="quick">artheader</span><span class="op" start="43">|</span><span class="qname" start="44" select="quick">appendixinfo</span><span class="whitespace" start="56">
                       </span><span class="op" start="64">|</span><span class="qname" start="65" select="quick">blockinfo</span><span class="whitespace" start="74">
                       </span><span class="op" start="96">|</span><span class="qname" start="97" select="quick">bibliographyinfo</span><span class="op" start="113">|</span><span class="qname" start="114" select="quick">glossaryinfo</span><span class="op" start="126">|</span><span class="qname" start="127" select="quick">indexinfo</span><span class="op" start="136">|</span><span class="qname" start="137" select="quick">setinfo</span><span class="whitespace" start="144">
                       </span><span class="op" start="152">|</span><span class="qname" start="153" select="quick">setindexinfo</span><span class="whitespace" start="165">
                       </span><span class="op" start="187">|</span><span class="qname" start="188" select="quick">sect1info</span><span class="op" start="197">|</span><span class="qname" start="198" select="quick">sect2info</span><span class="op" start="207">|</span><span class="qname" start="208" select="quick">sect3info</span><span class="op" start="217">|</span><span class="qname" start="218" select="quick">sect4info</span><span class="op" start="227">|</span><span class="qname" start="228" select="quick">sect5info</span><span class="whitespace" start="237">
                       </span><span class="op" start="259">|</span><span class="qname" start="260" select="quick">sectioninfo</span><span class="whitespace" start="271">
                       </span><span class="op" start="293">|</span><span class="qname" start="294" select="quick">refsect1info</span><span class="op" start="306">|</span><span class="qname" start="307" select="quick">refsect2info</span><span class="op" start="319">|</span><span class="qname" start="320" select="quick">refsect3info</span><span class="op" start="332">|</span><span class="qname" start="333" select="quick">refsectioninfo</span><span class="whitespace" start="347">
                       </span><span class="op" start="355">|</span><span class="qname" start="356" select="quick">referenceinfo</span><span class="op" start="369">|</span><span class="qname" start="370" select="quick">partinfo</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w413"><span class="es">&lt;</span><span class="en">info</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w417"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx425" class="sc">/&gt;</span></span><span class="txt">
      
      </span><span class="z">&lt;!--</span><span class="cm"> titles can be inside or outside or both. fix that </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ww" id="w431"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w435"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="whitespace" start="6"> </span><span class="op" start="7">and</span><span class="whitespace" start="10"> </span><span class="axis" start="11">following-sibling::</span><span class="qname" start="30" select="quick">title</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w450"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="whitespace" start="6"> </span><span class="op" start="7">!=</span><span class="whitespace" start="9"> </span><span class="axis" start="10">following-sibling::</span><span class="qname" start="29" select="quick">title</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w465"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w475"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w485"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Check </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx491" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w493"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="8" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">..</span><span class="parenthesis" start="8">)</span><span class="z">"</span><span id="wx504" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ww" id="w506"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> title.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx512" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx516" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx520" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx524" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w526"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx540" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx544" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w546"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w556"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx570" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx574" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w576"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">following-sibling::</span><span class="qname" start="20" select="quick">title</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w587"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">following-sibling::</span><span class="qname" start="20" select="quick">title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx602" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx606" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w608"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w612"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w622"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w632"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Check </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx638" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w640"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="8" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">..</span><span class="parenthesis" start="8">)</span><span class="z">"</span><span id="wx651" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w653"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">: no title.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx659" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx663" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx667" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx671" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx675" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w677"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w681"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="whitespace" start="12"> </span><span class="op" start="13">and</span><span class="whitespace" start="16"> </span><span class="axis" start="17">following-sibling::</span><span class="qname" start="36" select="quick">titleabbrev</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w696"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="whitespace" start="12"> </span><span class="op" start="13">!=</span><span class="whitespace" start="15"> </span><span class="axis" start="16">following-sibling::</span><span class="qname" start="35" select="quick">titleabbrev</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w711"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w721"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w731"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Check </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx737" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w739"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="8" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">..</span><span class="parenthesis" start="8">)</span><span class="z">"</span><span id="wx750" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ww" id="w752"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> titleabbrev.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx758" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx762" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx766" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx770" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w772"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx786" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx790" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w792"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w802"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx816" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx820" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w822"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">following-sibling::</span><span class="qname" start="20" select="quick">titleabbrev</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w833"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">following-sibling::</span><span class="qname" start="20" select="quick">titleabbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx848" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx852" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx856" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w858"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w862"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="whitespace" start="9"> </span><span class="op" start="10">and</span><span class="whitespace" start="13"> </span><span class="axis" start="14">following-sibling::</span><span class="qname" start="33" select="quick">subtitle</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w877"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="whitespace" start="9"> </span><span class="op" start="10">!=</span><span class="whitespace" start="12"> </span><span class="axis" start="13">following-sibling::</span><span class="qname" start="32" select="quick">subtitle</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w892"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w902"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w912"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Check </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx918" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w920"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="8" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">..</span><span class="parenthesis" start="8">)</span><span class="z">"</span><span id="wx931" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ww" id="w933"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> subtitle.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx939" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx943" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx947" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx951" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w953"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx967" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx971" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w973"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w983"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx997" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1001" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w1003"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">following-sibling::</span><span class="qname" start="20" select="quick">subtitle</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1014"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">following-sibling::</span><span class="qname" start="20" select="quick">subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx1029" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1033" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1037" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w1039"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx1047" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">info</span><span id="wx1051" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1055" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1057"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">objectinfo</span><span class="op" start="11">|</span><span class="qname" start="12" select="quick">prefaceinfo</span><span class="op" start="23">|</span><span class="qname" start="24" select="quick">refsynopsisdivinfo</span><span class="whitespace" start="42">
                       </span><span class="op" start="50">|</span><span class="qname" start="51" select="quick">screeninfo</span><span class="op" start="61">|</span><span class="qname" start="62" select="quick">sidebarinfo</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1088"><span class="es">&lt;</span><span class="en">info</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1092"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx1100" class="sc">/&gt;</span></span><span class="txt">
      
      </span><span class="z">&lt;!--</span><span class="cm"> titles can be inside or outside or both. fix that </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ww" id="w1106"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1110"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="whitespace" start="6"> </span><span class="op" start="7">and</span><span class="whitespace" start="10"> </span><span class="axis" start="11">following-sibling::</span><span class="qname" start="30" select="quick">title</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1125"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="whitespace" start="6"> </span><span class="op" start="7">!=</span><span class="whitespace" start="9"> </span><span class="axis" start="10">following-sibling::</span><span class="qname" start="29" select="quick">title</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1140"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w1150"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w1160"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Check </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1166" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w1168"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="8" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">..</span><span class="parenthesis" start="8">)</span><span class="z">"</span><span id="wx1179" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ww" id="w1181"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> title.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1187" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1191" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1195" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1199" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w1201"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx1215" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1219" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w1221"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1231"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx1245" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1249" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w1251"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">following-sibling::</span><span class="qname" start="20" select="quick">title</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1262"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">following-sibling::</span><span class="qname" start="20" select="quick">title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx1277" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1281" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w1283"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="z">&lt;!--</span><span class="cm"> it's ok if there's no title on these </span><span class="z">--&gt;</span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1293" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1297" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w1299"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1303"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="whitespace" start="12"> </span><span class="op" start="13">and</span><span class="whitespace" start="16"> </span><span class="axis" start="17">following-sibling::</span><span class="qname" start="36" select="quick">titleabbrev</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1318"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="whitespace" start="12"> </span><span class="op" start="13">!=</span><span class="whitespace" start="15"> </span><span class="axis" start="16">following-sibling::</span><span class="qname" start="35" select="quick">titleabbrev</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1333"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w1343"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w1353"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Check </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1359" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w1361"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="8" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">..</span><span class="parenthesis" start="8">)</span><span class="z">"</span><span id="wx1372" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ww" id="w1374"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> titleabbrev.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1380" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1384" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1388" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1392" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w1394"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx1408" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1412" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w1414"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1424"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx1438" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1442" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w1444"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">following-sibling::</span><span class="qname" start="20" select="quick">titleabbrev</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1455"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">following-sibling::</span><span class="qname" start="20" select="quick">titleabbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx1470" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1474" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1478" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w1480"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1484"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="whitespace" start="9"> </span><span class="op" start="10">and</span><span class="whitespace" start="13"> </span><span class="axis" start="14">following-sibling::</span><span class="qname" start="33" select="quick">subtitle</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1499"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="whitespace" start="9"> </span><span class="op" start="10">!=</span><span class="whitespace" start="12"> </span><span class="axis" start="13">following-sibling::</span><span class="qname" start="32" select="quick">subtitle</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1514"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w1524"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w1534"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Check </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1540" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w1542"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="8" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">..</span><span class="parenthesis" start="8">)</span><span class="z">"</span><span id="wx1553" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ww" id="w1555"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> subtitle.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1561" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1565" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1569" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1573" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w1575"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx1589" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1593" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w1595"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1605"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx1619" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1623" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w1625"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">following-sibling::</span><span class="qname" start="20" select="quick">subtitle</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1636"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">following-sibling::</span><span class="qname" start="20" select="quick">subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx1651" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1655" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1659" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w1661"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx1669" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">info</span><span id="wx1673" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1677" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1679"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">refentryinfo</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1701"><span class="es">&lt;</span><span class="en">info</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1705"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx1713" class="sc">/&gt;</span></span><span class="txt">
      
      </span><span class="z">&lt;!--</span><span class="cm"> titles can be inside or outside or both. fix that </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ww" id="w1719"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1729"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1739"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1749"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Discarding title from refentryinfo!</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1755" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1759" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1763" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1767" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w1769"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1779"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1789"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1799"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Discarding titleabbrev from refentryinfo!</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1805" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1809" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1813" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1817" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w1819"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1829"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1839"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1849"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Discarding subtitle from refentryinfo!</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1855" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx1859" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1863" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1867" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w1869"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx1877" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">info</span><span id="wx1881" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1885" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1887"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">refmiscinfo</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1909"><span class="es">&lt;</span><span class="en">refmiscinfo</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1913"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1923"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">suppress</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">class</span><span class="op">'</span><span class="z">"</span><span id="wx1939" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1943" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1945"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">class</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1956"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1960"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">class</span><span class="whitespace" start="7"> </span><span class="op" start="8">=</span><span class="whitespace" start="9"> </span><span class="op">'</span><span class="literal" start="10">source</span><span class="op">'</span><span class="whitespace" start="18">
                          </span><span class="op" start="29">or</span><span class="whitespace" start="31"> </span><span class="axis" start="32">@</span><span class="qname" start="33" select="quick">class</span><span class="whitespace" start="38"> </span><span class="op" start="39">=</span><span class="whitespace" start="40"> </span><span class="op">'</span><span class="literal" start="41">version</span><span class="op">'</span><span class="whitespace" start="50">
                          </span><span class="op" start="61">or</span><span class="whitespace" start="63"> </span><span class="axis" start="64">@</span><span class="qname" start="65" select="quick">class</span><span class="whitespace" start="70"> </span><span class="op" start="71">=</span><span class="whitespace" start="72"> </span><span class="op">'</span><span class="literal" start="73">manual</span><span class="op">'</span><span class="whitespace" start="81">
                          </span><span class="op" start="92">or</span><span class="whitespace" start="94"> </span><span class="axis" start="95">@</span><span class="qname" start="96" select="quick">class</span><span class="whitespace" start="101"> </span><span class="op" start="102">=</span><span class="whitespace" start="103"> </span><span class="op">'</span><span class="literal" start="104">sectdesc</span><span class="op">'</span><span class="whitespace" start="114">
                          </span><span class="op" start="125">or</span><span class="whitespace" start="127"> </span><span class="axis" start="128">@</span><span class="qname" start="129" select="quick">class</span><span class="whitespace" start="134"> </span><span class="op" start="135">=</span><span class="whitespace" start="136"> </span><span class="op">'</span><span class="literal" start="137">software</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2021"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">class</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w2031"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">class</span><span class="z">"</span><span id="wx2040" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx2044" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2048" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w2050"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2054"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">class</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w2064"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">other</span><span class="op">'</span><span class="z">"</span><span id="wx2074" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx2078" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w2080"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">otherclass</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w2090"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">class</span><span class="z">"</span><span id="wx2099" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx2103" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2107" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2111" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2115" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2117"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx2125" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">refmiscinfo</span><span id="wx2129" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2133" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2135"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">corpauthor</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2157"><span class="es">&lt;</span><span class="en">author</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2161"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx2169" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2171"><span class="es">&lt;</span><span class="en">orgname</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2175"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx2183" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">orgname</span><span id="wx2187" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">author</span><span id="wx2191" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2195" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2197"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">corpname</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2219"><span class="es">&lt;</span><span class="en">orgname</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2223"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx2231" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2233"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx2241" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">orgname</span><span id="wx2245" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2249" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2251"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">author</span><span class="filter" start="7" pair-end="23" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="8" pair-end="22" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="12" select="quick">personname</span><span class="parenthesis" start="22">)</span><span class="filter" start="23">]</span><span class="op" start="24">|</span><span class="qname" start="25" select="quick">editor</span><span class="filter" start="31" pair-end="47" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="32" pair-end="46" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="36" select="quick">personname</span><span class="parenthesis" start="46">)</span><span class="filter" start="47">]</span><span class="op" start="48">|</span><span class="qname" start="49" select="quick">othercredit</span><span class="filter" start="60" pair-end="76" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="61" pair-end="75" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="65" select="quick">personname</span><span class="parenthesis" start="75">)</span><span class="filter" start="76">]</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2295"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2299"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx2307" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2309"><span class="es">&lt;</span><span class="en">personname</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2313"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">honorific</span><span class="op" start="10">|</span><span class="qname" start="11" select="quick">firstname</span><span class="op" start="20">|</span><span class="qname" start="21" select="quick">surname</span><span class="op" start="28">|</span><span class="qname" start="29" select="quick">othername</span><span class="op" start="38">|</span><span class="qname" start="39" select="quick">lineage</span><span class="z">"</span><span class="z">
                             </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx2335" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">personname</span><span id="wx2339" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2341"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="filter" start="2" pair-end="119" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="3" pair-end="118" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="7">self::</span><span class="qname" start="13" select="quick">honorific</span><span class="op" start="22">|</span><span class="axis" start="23">self::</span><span class="qname" start="29" select="quick">firstname</span><span class="op" start="38">|</span><span class="axis" start="39">self::</span><span class="qname" start="45" select="quick">surname</span><span class="whitespace" start="52">
                                   </span><span class="op" start="88">|</span><span class="axis" start="89">self::</span><span class="qname" start="95" select="quick">othername</span><span class="op" start="104">|</span><span class="axis" start="105">self::</span><span class="qname" start="111" select="quick">lineage</span><span class="parenthesis" start="118">)</span><span class="filter" start="119">]</span><span class="z">"</span><span class="z">
                           </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx2375" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx2379" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2383" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2385"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">address</span><span class="op" start="8">|</span><span class="qname" start="9" select="quick">programlisting</span><span class="op" start="23">|</span><span class="qname" start="24" select="quick">screen</span><span class="op" start="30">|</span><span class="qname" start="31" select="quick">funcsynopsisinfo</span><span class="whitespace" start="47">
                       </span><span class="op" start="69">|</span><span class="qname" start="70" select="quick">classsynopsisinfo</span><span class="op" start="87">|</span><span class="qname" start="88" select="quick">literallayout</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2418"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2422"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2432"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">suppress</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">format</span><span class="op">'</span><span class="z">"</span><span id="wx2448" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx2452" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2454"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx2462" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx2466" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2470" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2472"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">productname</span><span class="filter" start="12" pair-end="19" select="quick">[</span><span class="axis" start="13">@</span><span class="qname" start="14" select="quick">class</span><span class="filter" start="19">]</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2498"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2508"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2518"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Dropping class attribute from productname</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2524" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx2528" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx2532" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2534"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2538"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2548"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">suppress</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">class</span><span class="op">'</span><span class="z">"</span><span id="wx2564" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx2568" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2570"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx2578" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx2582" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2586" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2588"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">dedication</span><span class="op" start="11">|</span><span class="qname" start="12" select="quick">preface</span><span class="op" start="19">|</span><span class="qname" start="20" select="quick">chapter</span><span class="op" start="27">|</span><span class="qname" start="28" select="quick">appendix</span><span class="op" start="36">|</span><span class="qname" start="37" select="quick">part</span><span class="op" start="41">|</span><span class="qname" start="42" select="quick">partintro</span><span class="whitespace" start="51">
                       </span><span class="op" start="73">|</span><span class="qname" start="74" select="quick">article</span><span class="op" start="81">|</span><span class="qname" start="82" select="quick">bibliography</span><span class="op" start="94">|</span><span class="qname" start="95" select="quick">glossary</span><span class="op" start="103">|</span><span class="qname" start="104" select="quick">glossdiv</span><span class="op" start="112">|</span><span class="qname" start="113" select="quick">index</span><span class="whitespace" start="118">
                       </span><span class="op" start="126">|</span><span class="qname" start="127" select="quick">reference</span><span class="filter" start="136" pair-end="155" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="137" pair-end="154" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="141" select="quick">referenceinfo</span><span class="parenthesis" start="154">)</span><span class="filter" start="155">]</span><span class="op" start="156">|</span><span class="qname" start="157" select="quick">book</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2642"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2646"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="201" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="5" select="quick">dedicationinfo</span><span class="op" start="19">|</span><span class="qname" start="20" select="quick">prefaceinfo</span><span class="op" start="31">|</span><span class="qname" start="32" select="quick">chapterinfo</span><span class="whitespace" start="43">
                      </span><span class="op" start="54">|</span><span class="qname" start="55" select="quick">appendixinfo</span><span class="op" start="67">|</span><span class="qname" start="68" select="quick">partinfo</span><span class="whitespace" start="76">
                      </span><span class="op" start="101">|</span><span class="qname" start="102" select="quick">articleinfo</span><span class="op" start="113">|</span><span class="qname" start="114" select="quick">artheader</span><span class="op" start="123">|</span><span class="qname" start="124" select="quick">bibliographyinfo</span><span class="whitespace" start="140">
                      </span><span class="op" start="144">|</span><span class="qname" start="145" select="quick">glossaryinfo</span><span class="op" start="157">|</span><span class="qname" start="158" select="quick">indexinfo</span><span class="whitespace" start="167">
                      </span><span class="op" start="192">|</span><span class="qname" start="193" select="quick">bookinfo</span><span class="parenthesis" start="201">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2683"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2687"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx2695" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w2697"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="op" start="6">|</span><span class="qname" start="7" select="quick">subtitle</span><span class="op" start="15">|</span><span class="qname" start="16" select="quick">titleabbrev</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2711"><span class="es">&lt;</span><span class="en">info</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w2715"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx2729" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2731"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx2745" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2747"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx2761" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w2763"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">abstract</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx2777" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="cl">info</span><span id="wx2781" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2785" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w2787"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx2795" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx2799" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2803" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2805"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2809"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2813"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx2821" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w2823"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx2831" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx2835" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2839" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2843" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2847" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w2849"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">formalpara</span><span class="op" start="11">|</span><span class="qname" start="12" select="quick">figure</span><span class="op" start="18">|</span><span class="qname" start="19" select="quick">table</span><span class="filter" start="24" pair-end="31" select="quick">[</span><span class="qname" start="25" select="quick">tgroup</span><span class="filter" start="31">]</span><span class="op" start="32">|</span><span class="qname" start="33" select="quick">example</span><span class="op" start="40">|</span><span class="qname" start="41" select="quick">blockquote</span><span class="whitespace" start="51">
                       </span><span class="op" start="73">|</span><span class="qname" start="74" select="quick">caution</span><span class="op" start="81">|</span><span class="qname" start="82" select="quick">important</span><span class="op" start="91">|</span><span class="qname" start="92" select="quick">note</span><span class="op" start="96">|</span><span class="qname" start="97" select="quick">warning</span><span class="op" start="104">|</span><span class="qname" start="105" select="quick">tip</span><span class="whitespace" start="108">
                       </span><span class="op" start="130">|</span><span class="qname" start="131" select="quick">bibliodiv</span><span class="op" start="140">|</span><span class="qname" start="141" select="quick">glossarydiv</span><span class="op" start="152">|</span><span class="qname" start="153" select="quick">indexdiv</span><span class="whitespace" start="161">
                       </span><span class="op" start="169">|</span><span class="qname" start="170" select="quick">orderedlist</span><span class="op" start="181">|</span><span class="qname" start="182" select="quick">itemizedlist</span><span class="op" start="194">|</span><span class="qname" start="195" select="quick">variablelist</span><span class="op" start="207">|</span><span class="qname" start="208" select="quick">procedure</span><span class="whitespace" start="217">
                       </span><span class="op" start="225">|</span><span class="qname" start="226" select="quick">task</span><span class="op" start="230">|</span><span class="qname" start="231" select="quick">tasksummary</span><span class="op" start="242">|</span><span class="qname" start="243" select="quick">taskprerequisites</span><span class="op" start="260">|</span><span class="qname" start="261" select="quick">taskrelated</span><span class="whitespace" start="272">
                       </span><span class="op" start="280">|</span><span class="qname" start="281" select="quick">sidebar</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2921"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2925"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">blockinfo</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2935"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2939"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx2947" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w2949"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx2957" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx2961" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2965" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2967"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2971"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2975"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx2983" class="sc">/&gt;</span></span><span class="txt">
          
          </span><span class="ww" id="w2985"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="op" start="6">|</span><span class="qname" start="7" select="quick">titleabbrev</span><span class="op" start="18">|</span><span class="qname" start="19" select="quick">subtitle</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w2999"><span class="es">&lt;</span><span class="en">info</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w3003"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3017" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w3019"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3033" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w3035"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3049" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="cl">info</span><span id="wx3053" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3057" class="ec">&gt;</span></span><span class="txt">
          
          </span><span class="ww" id="w3059"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx3067" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx3071" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx3075" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3079" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3083" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w3085"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">equation</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3107"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3111"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="10" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="5" select="quick">title</span><span class="parenthesis" start="10">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3124"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3134"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z">
              </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">Convert equation without title to informal equation.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx3146" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx3150" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w3152"><span class="es">&lt;</span><span class="en">informalequation</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3156"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx3164" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3166"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx3174" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">informalequation</span><span id="wx3178" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3182" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3184"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">blockinfo</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3194"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3198"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx3206" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3208"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx3216" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx3220" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3224" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3226"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3230"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3234"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx3242" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3244"><span class="es">&lt;</span><span class="en">info</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w3248"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3262" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w3264"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3278" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w3280"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3294" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">info</span><span id="wx3298" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3300"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx3308" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx3312" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx3316" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3320" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3324" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w3326"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">sect1</span><span class="op" start="6">|</span><span class="qname" start="7" select="quick">sect2</span><span class="op" start="12">|</span><span class="qname" start="13" select="quick">sect3</span><span class="op" start="18">|</span><span class="qname" start="19" select="quick">sect4</span><span class="op" start="24">|</span><span class="qname" start="25" select="quick">sect5</span><span class="op" start="30">|</span><span class="qname" start="31" select="quick">section</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3358"><span class="es">&lt;</span><span class="en">section</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3362"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx3370" class="sc">/&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w3372"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="66" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="5" select="quick">sect1info</span><span class="op" start="14">|</span><span class="qname" start="15" select="quick">sect2info</span><span class="op" start="24">|</span><span class="qname" start="25" select="quick">sect3info</span><span class="op" start="34">|</span><span class="qname" start="35" select="quick">sect4info</span><span class="op" start="44">|</span><span class="qname" start="45" select="quick">sect5info</span><span class="op" start="54">|</span><span class="qname" start="55" select="quick">sectioninfo</span><span class="parenthesis" start="66">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3395"><span class="es">&lt;</span><span class="en">info</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3399"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3413" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3415"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3429" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3431"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3445" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3447"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">abstract</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3461" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">info</span><span id="wx3465" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3469" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3471"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx3479" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">section</span><span id="wx3483" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3487" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w3489"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">simplesect</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3511"><span class="es">&lt;</span><span class="en">simplesect</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3515"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx3523" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3525"><span class="es">&lt;</span><span class="en">info</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3529"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3543" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w3545"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3559" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w3561"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3575" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w3577"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">abstract</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3591" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">info</span><span id="wx3595" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3597"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx3605" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">simplesect</span><span id="wx3609" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3613" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w3615"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">refsect1</span><span class="op" start="9">|</span><span class="qname" start="10" select="quick">refsect2</span><span class="op" start="18">|</span><span class="qname" start="19" select="quick">refsect3</span><span class="op" start="27">|</span><span class="qname" start="28" select="quick">refsection</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3643"><span class="es">&lt;</span><span class="en">refsection</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3647"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx3655" class="sc">/&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w3657"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="58" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="5" select="quick">refsect1info</span><span class="op" start="17">|</span><span class="qname" start="18" select="quick">refsect2info</span><span class="op" start="30">|</span><span class="qname" start="31" select="quick">refsect3info</span><span class="op" start="43">|</span><span class="qname" start="44" select="quick">refsectioninfo</span><span class="parenthesis" start="58">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3676"><span class="es">&lt;</span><span class="en">info</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3680"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3694" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3696"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">titleabbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3710" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3712"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3726" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3728"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">abstract</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx3742" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">info</span><span id="wx3746" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3750" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3752"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx3760" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">refsection</span><span id="wx3764" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3768" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w3770"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">imagedata</span><span class="op" start="10">|</span><span class="qname" start="11" select="quick">videodata</span><span class="op" start="20">|</span><span class="qname" start="21" select="quick">audiodata</span><span class="op" start="30">|</span><span class="qname" start="31" select="quick">textdata</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3798"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3802"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3812"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">suppress</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">srccredit</span><span class="op">'</span><span class="z">"</span><span id="wx3828" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx3832" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3834"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">srccredit</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3845"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3855"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w3865"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Check conversion of srccredit </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx3871" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w3873"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">(othercredit="srccredit").</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx3879" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx3883" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx3887" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w3889"><span class="es">&lt;</span><span class="en">info</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3893"><span class="es">&lt;</span><span class="en">othercredit</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">other</span><span class="z">"</span><span class="z"> </span><span class="atn">otherclass</span><span class="atneq">=</span><span class="z">"</span><span class="av">srccredit</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w3909"><span class="es">&lt;</span><span class="en">orgname</span><span class="scx">&gt;</span><span class="txt">???</span><span class="ez">&lt;/</span><span class="cl">orgname</span><span id="wx3915" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w3917"><span class="es">&lt;</span><span class="en">contrib</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w3921"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">srccredit</span><span class="z">"</span><span id="wx3930" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="cl">contrib</span><span id="wx3934" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">othercredit</span><span id="wx3938" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">info</span><span id="wx3942" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3946" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx3950" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3954" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w3956"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">sgmltag</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3978"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3982"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx3990" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3992"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">class</span><span class="whitespace" start="7"> </span><span class="op" start="8">=</span><span class="whitespace" start="9"> </span><span class="op">'</span><span class="literal" start="10">sgmlcomment</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w4009"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">class</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">comment</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx4021" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx4025" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4027"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx4035" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx4039" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4043" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w4045"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">inlinegraphic</span><span class="filter" start="14" pair-end="37" select="quick">[</span><span class="axis" start="15">@</span><span class="qname" start="16" select="quick">format</span><span class="op" start="22">=</span><span class="op">'</span><span class="literal" start="23">linespecific</span><span class="op">'</span><span class="filter" start="37">]</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">210</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4075"><span class="es">&lt;</span><span class="en">textobject</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4079"><span class="es">&lt;</span><span class="en">textdata</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w4083"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx4091" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">textdata</span><span id="wx4095" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">textobject</span><span id="wx4099" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4103" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w4105"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">inlinegraphic</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4127"><span class="es">&lt;</span><span class="en">inlinemediaobject</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4131"><span class="es">&lt;</span><span class="en">imageobject</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w4135"><span class="es">&lt;</span><span class="en">imagedata</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w4139"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx4147" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">imagedata</span><span id="wx4151" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">imageobject</span><span id="wx4155" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">inlinemediaobject</span><span id="wx4159" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4163" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w4165"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">graphic</span><span class="filter" start="8" pair-end="31" select="quick">[</span><span class="axis" start="9">@</span><span class="qname" start="10" select="quick">format</span><span class="op" start="16">=</span><span class="op">'</span><span class="literal" start="17">linespecific</span><span class="op">'</span><span class="filter" start="31">]</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">210</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4195"><span class="es">&lt;</span><span class="en">mediaobject</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4199"><span class="es">&lt;</span><span class="en">textobject</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w4203"><span class="es">&lt;</span><span class="en">textdata</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w4207"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx4215" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">textdata</span><span id="wx4219" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">textobject</span><span id="wx4223" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">mediaobject</span><span id="wx4227" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4231" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w4233"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">graphic</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4255"><span class="es">&lt;</span><span class="en">mediaobject</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4259"><span class="es">&lt;</span><span class="en">imageobject</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w4263"><span class="es">&lt;</span><span class="en">imagedata</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w4267"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx4275" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">imagedata</span><span id="wx4279" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">imageobject</span><span id="wx4283" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">mediaobject</span><span id="wx4287" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4291" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w4293"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">pubsnumber</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4315"><span class="es">&lt;</span><span class="en">biblioid</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">pubsnumber</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4325"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx4333" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4335"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx4343" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">biblioid</span><span id="wx4347" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4351" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w4353"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">invpartnumber</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4375"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4385"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w4395"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Converting invpartnumber to biblioid otherclass="invpartnumber".</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4401" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx4405" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx4409" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4411"><span class="es">&lt;</span><span class="en">biblioid</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">other</span><span class="z">"</span><span class="z"> </span><span class="atn">otherclass</span><span class="atneq">=</span><span class="z">"</span><span class="av">invpartnumber</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4427"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx4435" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4437"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx4445" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">biblioid</span><span id="wx4449" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4453" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w4455"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">contractsponsor</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4477"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?contractnum">contractnum</span><span class="z">"</span><span class="z">
                  </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">preceding-sibling::</span><span class="qname" start="20" select="quick">contractnum</span><span class="op" start="31">|</span><span class="axis" start="32">following-sibling::</span><span class="qname" start="51" select="quick">contractnum</span><span class="z">"</span><span id="wx4495" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w4497"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4507"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w4517"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Converting contractsponsor to othercredit="contractsponsor".</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4523" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx4527" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx4531" class="ec">&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w4533"><span class="es">&lt;</span><span class="en">othercredit</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">other</span><span class="z">"</span><span class="z"> </span><span class="atn">otherclass</span><span class="atneq">=</span><span class="z">"</span><span class="av">contractsponsor</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4549"><span class="es">&lt;</span><span class="en">orgname</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w4553"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx4561" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w4563"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx4571" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">orgname</span><span id="wx4575" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4577"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$contractnum</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w4587"><span class="es">&lt;</span><span class="en">contrib</span><span class="z"> </span><span class="atn">role</span><span class="atneq">=</span><span class="z">"</span><span class="av">contractnum</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w4597"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="node" start="1" pair-end="6" select="quick">node</span><span class="parenthesis">(</span><span class="parenthesis" start="6">)</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx4613" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">contrib</span><span id="wx4617" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx4621" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">othercredit</span><span id="wx4625" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4629" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w4631"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">contractnum</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4653"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="95" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="5">preceding-sibling::</span><span class="qname" start="24" select="quick">contractsponsor</span><span class="whitespace" start="39">
                  </span><span class="op" start="60">|</span><span class="axis" start="61">following-sibling::</span><span class="qname" start="80" select="quick">contractsponsor</span><span class="parenthesis" start="95">)</span><span class="whitespace" start="96">
                  </span><span class="op" start="113">and</span><span class="whitespace" start="116"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="117" pair-end="151" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="121">preceding-sibling::</span><span class="qname" start="140" select="quick">contractnum</span><span class="parenthesis" start="151">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4679"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w4689"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w4699"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Converting contractnum to othercredit="contractnum".</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4705" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx4709" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx4713" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w4715"><span class="es">&lt;</span><span class="en">othercredit</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">other</span><span class="z">"</span><span class="z"> </span><span class="atn">otherclass</span><span class="atneq">=</span><span class="z">"</span><span class="av">contractnum</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w4731"><span class="es">&lt;</span><span class="en">orgname</span><span class="scx">&gt;</span><span class="txt">???</span><span class="ez">&lt;/</span><span class="cl">orgname</span><span id="wx4737" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w4739"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">self::</span><span class="qname" start="7" select="quick">contractnum</span><span class="whitespace" start="18">
                              </span><span class="op" start="47">|</span><span class="axis" start="48">preceding-sibling::</span><span class="qname" start="67" select="quick">contractnum</span><span class="whitespace" start="78">
                              </span><span class="op" start="107">|</span><span class="axis" start="108">following-sibling::</span><span class="qname" start="127" select="quick">contractnum</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w4758"><span class="es">&lt;</span><span class="en">contrib</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w4762"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="node" start="1" pair-end="6" select="quick">node</span><span class="parenthesis">(</span><span class="parenthesis" start="6">)</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx4778" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">contrib</span><span id="wx4782" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx4786" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">othercredit</span><span id="wx4790" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx4794" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4798" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w4800"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">isbn</span><span class="op" start="5">|</span><span class="qname" start="6" select="quick">issn</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4824"><span class="es">&lt;</span><span class="en">biblioid</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4839"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx4847" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4849"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx4857" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">biblioid</span><span id="wx4861" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4865" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w4867"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">biblioid</span><span class="filter" start="9" pair-end="90" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-count" class="solar"><span class="function" start="10" pair-end="17" select="quick">count</span></a><span class="parenthesis">(</span><span class="qname" start="16" select="quick">*</span><span class="parenthesis" start="17">)</span><span class="whitespace" start="18"> </span><span class="op" start="19">=</span><span class="whitespace" start="20"> </span><span class="numeric" start="21">1</span><span class="whitespace" start="22">
                       </span><span class="op" start="39">and</span><span class="whitespace" start="42"> </span><span class="qname" start="43" select="quick">ulink</span><span class="whitespace" start="48">
                       </span><span class="op" start="58">and</span><span class="whitespace" start="61"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-normalize-space" class="solar"><span class="function" start="62" pair-end="84" select="quick">normalize-space</span></a><span class="parenthesis">(</span><span class="node" start="78" pair-end="83" select="quick">text</span><span class="parenthesis">(</span><span class="parenthesis" start="83">)</span><span class="parenthesis" start="84">)</span><span class="whitespace" start="85"> </span><span class="op" start="86">=</span><span class="whitespace" start="87"> </span><span class="op">'</span><span class="literal" start="88"></span><span class="op">'</span><span class="filter" start="90">]</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4918"><span class="es">&lt;</span><span class="en">biblioid</span><span class="z"> </span><span class="atn">xlink:href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="qname" start="1" select="quick">ulink</span><span class="step" start="6">/</span><span class="axis" start="7">@</span><span class="qname" start="8" select="quick">url</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4933"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx4941" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4943"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">ulink</span><span class="step" start="6">/</span><span class="node" start="7" pair-end="12" select="quick">node</span><span class="parenthesis">(</span><span class="parenthesis" start="12">)</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx4961" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">biblioid</span><span id="wx4965" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4969" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w4971"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">authorblurb</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4993"><span class="es">&lt;</span><span class="en">personblurb</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4997"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx5005" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w5007"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx5015" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">personblurb</span><span id="wx5019" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5023" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w5025"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">collabname</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w5047"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5057"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w5067"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Check conversion of collabname </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5073" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5075"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">(orgname role="collabname").</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5081" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx5085" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx5089" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w5091"><span class="es">&lt;</span><span class="en">orgname</span><span class="z"> </span><span class="atn">role</span><span class="atneq">=</span><span class="z">"</span><span class="av">collabname</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5101"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx5109" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w5111"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx5119" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">orgname</span><span id="wx5123" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5127" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w5129"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">modespec</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w5151"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5161"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w5171"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Discarding modespec (</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5177" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5179"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx5187" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5189"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">).</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5195" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx5199" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx5203" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5207" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w5209"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">mediaobjectco</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w5231"><span class="es">&lt;</span><span class="en">mediaobject</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5235"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx5244" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w5246"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx5254" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">mediaobject</span><span id="wx5258" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5262" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w5264"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">remark</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="z">&lt;!--</span><span class="cm"> get rid of any embedded markup </span><span class="z">--&gt;</span><span class="txt">
    </span><span class="ww" id="w5290"><span class="es">&lt;</span><span class="en">remark</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5294"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx5303" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w5305"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx5313" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">remark</span><span id="wx5317" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5321" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w5323"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">biblioentry</span><span class="step" start="12">/</span><span class="qname" start="13" select="quick">title</span><span class="whitespace" start="18">
                       </span><span class="op" start="40">|</span><span class="qname" start="41" select="quick">bibliomset</span><span class="step" start="51">/</span><span class="qname" start="52" select="quick">title</span><span class="whitespace" start="57">
                       </span><span class="op" start="79">|</span><span class="qname" start="80" select="quick">biblioset</span><span class="step" start="89">/</span><span class="qname" start="90" select="quick">title</span><span class="whitespace" start="95">
                       </span><span class="op" start="117">|</span><span class="qname" start="118" select="quick">bibliomixed</span><span class="step" start="129">/</span><span class="qname" start="130" select="quick">title</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">400</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w5362"><span class="es">&lt;</span><span class="en">citetitle</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5366"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx5375" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w5377"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx5385" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">citetitle</span><span id="wx5389" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5393" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w5395"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">biblioentry</span><span class="step" start="12">/</span><span class="qname" start="13" select="quick">titleabbrev</span><span class="op" start="24">|</span><span class="qname" start="25" select="quick">biblioentry</span><span class="step" start="36">/</span><span class="qname" start="37" select="quick">subtitle</span><span class="whitespace" start="45">
                       </span><span class="op" start="67">|</span><span class="qname" start="68" select="quick">bibliomset</span><span class="step" start="78">/</span><span class="qname" start="79" select="quick">titleabbrev</span><span class="op" start="90">|</span><span class="qname" start="91" select="quick">bibliomset</span><span class="step" start="101">/</span><span class="qname" start="102" select="quick">subtitle</span><span class="whitespace" start="110">
                       </span><span class="op" start="132">|</span><span class="qname" start="133" select="quick">biblioset</span><span class="step" start="142">/</span><span class="qname" start="143" select="quick">titleabbrev</span><span class="op" start="154">|</span><span class="qname" start="155" select="quick">biblioset</span><span class="step" start="164">/</span><span class="qname" start="165" select="quick">subtitle</span><span class="whitespace" start="173">
                       </span><span class="op" start="195">|</span><span class="qname" start="196" select="quick">bibliomixed</span><span class="step" start="207">/</span><span class="qname" start="208" select="quick">titleabbrev</span><span class="op" start="219">|</span><span class="qname" start="220" select="quick">bibliomixed</span><span class="step" start="231">/</span><span class="qname" start="232" select="quick">subtitle</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">400</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w5450"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5454"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx5463" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w5465"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx5473" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx5477" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5481" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w5483"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">biblioentry</span><span class="step" start="12">/</span><span class="qname" start="13" select="quick">contrib</span><span class="whitespace" start="20">
                       </span><span class="op" start="42">|</span><span class="qname" start="43" select="quick">bibliomset</span><span class="step" start="53">/</span><span class="qname" start="54" select="quick">contrib</span><span class="whitespace" start="61">
                       </span><span class="op" start="83">|</span><span class="qname" start="84" select="quick">bibliomixed</span><span class="step" start="95">/</span><span class="qname" start="96" select="quick">contrib</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w5517"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5527"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w5537"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Check conversion of contrib </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5543" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5545"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">(othercontrib="contrib").</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5551" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx5555" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx5559" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w5561"><span class="es">&lt;</span><span class="en">othercredit</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">other</span><span class="z">"</span><span class="z"> </span><span class="atn">otherclass</span><span class="atneq">=</span><span class="z">"</span><span class="av">contrib</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5577"><span class="es">&lt;</span><span class="en">orgname</span><span class="scx">&gt;</span><span class="txt">???</span><span class="ez">&lt;/</span><span class="cl">orgname</span><span id="wx5583" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w5585"><span class="es">&lt;</span><span class="en">contrib</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w5589"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx5597" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5599"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx5607" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">contrib</span><span id="wx5611" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">othercredit</span><span id="wx5615" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5619" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w5621"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">link</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w5643"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5647"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx5655" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w5657"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx5665" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx5669" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5673" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w5675"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">ulink</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w5697"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5701"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="node" start="1" pair-end="6" select="quick">node</span><span class="parenthesis">(</span><span class="parenthesis" start="6">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w5713"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w5723"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w5733"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Converting ulink to link.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5739" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx5743" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx5747" class="ec">&gt;</span></span><span class="txt">
        
        </span><span class="ww" id="w5749"><span class="es">&lt;</span><span class="en">link</span><span class="z"> </span><span class="atn">xlink:href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">url</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w5762"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w5772"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">suppress</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">url</span><span class="op">'</span><span class="z">"</span><span id="wx5788" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx5792" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w5794"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx5802" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">link</span><span id="wx5806" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx5810" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w5812"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w5816"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w5826"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w5836"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Converting ulink to uri.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5842" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx5846" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx5850" class="ec">&gt;</span></span><span class="txt">
        
        </span><span class="ww" id="w5852"><span class="es">&lt;</span><span class="en">uri</span><span class="z"> </span><span class="atn">xlink:href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">url</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w5865"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w5875"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">suppress</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">url</span><span class="op">'</span><span class="z">"</span><span id="wx5891" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx5895" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w5897"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">url</span><span class="z">"</span><span id="wx5906" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">uri</span><span id="wx5910" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx5914" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx5918" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5922" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w5924"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">olink</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w5946"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">linkmode</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5957"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w5967"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w5977"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Discarding linkmode on olink.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5983" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx5987" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx5991" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx5995" class="ec">&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w5997"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6001"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">targetdocent</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w6012"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w6022"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w6032"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Converting olink targetdocent to targetdoc.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6038" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx6042" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx6046" class="ec">&gt;</span></span><span class="txt">
        
        </span><span class="ww" id="w6048"><span class="es">&lt;</span><span class="en">olink</span><span class="z"> </span><span class="atn">targetdoc</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-unparsed-entity-uri" class="solar"><span class="function" start="1" pair-end="34" select="quick">unparsed-entity-uri</span></a><span class="parenthesis">(</span><span class="axis" start="21">@</span><span class="qname" start="22" select="quick">targetdocent</span><span class="parenthesis" start="34">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w6064"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w6075"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="7" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">.</span><span class="parenthesis" start="7">)</span><span class="whitespace" start="8"> </span><span class="op" start="9">!=</span><span class="whitespace" start="11"> </span><span class="op">'</span><span class="literal" start="12">targetdocent</span><span class="op">'</span><span class="whitespace" start="26">
                          </span><span class="op" start="44">and</span><span class="whitespace" start="47"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="48" pair-end="54" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="53">.</span><span class="parenthesis" start="54">)</span><span class="whitespace" start="55"> </span><span class="op" start="56">!=</span><span class="whitespace" start="58"> </span><span class="op">'</span><span class="literal" start="59">linkmode</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w6107"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span id="wx6109" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx6113" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx6117" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w6119"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx6127" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">olink</span><span id="wx6131" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6135" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6137"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w6141"><span class="es">&lt;</span><span class="en">olink</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w6145"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w6156"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="7" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">.</span><span class="parenthesis" start="7">)</span><span class="whitespace" start="8"> </span><span class="op" start="9">!=</span><span class="whitespace" start="11"> </span><span class="op">'</span><span class="literal" start="12">linkmode</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w6175"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span id="wx6177" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx6181" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx6185" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w6187"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx6195" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">olink</span><span id="wx6199" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx6203" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6207" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx6211" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w6213"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">biblioentry</span><span class="step" start="12">/</span><span class="qname" start="13" select="quick">firstname</span><span class="whitespace" start="22">
                       </span><span class="op" start="44">|</span><span class="qname" start="45" select="quick">biblioentry</span><span class="step" start="56">/</span><span class="qname" start="57" select="quick">surname</span><span class="whitespace" start="64">
                       </span><span class="op" start="86">|</span><span class="qname" start="87" select="quick">biblioentry</span><span class="step" start="98">/</span><span class="qname" start="99" select="quick">othername</span><span class="whitespace" start="108">
                       </span><span class="op" start="130">|</span><span class="qname" start="131" select="quick">biblioentry</span><span class="step" start="142">/</span><span class="qname" start="143" select="quick">lineage</span><span class="whitespace" start="150">
                       </span><span class="op" start="172">|</span><span class="qname" start="173" select="quick">biblioentry</span><span class="step" start="184">/</span><span class="qname" start="185" select="quick">honorific</span><span class="whitespace" start="194">
                       </span><span class="op" start="216">|</span><span class="qname" start="217" select="quick">bibliomset</span><span class="step" start="227">/</span><span class="qname" start="228" select="quick">firstname</span><span class="whitespace" start="237">
                       </span><span class="op" start="259">|</span><span class="qname" start="260" select="quick">bibliomset</span><span class="step" start="270">/</span><span class="qname" start="271" select="quick">surname</span><span class="whitespace" start="278">
                       </span><span class="op" start="300">|</span><span class="qname" start="301" select="quick">bibliomset</span><span class="step" start="311">/</span><span class="qname" start="312" select="quick">othername</span><span class="whitespace" start="321">
                       </span><span class="op" start="343">|</span><span class="qname" start="344" select="quick">bibliomset</span><span class="step" start="354">/</span><span class="qname" start="355" select="quick">lineage</span><span class="whitespace" start="362">
                       </span><span class="op" start="384">|</span><span class="qname" start="385" select="quick">bibliomset</span><span class="step" start="395">/</span><span class="qname" start="396" select="quick">honorific</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w6282"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6286"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">preceding-sibling::</span><span class="qname" start="20" select="quick">firstname</span><span class="whitespace" start="29">
                      </span><span class="op" start="50">|</span><span class="axis" start="51">preceding-sibling::</span><span class="qname" start="70" select="quick">surname</span><span class="whitespace" start="77">
                      </span><span class="op" start="98">|</span><span class="axis" start="99">preceding-sibling::</span><span class="qname" start="118" select="quick">othername</span><span class="whitespace" start="127">
                      </span><span class="op" start="148">|</span><span class="axis" start="149">preceding-sibling::</span><span class="qname" start="168" select="quick">lineage</span><span class="whitespace" start="175">
                      </span><span class="op" start="196">|</span><span class="axis" start="197">preceding-sibling::</span><span class="qname" start="216" select="quick">honorific</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="z">&lt;!--</span><span class="cm"> nop </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6319" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6321"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w6325"><span class="es">&lt;</span><span class="en">personname</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w6329"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">..</span><span class="step" start="3">/</span><span class="qname" start="4" select="quick">firstname</span><span class="whitespace" start="13">
                                       </span><span class="op" start="51">|</span><span class="context" start="52">..</span><span class="step" start="54">/</span><span class="qname" start="55" select="quick">surname</span><span class="whitespace" start="62">
                                       </span><span class="op" start="100">|</span><span class="context" start="101">..</span><span class="step" start="103">/</span><span class="qname" start="104" select="quick">othername</span><span class="whitespace" start="113">
                                       </span><span class="op" start="151">|</span><span class="context" start="152">..</span><span class="step" start="154">/</span><span class="qname" start="155" select="quick">lineage</span><span class="whitespace" start="162">
                                       </span><span class="op" start="200">|</span><span class="context" start="201">..</span><span class="step" start="203">/</span><span class="qname" start="204" select="quick">honorific</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span id="wx6365" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">personname</span><span id="wx6369" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx6373" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6377" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx6381" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w6383"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">areaset</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w6405"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6409"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w6419"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">suppress</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">coords</span><span class="op">'</span><span class="z">"</span><span id="wx6435" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx6439" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6441"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx6449" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx6453" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx6457" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w6459"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">date</span><span class="op" start="5">|</span><span class="qname" start="6" select="quick">pubdate</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w6483"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?rp1">rp1</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-before" class="solar"><span class="function" start="1" pair-end="41" select="quick">substring-before</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-normalize-space" class="solar"><span class="function" start="18" pair-end="35" select="quick">normalize-space</span></a><span class="parenthesis">(</span><span class="context" start="34">.</span><span class="parenthesis" start="35">)</span><span class="op" start="36">,</span><span class="whitespace" start="37"> </span><span class="op">'</span><span class="literal" start="38"> </span><span class="op">'</span><span class="parenthesis" start="41">)</span><span class="z">"</span><span id="wx6508" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w6510"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?rp2">rp2</span><span class="z">"</span><span class="z">
                  </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-before" class="solar"><span class="function" start="1" pair-end="90" select="quick">substring-before</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-after" class="solar"><span class="function" start="18" pair-end="57" select="quick">substring-after</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-normalize-space" class="solar"><span class="function" start="34" pair-end="51" select="quick">normalize-space</span></a><span class="parenthesis">(</span><span class="context" start="50">.</span><span class="parenthesis" start="51">)</span><span class="op" start="52">,</span><span class="whitespace" start="53"> </span><span class="op">'</span><span class="literal" start="54"> </span><span class="op">'</span><span class="parenthesis" start="57">)</span><span class="op" start="58">,</span><span class="whitespace" start="59">
                          </span><span class="op">'</span><span class="literal" start="87"> </span><span class="op">'</span><span class="parenthesis" start="90">)</span><span class="z">"</span><span id="wx6543" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w6545"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?rp3">rp3</span><span class="z">"</span><span class="z">
                  </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-after" class="solar"><span class="function" start="1" pair-end="62" select="quick">substring-after</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-after" class="solar"><span class="function" start="17" pair-end="56" select="quick">substring-after</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-normalize-space" class="solar"><span class="function" start="33" pair-end="50" select="quick">normalize-space</span></a><span class="parenthesis">(</span><span class="context" start="49">.</span><span class="parenthesis" start="50">)</span><span class="op" start="51">,</span><span class="whitespace" start="52"> </span><span class="op">'</span><span class="literal" start="53"> </span><span class="op">'</span><span class="parenthesis" start="56">)</span><span class="op" start="57">,</span><span class="whitespace" start="58"> </span><span class="op">'</span><span class="literal" start="59"> </span><span class="op">'</span><span class="parenthesis" start="62">)</span><span class="z">"</span><span id="wx6578" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w6580"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?p1">p1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6590"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w6594"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="19" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$rp1</span><span class="op" start="14">,</span><span class="whitespace" start="15"> </span><span class="op">'</span><span class="literal" start="16">,</span><span class="op">'</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w6612"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-before" class="solar"><span class="function" start="1" pair-end="27" select="quick">substring-before</span></a><span class="parenthesis">(</span><span class="variable" start="18" select="quick">$rp1</span><span class="op" start="22">,</span><span class="whitespace" start="23"> </span><span class="op">'</span><span class="literal" start="24">,</span><span class="op">'</span><span class="parenthesis" start="27">)</span><span class="z">"</span><span id="wx6628" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6632" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w6634"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w6638"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$rp1</span><span class="z">"</span><span id="wx6646" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx6650" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6654" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx6658" class="ec">&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w6660"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?p2">p2</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6670"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w6674"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="19" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$rp2</span><span class="op" start="14">,</span><span class="whitespace" start="15"> </span><span class="op">'</span><span class="literal" start="16">,</span><span class="op">'</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w6692"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-before" class="solar"><span class="function" start="1" pair-end="27" select="quick">substring-before</span></a><span class="parenthesis">(</span><span class="variable" start="18" select="quick">$rp2</span><span class="op" start="22">,</span><span class="whitespace" start="23"> </span><span class="op">'</span><span class="literal" start="24">,</span><span class="op">'</span><span class="parenthesis" start="27">)</span><span class="z">"</span><span id="wx6708" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6712" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w6714"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w6718"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$rp2</span><span class="z">"</span><span id="wx6726" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx6730" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6734" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx6738" class="ec">&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w6740"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?p3">p3</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6750"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w6754"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="19" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$rp3</span><span class="op" start="14">,</span><span class="whitespace" start="15"> </span><span class="op">'</span><span class="literal" start="16">,</span><span class="op">'</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w6772"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-before" class="solar"><span class="function" start="1" pair-end="27" select="quick">substring-before</span></a><span class="parenthesis">(</span><span class="variable" start="18" select="quick">$rp3</span><span class="op" start="22">,</span><span class="whitespace" start="23"> </span><span class="op">'</span><span class="literal" start="24">,</span><span class="op">'</span><span class="parenthesis" start="27">)</span><span class="z">"</span><span id="wx6788" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6792" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w6794"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w6798"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$rp3</span><span class="z">"</span><span id="wx6806" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx6810" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6814" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx6818" class="ec">&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w6820"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?date">date</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6830"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w6834"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="1" pair-end="13" select="quick">string</span></a><span class="parenthesis">(</span><span class="variable" start="8" select="quick">$p1</span><span class="op" start="11">+</span><span class="numeric" start="12">1</span><span class="parenthesis" start="13">)</span><span class="whitespace" start="14"> </span><span class="op" start="15">!=</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">NaN</span><span class="op">'</span><span class="whitespace" start="23"> </span><span class="op" start="24">and</span><span class="whitespace" start="27"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="28" pair-end="40" select="quick">string</span></a><span class="parenthesis">(</span><span class="variable" start="35" select="quick">$p3</span><span class="op" start="38">+</span><span class="numeric" start="39">1</span><span class="parenthesis" start="40">)</span><span class="whitespace" start="41"> </span><span class="op" start="42">!=</span><span class="whitespace" start="44"> </span><span class="op">'</span><span class="literal" start="45">NaN</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w6870"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w6874"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p2</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Jan</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p2</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">January</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w6900"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx6914" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w6916"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-01-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6922" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w6924"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p1</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx6938" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6942" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w6944"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p2</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Feb</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p2</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">February</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w6970"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx6984" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w6986"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-02-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6992" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w6994"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p1</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx7008" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7012" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w7014"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p2</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Mar</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p2</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">March</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w7040"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx7054" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7056"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-03-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7062" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7064"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p1</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx7078" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7082" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w7084"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p2</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Apr</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p2</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">April</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w7110"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx7124" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7126"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-04-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7132" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7134"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p1</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx7148" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7152" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w7154"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p2</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">May</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w7170"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx7184" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7186"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-05-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7192" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7194"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p1</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx7208" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7212" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w7214"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p2</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Jun</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p2</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">June</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w7240"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx7254" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7256"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-06-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7262" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7264"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p1</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx7278" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7282" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w7284"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p2</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Jul</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p2</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">July</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w7310"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx7324" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7326"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-07-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7332" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7334"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p1</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx7348" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7352" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w7354"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p2</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Aug</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p2</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">August</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w7380"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx7394" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7396"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-08-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7402" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7404"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p1</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx7418" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7422" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w7424"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p2</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Sep</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p2</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">September</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w7450"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx7464" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7466"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-09-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7472" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7474"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p1</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx7488" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7492" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w7494"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p2</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Oct</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p2</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">October</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w7520"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx7534" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7536"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-10-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7542" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7544"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p1</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx7558" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7562" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w7564"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p2</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Nov</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p2</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">November</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w7590"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx7604" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7606"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-11-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7612" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7614"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p1</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx7628" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7632" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w7634"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p2</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Dec</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p2</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">December</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w7660"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx7674" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7676"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-12-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7682" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7684"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p1</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx7698" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7702" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w7704"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w7708"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx7716" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx7720" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx7724" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7728" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w7730"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="1" pair-end="13" select="quick">string</span></a><span class="parenthesis">(</span><span class="variable" start="8" select="quick">$p2</span><span class="op" start="11">+</span><span class="numeric" start="12">1</span><span class="parenthesis" start="13">)</span><span class="whitespace" start="14"> </span><span class="op" start="15">!=</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">NaN</span><span class="op">'</span><span class="whitespace" start="23"> </span><span class="op" start="24">and</span><span class="whitespace" start="27"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="28" pair-end="40" select="quick">string</span></a><span class="parenthesis">(</span><span class="variable" start="35" select="quick">$p3</span><span class="op" start="38">+</span><span class="numeric" start="39">1</span><span class="parenthesis" start="40">)</span><span class="whitespace" start="41"> </span><span class="op" start="42">!=</span><span class="whitespace" start="44"> </span><span class="op">'</span><span class="literal" start="45">NaN</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w7766"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w7770"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p1</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Jan</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p1</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">January</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w7796"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx7810" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7812"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-01-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7818" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7820"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p2</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx7834" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7838" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w7840"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p1</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Feb</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p1</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">February</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w7866"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx7880" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7882"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-02-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7888" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7890"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p2</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx7904" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7908" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w7910"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p1</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Mar</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p1</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">March</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w7936"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx7950" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7952"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-03-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7958" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w7960"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p2</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx7974" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7978" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w7980"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p1</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Apr</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p1</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">April</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w8006"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx8020" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8022"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-04-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx8028" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8030"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p2</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx8044" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx8048" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w8050"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p1</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">May</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w8066"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx8080" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8082"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-05-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx8088" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8090"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p2</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx8104" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx8108" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w8110"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p1</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Jun</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p1</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">June</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w8136"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx8150" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8152"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-06-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx8158" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8160"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p2</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx8174" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx8178" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w8180"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p1</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Jul</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p1</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">July</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w8206"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx8220" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8222"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-07-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx8228" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8230"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p2</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx8244" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx8248" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w8250"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p1</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Aug</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p1</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">August</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w8276"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx8290" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8292"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-08-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx8298" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8300"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p2</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx8314" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx8318" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w8320"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p1</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Sep</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p1</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">September</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w8346"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx8360" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8362"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-09-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx8368" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8370"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p2</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx8384" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx8388" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w8390"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p1</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Oct</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p1</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">October</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w8416"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx8430" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8432"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-10-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx8438" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8440"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p2</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx8454" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx8458" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w8460"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p1</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Nov</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p1</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">November</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w8486"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx8500" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8502"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-11-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx8508" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8510"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p2</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx8524" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx8528" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w8530"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$p1</span><span class="whitespace" start="4"> </span><span class="op" start="5">=</span><span class="whitespace" start="6"> </span><span class="op">'</span><span class="literal" start="7">Dec</span><span class="op">'</span><span class="whitespace" start="12"> </span><span class="op" start="13">or</span><span class="whitespace" start="15"> </span><span class="variable" start="16" select="quick">$p1</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22">December</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w8556"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p3</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">0001</span><span class="z">"</span><span id="wx8570" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8572"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-12-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx8578" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w8580"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">$p2</span><span class="z">"</span><span class="z"> </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">01</span><span class="z">"</span><span id="wx8594" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx8598" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w8600"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w8604"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx8612" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx8616" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx8620" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx8624" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w8626"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w8630"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx8638" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx8642" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx8646" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx8650" class="ec">&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w8652"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w8656"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-normalize-space" class="solar"><span class="function" start="1" pair-end="22" select="quick">normalize-space</span></a><span class="parenthesis">(</span><span class="variable" start="17" select="quick">$date</span><span class="parenthesis" start="22">)</span><span class="whitespace" start="23"> </span><span class="op" start="24">!=</span><span class="whitespace" start="26"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-normalize-space" class="solar"><span class="function" start="27" pair-end="44" select="quick">normalize-space</span></a><span class="parenthesis">(</span><span class="context" start="43">.</span><span class="parenthesis" start="44">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w8676"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w8686"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w8696"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Converted </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx8702" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w8704"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-normalize-space" class="solar"><span class="function" start="1" pair-end="18" select="quick">normalize-space</span></a><span class="parenthesis">(</span><span class="context" start="17">.</span><span class="parenthesis" start="18">)</span><span class="z">"</span><span id="wx8715" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w8717"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> into </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx8723" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w8725"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$date</span><span class="z">"</span><span id="wx8733" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w8735"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> for </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx8741" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w8743"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="7" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">.</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span id="wx8754" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx8758" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx8762" class="ec">&gt;</span></span><span class="txt">
        
        </span><span class="ww" id="w8764"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w8768"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx8777" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w8779"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$date</span><span class="z">"</span><span id="wx8787" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx8791" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx8795" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w8797"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w8801"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w8805"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx8814" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w8816"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx8824" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx8828" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx8832" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx8836" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx8840" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w8842"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">title</span><span class="op" start="6">|</span><span class="qname" start="7" select="quick">subtitle</span><span class="op" start="15">|</span><span class="qname" start="16" select="quick">titleabbrev</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">300</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="z">&lt;!--</span><span class="cm"> nop </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx8874" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w8876"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">abstract</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">300</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w8898"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="37" select="quick">not</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="5" pair-end="36" select="quick">contains</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="14" pair-end="28" select="quick">name</span></a><span class="parenthesis">(</span><span class="axis" start="19">parent::</span><span class="qname" start="27" select="quick">*</span><span class="parenthesis" start="28">)</span><span class="op" start="29">,</span><span class="op">'</span><span class="literal" start="30">info</span><span class="op">'</span><span class="parenthesis" start="36">)</span><span class="parenthesis" start="37">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w8922"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w8932"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w8942"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Check abstract; moved into info correctly?</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx8948" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx8952" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx8956" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx8960" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx8964" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w8966"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">indexterm</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="z">&lt;!--</span><span class="cm"> don't copy the defaulted significance='normal' attribute </span><span class="z">--&gt;</span><span class="txt">
    </span><span class="ww" id="w8986"><span class="es">&lt;</span><span class="en">indexterm</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w8990"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w9000"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">suppress</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w9010"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">significance</span><span class="whitespace" start="14"> </span><span class="op" start="15">=</span><span class="whitespace" start="16"> </span><span class="op">'</span><span class="literal" start="17">normal</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">significance</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx9029" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx9033" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx9037" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w9039"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx9047" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">indexterm</span><span id="wx9051" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx9055" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w9057"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">ackno</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w9079"><span class="es">&lt;</span><span class="en">acknowledgements</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w9083"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx9092" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w9094"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w9098"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx9106" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx9110" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">acknowledgements</span><span id="wx9114" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx9118" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w9120"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">lot</span><span class="op" start="4">|</span><span class="qname" start="5" select="quick">lotentry</span><span class="op" start="13">|</span><span class="qname" start="14" select="quick">tocback</span><span class="op" start="21">|</span><span class="qname" start="22" select="quick">tocchap</span><span class="op" start="29">|</span><span class="qname" start="30" select="quick">tocfront</span><span class="op" start="38">|</span><span class="qname" start="39" select="quick">toclevel1</span><span class="op" start="48">|</span><span class="whitespace" start="49">
                       </span><span class="qname" start="57" select="quick">toclevel2</span><span class="op" start="66">|</span><span class="qname" start="67" select="quick">toclevel3</span><span class="op" start="76">|</span><span class="qname" start="77" select="quick">toclevel4</span><span class="op" start="86">|</span><span class="qname" start="87" select="quick">toclevel5</span><span class="op" start="96">|</span><span class="qname" start="97" select="quick">tocpart</span><span class="z">"</span><span class="z">
                </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z">
                </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w9163"><span class="es">&lt;</span><span class="en">tocdiv</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w9167"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx9176" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w9178"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx9186" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">tocdiv</span><span id="wx9190" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx9194" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w9196"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">action</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w9218"><span class="es">&lt;</span><span class="en">phrase</span><span class="z"> </span><span class="atn">remap</span><span class="atneq">=</span><span class="z">"</span><span class="av">action</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w9228"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx9236" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w9238"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx9246" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">phrase</span><span id="wx9250" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx9254" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w9256"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">beginpage</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w9278"><span class="es">&lt;</span><span class="enxsl">xsl:comment</span><span class="scx">&gt;</span><span class="txt"> beginpage pagenum=</span><span class="ww" id="w9282"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">pagenum</span><span class="z">"</span><span id="wx9291" class="sc">/&gt;</span></span><span class="txt"> </span><span class="ez">&lt;/</span><span class="clxsl">xsl:comment</span><span id="wx9295" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w9297"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w9307"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w9317"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Replacing beginpage with comment</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx9323" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx9327" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx9331" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx9335" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w9337"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">structname</span><span class="op" start="11">|</span><span class="qname" start="12" select="quick">structfield</span><span class="z">"</span><span class="z"> </span><span class="atn">priority</span><span class="atneq">=</span><span class="z">"</span><span class="av">200</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w9361"><span class="es">&lt;</span><span class="en">varname</span><span class="z"> </span><span class="atn">remap</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w9376"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx9384" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w9386"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx9394" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">varname</span><span id="wx9398" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx9402" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w9404"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:copy</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w9420"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w9424"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx9432" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w9434"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx9442" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx9446" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx9450" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">
  
  </span><span class="ww" id="w9456"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w9472"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w9476"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?copy.attributes" class="solar"><span class="tcall">copy.attributes</span></a><span class="z">"</span><span id="wx9484" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w9486"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span id="wx9494" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx9498" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx9502" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w9504"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="node" start="1" pair-end="9" select="quick">comment</span><span class="parenthesis">(</span><span class="parenthesis" start="9">)</span><span class="op" start="10">|</span><span class="node" start="11" pair-end="34" select="quick">processing-instruction</span><span class="parenthesis">(</span><span class="parenthesis" start="34">)</span><span class="op" start="35">|</span><span class="node" start="36" pair-end="41" select="quick">text</span><span class="parenthesis">(</span><span class="parenthesis" start="41">)</span><span class="z">"</span><span class="z">  </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:db4to5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w9530"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span id="wx9532" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx9536" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">
  
  </span><span class="ww" id="w9542"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?copy.attributes">copy.attributes</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w9552"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?src">src</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx9566" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w9568"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?suppress">suppress</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx9584" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w9586"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$src</span><span class="step" start="5">/</span><span class="axis" start="6">@</span><span class="qname" start="7" select="quick">*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w9599"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w9603"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="whitespace" start="14"> </span><span class="op" start="15">=</span><span class="whitespace" start="16"> </span><span class="op">'</span><span class="literal" start="17">moreinfo</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w9622"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w9632"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w9642"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Discarding moreinfo on </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx9648" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w9650"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="16" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$src</span><span class="parenthesis" start="16">)</span><span class="z">"</span><span id="wx9661" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx9665" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx9669" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx9673" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w9675"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="whitespace" start="14"> </span><span class="op" start="15">=</span><span class="whitespace" start="16"> </span><span class="op">'</span><span class="literal" start="17">lang</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w9694"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xml:lang</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w9704"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx9712" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx9716" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx9720" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w9722"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="whitespace" start="14"> </span><span class="op" start="15">=</span><span class="whitespace" start="16"> </span><span class="op">'</span><span class="literal" start="17">id</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w9741"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xml:id</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w9751"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx9759" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx9763" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx9767" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w9769"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$suppress</span><span class="whitespace" start="10"> </span><span class="op" start="11">=</span><span class="whitespace" start="12"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="13" pair-end="25" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="24">.</span><span class="parenthesis" start="25">)</span><span class="z">"</span><span id="wx9784" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w9786"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="whitespace" start="14"> </span><span class="op" start="15">=</span><span class="whitespace" start="16"> </span><span class="op">'</span><span class="literal" start="17">float</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w9805"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w9809"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="whitespace" start="2"> </span><span class="op" start="3">=</span><span class="whitespace" start="4"> </span><span class="op">'</span><span class="literal" start="5">1</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w9825"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w9835"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w9845"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Discarding float on </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx9851" class="ec">&gt;</span></span><span class="txt">
                  </span><span class="ww" id="w9853"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="16" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$src</span><span class="parenthesis" start="16">)</span><span class="z">"</span><span id="wx9864" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx9868" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx9872" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w9874"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="21" select="quick">not</span></a><span class="parenthesis">(</span><span class="variable" start="5" select="quick">$src</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">floatstyle</span><span class="parenthesis" start="21">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w9890"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w9900"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                    </span><span class="ww" id="w9910"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Adding floatstyle='normal' on </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx9916" class="ec">&gt;</span></span><span class="txt">
                    </span><span class="ww" id="w9918"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="16" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$src</span><span class="parenthesis" start="16">)</span><span class="z">"</span><span id="wx9929" class="sc">/&gt;</span></span><span class="txt">
                  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx9933" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx9937" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w9939"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">floatstyle</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w9949"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">normal</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx9955" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx9959" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx9963" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx9967" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w9969"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="whitespace" start="2"> </span><span class="op" start="3">=</span><span class="whitespace" start="4"> </span><span class="op">'</span><span class="literal" start="5">0</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w9985"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w9995"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w10005"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Discarding float on </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx10011" class="ec">&gt;</span></span><span class="txt">
                  </span><span class="ww" id="w10013"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="16" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$src</span><span class="parenthesis" start="16">)</span><span class="z">"</span><span id="wx10024" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx10028" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx10032" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx10036" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w10038"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w10042"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w10052"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w10062"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Discarding float on </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx10068" class="ec">&gt;</span></span><span class="txt">
                  </span><span class="ww" id="w10070"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="16" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$src</span><span class="parenthesis" start="16">)</span><span class="z">"</span><span id="wx10081" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx10085" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx10089" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w10091"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="21" select="quick">not</span></a><span class="parenthesis">(</span><span class="variable" start="5" select="quick">$src</span><span class="step" start="9">/</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">floatstyle</span><span class="parenthesis" start="21">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w10107"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w10117"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                    </span><span class="ww" id="w10127"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Adding floatstyle='</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx10133" class="ec">&gt;</span></span><span class="txt">
                    </span><span class="ww" id="w10135"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx10143" class="sc">/&gt;</span></span><span class="txt">
                    </span><span class="ww" id="w10145"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">' on </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx10151" class="ec">&gt;</span></span><span class="txt">
                    </span><span class="ww" id="w10153"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="16" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$src</span><span class="parenthesis" start="16">)</span><span class="z">"</span><span id="wx10164" class="sc">/&gt;</span></span><span class="txt">
                  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx10168" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx10172" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w10174"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">floatstyle</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w10184"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx10192" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx10196" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx10200" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx10204" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx10208" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx10212" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w10214"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="whitespace" start="14"> </span><span class="op" start="15">=</span><span class="whitespace" start="16"> </span><span class="op">'</span><span class="literal" start="17">entityref</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w10233"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">fileref</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w10243"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-unparsed-entity-uri" class="solar"><span class="function" start="1" pair-end="22" select="quick">unparsed-entity-uri</span></a><span class="parenthesis">(</span><span class="context" start="21">.</span><span class="parenthesis" start="22">)</span><span class="z">"</span><span id="wx10254" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx10258" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx10262" class="ec">&gt;</span></span><span class="txt">
        
        </span><span class="ww" id="w10264"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="16" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$src</span><span class="parenthesis" start="16">)</span><span class="whitespace" start="17"> </span><span class="op" start="18">=</span><span class="whitespace" start="19"> </span><span class="op">'</span><span class="literal" start="20">simplemsgentry</span><span class="op">'</span><span class="whitespace" start="36">
                        </span><span class="op" start="52">and</span><span class="whitespace" start="55"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="56" pair-end="68" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="67">.</span><span class="parenthesis" start="68">)</span><span class="whitespace" start="69"> </span><span class="op" start="70">=</span><span class="whitespace" start="71"> </span><span class="op">'</span><span class="literal" start="72">audience</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w10296"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">msgaud</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w10306"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx10314" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx10318" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx10322" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w10324"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="16" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$src</span><span class="parenthesis" start="16">)</span><span class="whitespace" start="17"> </span><span class="op" start="18">=</span><span class="whitespace" start="19"> </span><span class="op">'</span><span class="literal" start="20">simplemsgentry</span><span class="op">'</span><span class="whitespace" start="36">
                        </span><span class="op" start="52">and</span><span class="whitespace" start="55"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="56" pair-end="68" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="67">.</span><span class="parenthesis" start="68">)</span><span class="whitespace" start="69"> </span><span class="op" start="70">=</span><span class="whitespace" start="71"> </span><span class="op">'</span><span class="literal" start="72">origin</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w10356"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">msgorig</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w10366"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx10374" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx10378" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx10382" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w10384"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="16" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$src</span><span class="parenthesis" start="16">)</span><span class="whitespace" start="17"> </span><span class="op" start="18">=</span><span class="whitespace" start="19"> </span><span class="op">'</span><span class="literal" start="20">simplemsgentry</span><span class="op">'</span><span class="whitespace" start="36">
                        </span><span class="op" start="52">and</span><span class="whitespace" start="55"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="56" pair-end="68" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="67">.</span><span class="parenthesis" start="68">)</span><span class="whitespace" start="69"> </span><span class="op" start="70">=</span><span class="whitespace" start="71"> </span><span class="op">'</span><span class="literal" start="72">level</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w10416"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">msglevel</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w10426"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx10434" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx10438" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx10442" class="ec">&gt;</span></span><span class="txt">
        
        </span><span class="z">&lt;!--</span><span class="cm"> * for upgrading XSL litprog params documentation </span><span class="z">--&gt;</span><span class="txt">
        </span><span class="ww" id="w10448"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="16" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$src</span><span class="parenthesis" start="16">)</span><span class="whitespace" start="17"> </span><span class="op" start="18">=</span><span class="whitespace" start="19"> </span><span class="op">'</span><span class="literal" start="20">refmiscinfo</span><span class="op">'</span><span class="whitespace" start="33">
                        </span><span class="op" start="56">and</span><span class="whitespace" start="59"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="60" pair-end="72" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="71">.</span><span class="parenthesis" start="72">)</span><span class="whitespace" start="73"> </span><span class="op" start="74">=</span><span class="whitespace" start="75"> </span><span class="op">'</span><span class="literal" start="76">role</span><span class="op">'</span><span class="whitespace" start="82">
                        </span><span class="op" start="105">and</span><span class="whitespace" start="108"> </span><span class="context" start="109">.</span><span class="whitespace" start="110"> </span><span class="op" start="111">=</span><span class="whitespace" start="112"> </span><span class="op">'</span><span class="literal" start="113">type</span><span class="op">'</span><span class="whitespace" start="119">
                        </span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w10491"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/preprocess/1-db4to5.xsl.html#t?{http://docbook.org/xslt/ns/template/private}emit-message" class="solar"><span class="tcall">tp:emit-message</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w10501"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w10511"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Converting refmiscinfo@role=type to </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx10517" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w10519"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">@class=other,otherclass=type</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx10525" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx10529" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx10533" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w10535"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">class</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">other</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx10547" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w10549"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">otherclass</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">type</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx10561" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx10565" class="ec">&gt;</span></span><span class="txt">
        
        </span><span class="ww" id="w10567"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w10571"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span id="wx10573" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx10577" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx10581" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx10585" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx10589" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">
  
  </span><span class="ww" id="w10595"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="step" start="1">/</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:addNS</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w10611"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?base-uri">base-uri</span><span class="z">"</span><span class="z"> </span><span class="atn">required</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx10625" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w10627"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w10631"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:addNS</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w10641"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">base-uri</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$base-uri</span><span class="z">"</span><span id="wx10655" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx10659" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx10663" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx10667" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w10669"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:addNS</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w10685"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?base-uri">base-uri</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="2" select="quick">(</span><span class="parenthesis" start="2">)</span><span class="z">"</span><span id="wx10700" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w10702"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w10706"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-namespace-uri" class="solar"><span class="function" start="1" pair-end="16" select="quick">namespace-uri</span></a><span class="parenthesis">(</span><span class="context" start="15">.</span><span class="parenthesis" start="16">)</span><span class="whitespace" start="17"> </span><span class="op" start="18">=</span><span class="whitespace" start="19"> </span><span class="op">'</span><span class="literal" start="20"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w10725"><span class="es">&lt;</span><span class="enxsl">xsl:element</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="op">}</span><span class="z">"</span><span class="z">
                     </span><span class="atn">namespace</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w10746"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx10755" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w10757"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="14" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="5">parent::</span><span class="qname" start="13" select="quick">*</span><span class="parenthesis" start="14">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w10771"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">version</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">5.0</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx10783" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w10785"><span class="es">&lt;</span><span class="enxsl">xsl:namespace</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xlink</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">http://www.w3.org/1999/xlink</span><span class="op">'</span><span class="z">"</span><span id="wx10801" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w10803"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="14" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="5">@</span><span class="qname" start="6" select="quick">xml:base</span><span class="parenthesis" start="14">)</span><span class="whitespace" start="15"> </span><span class="op" start="16">and</span><span class="whitespace" start="19"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="20" pair-end="40" select="quick">not</span></a><span class="parenthesis">(</span><span class="type" start="24">empty</span><span class="parenthesis">(</span><span class="variable" start="30" select="quick">$base-uri</span><span class="parenthesis" start="39">)</span><span class="parenthesis" start="40">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w10827"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xml:base</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$base-uri</span><span class="z">"</span><span id="wx10841" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx10845" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx10849" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w10851"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:addNS</span><span class="z">"</span><span id="wx10859" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:element</span><span id="wx10863" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx10867" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w10869"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w10873"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w10877"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="14" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="5">parent::</span><span class="qname" start="13" select="quick">*</span><span class="parenthesis" start="14">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w10891"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">version</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">5.0</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx10903" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx10907" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w10909"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx10918" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w10920"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:addNS</span><span class="z">"</span><span id="wx10928" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:copy</span><span id="wx10932" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx10936" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx10940" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx10944" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w10946"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="node" start="1" pair-end="9" select="quick">comment</span><span class="parenthesis">(</span><span class="parenthesis" start="9">)</span><span class="op" start="10">|</span><span class="node" start="11" pair-end="34" select="quick">processing-instruction</span><span class="parenthesis">(</span><span class="parenthesis" start="34">)</span><span class="op" start="35">|</span><span class="node" start="36" pair-end="41" select="quick">text</span><span class="parenthesis">(</span><span class="parenthesis" start="41">)</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">mp:addNS</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w10972"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span id="wx10974" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx10978" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="z">&lt;!--</span><span class="cm"> ====================================================================== </span><span class="z">--&gt;</span><span class="txt">
  
  </span><span class="ww" id="w10984"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template/private}emit-message">tp:emit-message</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w10994"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?message">message</span><span class="z">"</span><span id="wx11002" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w11004"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w11008"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$message</span><span class="z">"</span><span id="wx11016" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx11020" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx11024" class="ec">&gt;</span></span><span class="txt">
  
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:stylesheet</span><span id="wx11028" class="ec">&gt;</span></span><span class="txt">
</span></p></div></body></html>