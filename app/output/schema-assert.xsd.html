<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>schema-assert.xsd</title><link rel="stylesheet" type="text/css" href="theme.css"></head><body><div><p class="spectrum"><span class="z">&lt;?</span><span class="pi">xml version="1.0" encoding="UTF-8" </span><span class="z">?&gt;</span><span class="txt">&#xD;
</span><span class="z">&lt;!--</span><span class="cm"> reproduced from Mukul Gandhi blog at:&#xD;
     http://mukulgandhi.blogspot.co.uk/2010/03/playing-again-with-xsd-11-assertions.html&#xD;
</span><span class="z">--&gt;</span><span class="txt">&#xD;
</span><span class="es">&lt;</span><span class="en">xs:schema</span><span class="z"> </span><span class="atn">xmlns:xs</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2001/XMLSchema</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&#xD;
&#xD;
   </span><span class="es">&lt;</span><span class="en">xs:complexType</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">Product</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&#xD;
     </span><span class="es">&lt;</span><span class="en">xs:sequence</span><span class="scx">&gt;</span><span class="txt">&#xD;
       </span><span class="es">&lt;</span><span class="enxsl">xs:element</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname">shortName</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&#xD;
         </span><span class="es">&lt;</span><span class="en">xs:simpleType</span><span class="scx">&gt;</span><span class="txt">&#xD;
           </span><span class="es">&lt;</span><span class="en">xs:restriction</span><span class="z"> </span><span class="atn">base</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:string</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&#xD;
             </span><span class="es">&lt;</span><span class="en">xs:maxLength</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">20</span><span class="z">"</span><span class="sc">/&gt;</span><span class="txt">&#xD;
           </span><span class="ez">&lt;/</span><span class="cl">xs:restriction</span><span class="ec">&gt;</span><span class="txt">&#xD;
         </span><span class="ez">&lt;/</span><span class="cl">xs:simpleType</span><span class="ec">&gt;</span><span class="txt">&#xD;
       </span><span class="ez">&lt;/</span><span class="clxsl">xs:element</span><span class="ec">&gt;</span><span class="txt">&#xD;
       </span><span class="es">&lt;</span><span class="enxsl">xs:element</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname">description</span><span class="z">"</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:string</span><span class="z">"</span><span class="sc">/&gt;</span><span class="txt">&#xD;
       </span><span class="es">&lt;</span><span class="enxsl">xs:element</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname">author</span><span class="z">"</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:string</span><span class="z">"</span><span class="sc">/&gt;</span><span class="txt">&#xD;
       </span><span class="es">&lt;</span><span class="enxsl">xs:element</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname">price</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&#xD;
         </span><span class="es">&lt;</span><span class="en">xs:complexType</span><span class="scx">&gt;</span><span class="txt">&#xD;
           </span><span class="es">&lt;</span><span class="en">xs:sequence</span><span class="scx">&gt;</span><span class="txt">&#xD;
             </span><span class="es">&lt;</span><span class="enxsl">xs:element</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname">value</span><span class="z">"</span><span class="z"> </span><span class="atn">maxOccurs</span><span class="atneq">=</span><span class="z">"</span><span class="av">unbounded</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&#xD;
                </span><span class="es">&lt;</span><span class="en">xs:complexType</span><span class="scx">&gt;</span><span class="txt">&#xD;
                  </span><span class="es">&lt;</span><span class="en">xs:simpleContent</span><span class="scx">&gt;</span><span class="txt">&#xD;
                    </span><span class="es">&lt;</span><span class="en">xs:extension</span><span class="z"> </span><span class="atn">base</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:double</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&#xD;
                      </span><span class="es">&lt;</span><span class="enxsl">xs:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname">effective</span><span class="z">"</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:date</span><span class="z">"</span><span class="z"> </span><span class="atn">use</span><span class="atneq">=</span><span class="z">"</span><span class="av">required</span><span class="z">"</span><span class="sc">/&gt;</span><span class="txt">&#xD;
                      </span><span class="es">&lt;</span><span class="enxsl">xs:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname">freeware</span><span class="z">"</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:boolean</span><span class="z">"</span><span class="sc">/&gt;</span><span class="txt">&#xD;
                      </span><span class="es">&lt;</span><span class="enxsl">xs:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname">format</span><span class="z">"</span><span class="z"> </span><span class="atn">use</span><span class="atneq">=</span><span class="z">"</span><span class="av">required</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&#xD;
                        </span><span class="es">&lt;</span><span class="en">xs:simpleType</span><span class="scx">&gt;</span><span class="txt">&#xD;
                          </span><span class="es">&lt;</span><span class="en">xs:restriction</span><span class="z"> </span><span class="atn">base</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:string</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&#xD;
                            </span><span class="es">&lt;</span><span class="en">xs:enumeration</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">hard cover</span><span class="z">"</span><span class="sc">/&gt;</span><span class="txt">&#xD;
                            </span><span class="es">&lt;</span><span class="en">xs:enumeration</span><span class="z"> </span><span class="atn">value</span><span class="atneq">=</span><span class="z">"</span><span class="av">pdf</span><span class="z">"</span><span class="sc">/&gt;</span><span class="txt">&#xD;
                          </span><span class="ez">&lt;/</span><span class="cl">xs:restriction</span><span class="ec">&gt;</span><span class="txt">&#xD;
                        </span><span class="ez">&lt;/</span><span class="cl">xs:simpleType</span><span class="ec">&gt;</span><span class="txt">&#xD;
                      </span><span class="ez">&lt;/</span><span class="clxsl">xs:attribute</span><span class="ec">&gt;</span><span class="txt">&#xD;
                      </span><span class="es">&lt;</span><span class="en">xs:assert</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">effective</span><span class="whitespace" start="11"> </span><span class="op" start="12">lt</span><span class="whitespace" start="14"> </span><span class="function" start="15" pair-end="28" select="quick">current-date</span><span class="parenthesis">(</span><span class="parenthesis" start="28">)</span><span class="z">"</span><span class="sc">/&gt;</span><span class="txt">&#xD;
                      </span><span class="es">&lt;</span><span class="en">xs:assert</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="if" start="1">if</span><span class="whitespace" start="3"> </span><span class="parenthesis" start="4" pair-end="24" select="quick">(</span><span class="axis" start="5">@</span><span class="qname" start="6" select="quick">freeware</span><span class="whitespace" start="14"> </span><span class="op" start="15">eq</span><span class="whitespace" start="17"> </span><span class="function" start="18" pair-end="23" select="quick">true</span><span class="parenthesis">(</span><span class="parenthesis" start="23">)</span><span class="parenthesis" start="24">)</span><span class="whitespace" start="25"> </span><span class="op" start="26">then</span><span class="whitespace" start="30"> </span><span class="parenthesis" start="31" pair-end="59" select="quick">(</span><span class="axis" start="32">@</span><span class="qname" start="33" select="quick">format</span><span class="whitespace" start="39"> </span><span class="op" start="40">eq</span><span class="whitespace" start="42"> </span><span class="op">'</span><span class="literal" start="43">pdf</span><span class="op">'</span><span class="whitespace" start="48"> </span><span class="op" start="49">and</span><span class="whitespace" start="52"> </span><span class="context" start="53">.</span><span class="whitespace" start="54"> </span><span class="op" start="55">eq</span><span class="whitespace" start="57"> </span><span class="numeric" start="58">0</span><span class="parenthesis" start="59">)</span><span class="whitespace" start="60">&#xD;
                                       </span><span class="op" start="101">else</span><span class="whitespace" start="105"> </span><span class="function" start="106" pair-end="111" select="quick">true</span><span class="parenthesis">(</span><span class="parenthesis" start="111">)</span><span class="z">"</span><span class="sc">/&gt;</span><span class="txt">                    &#xD;
                    </span><span class="ez">&lt;/</span><span class="cl">xs:extension</span><span class="ec">&gt;</span><span class="txt">&#xD;
                  </span><span class="ez">&lt;/</span><span class="cl">xs:simpleContent</span><span class="ec">&gt;</span><span class="txt">&#xD;
                </span><span class="ez">&lt;/</span><span class="cl">xs:complexType</span><span class="ec">&gt;</span><span class="txt">&#xD;
             </span><span class="ez">&lt;/</span><span class="clxsl">xs:element</span><span class="ec">&gt;</span><span class="txt">&#xD;
           </span><span class="ez">&lt;/</span><span class="cl">xs:sequence</span><span class="ec">&gt;</span><span class="txt">&#xD;
           </span><span class="es">&lt;</span><span class="en">xs:assert</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="higher" start="1">every</span><span class="whitespace" start="6"> </span><span id="rng-$vl" class="variable" start="7" select="quick">$vl</span><span class="whitespace" start="10"> </span><span class="op" start="11">in</span><span class="whitespace" start="13"> </span><span class="qname" start="14" select="quick">value</span><span class="filter" start="19" pair-end="40" select="quick">[</span><span class="function" start="20" pair-end="29" select="quick">position</span><span class="parenthesis">(</span><span class="parenthesis" start="29">)</span><span class="whitespace" start="30"> </span><span class="op" start="31">lt</span><span class="whitespace" start="33"> </span><span class="function" start="34" pair-end="39" select="quick">last</span><span class="parenthesis">(</span><span class="parenthesis" start="39">)</span><span class="filter" start="40">]</span><span class="whitespace" start="41"> </span><span class="op" start="42">satisfies</span><span class="whitespace" start="51">&#xD;
                            </span><span class="parenthesis" start="81" pair-end="120" select="quick">(</span><span class="variable" start="82" select="quick">$vl</span><span class="whitespace" start="85"> </span><span class="op" start="86">gt</span><span class="whitespace" start="88"> </span><span class="variable" start="89" select="quick">$vl</span><span class="step" start="92">/</span><span class="axis" start="93">following-sibling::</span><span class="qname" start="112" select="quick">value</span><span class="filter" start="117" pair-end="119" select="quick">[</span><span class="numeric" start="118">1</span><span class="filter" start="119">]</span><span class="parenthesis" start="120">)</span><span class="whitespace" start="121"> </span><span class="op" start="122">and</span><span class="whitespace" start="125"> &#xD;
                            </span><span class="parenthesis" start="156" pair-end="217" select="quick">(</span><span class="variable" start="157" select="quick">$vl</span><span class="step" start="160">/</span><span class="axis" start="161">@</span><span class="qname" start="162" select="quick">effective</span><span class="whitespace" start="171"> </span><span class="op" start="172">lt</span><span class="whitespace" start="174"> </span><span class="variable" start="175" select="quick">$vl</span><span class="step" start="178">/</span><span class="axis" start="179">following-sibling::</span><span class="qname" start="198" select="quick">value</span><span class="filter" start="203" pair-end="205" select="quick">[</span><span class="numeric" start="204">1</span><span class="filter" start="205">]</span><span class="step" start="206">/</span><span class="axis" start="207">@</span><span class="qname" start="208" select="quick">effective</span><span class="parenthesis" start="217">)</span><span class="z">"</span><span class="sc">/&gt;</span><span class="txt">&#xD;
         </span><span class="ez">&lt;/</span><span class="cl">xs:complexType</span><span class="ec">&gt;</span><span class="txt">&#xD;
       </span><span class="ez">&lt;/</span><span class="clxsl">xs:element</span><span class="ec">&gt;</span><span class="txt">&#xD;
     </span><span class="ez">&lt;/</span><span class="cl">xs:sequence</span><span class="ec">&gt;</span><span class="txt">&#xD;
     </span><span class="es">&lt;</span><span class="enxsl">xs:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname">ID</span><span class="z">"</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:positiveInteger</span><span class="z">"</span><span class="z"> </span><span class="atn">use</span><span class="atneq">=</span><span class="z">"</span><span class="av">required</span><span class="z">"</span><span class="sc">/&gt;</span><span class="txt">&#xD;
   </span><span class="ez">&lt;/</span><span class="cl">xs:complexType</span><span class="ec">&gt;</span><span class="txt">&#xD;
   &#xD;
   </span><span class="es">&lt;</span><span class="enxsl">xs:element</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname">product</span><span class="z">"</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">Product</span><span class="z">"</span><span class="sc">/&gt;</span><span class="txt">&#xD;
&#xD;
</span><span class="ez">&lt;/</span><span class="cl">xs:schema</span><span class="ec">&gt;</span><span class="txt"></span></p></div></body></html>