<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>devtest.xql</title><link rel="stylesheet" type="text/css" href="theme.css"></head><body><div><pre class="spectrum"><span class="comment" start="1">(:&#xD;
: Module Name: Sample&#xD;
: Module Version: 1.0&#xD;
: Date: October 6, 2011&#xD;
:)</span><span class="whitespace" start="78">&#xD;
</span><span class="qname" start="80" select="quick">xquery</span><span class="whitespace" start="86"> </span><span class="qname" start="87" select="quick">version</span><span class="whitespace" start="94"> </span><span class="op">"</span><span class="literal" start="95">1.0</span><span class="op">"</span><span class="qname" start="100" select="quick">;</span><span class="whitespace" start="101">&#xD;
&#xD;
&#xD;
&#xD;
</span><span class="comment" start="109">(:~ so we have XPath 2.0 as default (:function namespace:) :)</span><span class="whitespace" start="170">&#xD;
</span><span class="qname" start="172" select="quick">declare</span><span class="whitespace" start="179"> </span><span class="qname" start="180" select="quick">default</span><span class="whitespace" start="187"> </span><span class="qname" start="188" select="quick">function</span><span class="whitespace" start="196"> </span><span class="qname" start="197" select="quick">namespace</span><span class="whitespace" start="206"> </span><span class="op">"</span><span class="literal" start="207">http://www.w3.org/2005/xpath-functions</span><span class="op">"</span><span class="qname" start="247" select="quick">;</span><span class="whitespace" start="248"> &#xD;
</span><span class="comment" start="251">(:~ this module outputs html  :)</span><span class="whitespace" start="283">&#xD;
</span><span class="qname" start="285" select="quick">declare</span><span class="whitespace" start="292"> </span><span class="qname" start="293" select="quick">default</span><span class="whitespace" start="300"> </span><span class="qname" start="301" select="quick">element</span><span class="whitespace" start="308"> </span><span class="qname" start="309" select="quick">namespace</span><span class="whitespace" start="318"> </span><span class="op">"</span><span class="literal" start="319">http://www.w3.org/1999/xhtml</span><span class="op">"</span><span class="qname" start="349" select="quick">;</span><span class="whitespace" start="350">&#xD;
&#xD;
</span><span class="comment" start="354">(:~ This variable contains the first variable to process. :)</span><span class="whitespace" start="414">&#xD;
</span><span class="qname" start="416" select="quick">declare</span><span class="whitespace" start="423"> </span><span class="qname" start="424" select="quick">variable</span><span class="whitespace" start="432"> </span><span class="variable" start="433" select="quick">$operand-one</span><span class="whitespace" start="445"> </span><span class="op" start="446">as</span><span class="whitespace" start="448"> </span><span class="type-name" start="449">xs:integer</span><span class="whitespace" start="459"> </span><span class="qname" start="460" select="quick">external</span><span class="qname" start="468" select="quick">;</span><span class="whitespace" start="469">&#xD;
&#xD;
</span><span class="comment" start="473">(:~ This variable contains the second integer to process. :)</span><span class="whitespace" start="533">&#xD;
</span><span class="qname" start="535" select="quick">declare</span><span class="whitespace" start="542"> </span><span class="qname" start="543" select="quick">variable</span><span class="whitespace" start="551"> </span><span class="variable" start="552" select="quick">$operand-two</span><span class="whitespace" start="564"> </span><span class="op" start="565">as</span><span class="whitespace" start="567"> </span><span class="type-name" start="568">xs:integer</span><span class="whitespace" start="578"> </span><span class="qname" start="579" select="quick">external</span><span class="qname" start="587" select="quick">;</span><span class="whitespace" start="588">&#xD;
&#xD;
</span><span class="comment" start="592">(:~&#xD;
: Generates title for html page&#xD;
: &lt;ul class="list"&gt;&#xD;
:    &lt;li&gt;&#xD;
        A list item and keywords 'and', 'some' + operators&#xD;
:    &lt;/li&gt;&#xD;
: @returns string value for title&#xD;
:)</span><span class="whitespace" start="771">&#xD;
</span><span class="qname" start="773" select="quick">declare</span><span class="whitespace" start="780"> </span><span class="qname" start="781" select="quick">function</span><span class="whitespace" start="789"> </span><span class="function" start="790" pair-end="802" select="quick">local:title</span><span class="parenthesis">(</span><span class="parenthesis" start="802">)</span><span class="whitespace" start="803"> </span><span class="op" start="804">as</span><span class="whitespace" start="806"> </span><span class="type-name" start="807">xs:string</span><span class="op" start="816">{</span><span class="whitespace" start="817">&#xD;
</span><span class="op">'</span><span class="literal" start="819">A Sample XQuery File</span><span class="op">'</span><span class="whitespace" start="841">&#xD;
</span><span class="op" start="843">}</span><span class="qname" start="844" select="quick">;</span><span class="whitespace" start="845">&#xD;
&#xD;
&#xD;
</span><span class="qname" start="851" select="quick">declare</span><span class="whitespace" start="858"> </span><span class="qname" start="859" select="quick">function</span><span class="whitespace" start="867"> </span><span class="function" start="868" pair-end="881" select="quick">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis" start="881">)</span><span class="whitespace" start="882"> </span><span class="op" start="883">as</span><span class="whitespace" start="885"> </span><span class="type-name" start="886">xs:boolean</span><span class="whitespace" start="896">&#xD;
</span><span class="op" start="898">{</span><span class="whitespace" start="899">&#xD;
</span><span class="if" start="901">if</span><span class="whitespace" start="903"> </span><span class="parenthesis" start="904" pair-end="924" select="quick">(</span><span class="function" start="905" pair-end="923" select="quick">empty</span><span class="parenthesis">(</span><span class="variable" start="911" select="quick">$operand-one</span><span class="parenthesis" start="923">)</span><span class="parenthesis" start="924">)</span><span class="whitespace" start="925">&#xD;
    </span><span class="op" start="931">then</span><span class="whitespace" start="935"> </span><span class="function" start="936" pair-end="942" select="quick">false</span><span class="parenthesis">(</span><span class="parenthesis" start="942">)</span><span class="whitespace" start="943">&#xD;
 </span><span class="op" start="946">else</span><span class="whitespace" start="950"> </span><span class="if" start="951">if</span><span class="whitespace" start="953"> </span><span class="parenthesis" start="954" pair-end="972" select="quick">(</span><span class="variable" start="955" select="quick">$operand-two</span><span class="whitespace" start="967"> </span><span class="op" start="968">eq</span><span class="whitespace" start="970"> </span><span class="numeric" start="971">2</span><span class="parenthesis" start="972">)</span><span class="whitespace" start="973">&#xD;
    </span><span class="op" start="979">then</span><span class="whitespace" start="983">&#xD;
    </span><span class="variable" start="989" select="quick">$operand-two</span><span class="whitespace" start="1001"> </span><span class="op" start="1002">eq</span><span class="whitespace" start="1004"> </span><span class="numeric" start="1005">3</span><span class="whitespace" start="1006">&#xD;
 </span><span class="op" start="1009">else</span><span class="whitespace" start="1013"> </span><span class="function" start="1014" pair-end="1020" select="quick">false</span><span class="parenthesis">(</span><span class="parenthesis" start="1020">)</span><span class="whitespace" start="1021">&#xD;
</span><span class="op" start="1023">}</span><span class="qname" start="1024" select="quick">;</span><span class="whitespace" start="1025">&#xD;
&#xD;
</span><span class="op" start="1029">&lt;</span><span class="qname" start="1030" select="quick">html</span><span class="whitespace" start="1034"> </span><span class="qname" start="1035" select="quick">test</span><span class="op" start="1039">=</span><span class="op">"</span><span class="literal" start="1040">my {awkward/difficult} answer</span><span class="op">"</span><span class="whitespace" start="1071"> </span><span class="qname" start="1072" select="quick">class</span><span class="op" start="1077">=</span><span class="op">"</span><span class="literal" start="1078">{/abc[@name]}</span><span class="op">"</span><span class="op" start="1093">&gt;</span><span class="whitespace" start="1094"> &#xD;
</span><span class="op" start="1097">&lt;</span><span class="qname" start="1098" select="quick">head</span><span class="op" start="1102">&gt;</span><span class="whitespace" start="1103">&#xD;
  </span><span class="op" start="1107">&lt;</span><span class="op" start="1108">!</span><span class="op" start="1109">-</span><span class="op" start="1110">-</span><span class="whitespace" start="1111"> </span><span class="qname" start="1112" select="quick">this</span><span class="whitespace" start="1116"> </span><span class="op" start="1117">is</span><span class="whitespace" start="1119"> </span><span class="qname" start="1120" select="quick">ok</span><span class="whitespace" start="1122"> </span><span class="op" start="1123">-</span><span class="op" start="1124">-</span><span class="op" start="1125">&gt;</span><span class="whitespace" start="1126">&#xD;
  </span><span class="op" start="1130">&lt;</span><span class="qname" start="1131" select="quick">title</span><span class="op" start="1136">&gt;</span><span class="op" start="1137">{</span><span class="function" start="1138" pair-end="1150" select="quick">local:title</span><span class="parenthesis">(</span><span class="parenthesis" start="1150">)</span><span class="op" start="1151">}</span><span class="op" start="1152">&lt;</span><span class="qname" start="1153" select="quick">bold</span><span class="op" start="1157">&gt;</span><span class="op" start="1158">{</span><span class="function" start="1159" pair-end="1172" select="quick">local:mytest</span><span class="parenthesis">(</span><span class="parenthesis" start="1172">)</span><span class="op" start="1173">,</span><span class="whitespace" start="1174"> </span><span class="op" start="1175">&lt;</span><span class="qname" start="1176" select="quick">nested</span><span class="op" start="1182">&gt;</span><span class="qname" start="1183" select="quick">what</span><span class="whitespace" start="1187"> </span><span class="op" start="1188">{</span><span class="variable" start="1189" select="quick">$operand-two</span><span class="op" start="1201">,</span><span class="whitespace" start="1202"> </span><span class="op" start="1203">&lt;</span><span class="qname" start="1204" select="quick">nested</span><span class="step" start="1210">/</span><span class="op" start="1211">&gt;</span><span class="op" start="1212">}</span><span class="whitespace" start="1213"> </span><span class="qname" start="1214" select="quick">difficulty</span><span class="whitespace" start="1224"> </span><span class="op" start="1225">&lt;</span><span class="step" start="1226">/</span><span class="qname" start="1227" select="quick">nested</span><span class="op" start="1233">&gt;</span><span class="op" start="1234">}</span><span class="op" start="1235">&lt;</span><span class="step" start="1236">/</span><span class="qname" start="1237" select="quick">bold</span><span class="op" start="1241">&gt;</span><span class="whitespace" start="1242"> </span><span class="qname" start="1243" select="quick">mixed</span><span class="whitespace" start="1248"> </span><span class="qname" start="1249" select="quick">text</span><span class="op" start="1253">&lt;</span><span class="step" start="1254">/</span><span class="qname" start="1255" select="quick">title</span><span class="op" start="1260">&gt;</span><span class="whitespace" start="1261"> &#xD;
</span><span class="op" start="1264">&lt;</span><span class="step" start="1265">/</span><span class="qname" start="1266" select="quick">head</span><span class="op" start="1270">&gt;</span><span class="whitespace" start="1271">&#xD;
</span><span class="op" start="1273">&lt;</span><span class="qname" start="1274" select="quick">body</span><span class="op" start="1278">&gt;</span><span class="whitespace" start="1279"> &#xD;
  </span><span class="op" start="1284">&lt;</span><span class="qname" start="1285" select="quick">p</span><span class="op" start="1286">&gt;</span><span class="op" start="1287">{</span><span class="variable" start="1288" select="quick">$operand-one</span><span class="whitespace" start="1300"> </span><span class="op" start="1301">+</span><span class="whitespace" start="1302"> </span><span class="variable" start="1303" select="quick">$operand-two</span><span class="op" start="1315">}</span><span class="op" start="1316">&lt;</span><span class="step" start="1317">/</span><span class="qname" start="1318" select="quick">p</span><span class="op" start="1319">&gt;</span><span class="whitespace" start="1320">&#xD;
  </span><span class="op" start="1324">&lt;</span><span class="qname" start="1325" select="quick">p</span><span class="op" start="1326">&gt;</span><span class="op" start="1327">&lt;</span><span class="op" start="1328">!</span><span class="filter" start="1329" pair-end="1406" select="quick">[</span><span class="qname" start="1330" select="quick">CDATA</span><span class="filter" start="1335" pair-end="1405" select="quick">[</span><span class="qname" start="1336" select="quick">this</span><span class="whitespace" start="1340"> </span><span class="op" start="1341">is</span><span class="whitespace" start="1343"> </span><span class="op" start="1344">&lt;</span><span class="qname" start="1345" select="quick">testing</span><span class="whitespace" start="1352"> </span><span class="qname" start="1353" select="quick">things</span><span class="op" start="1359">&gt;</span><span class="whitespace" start="1360"> </span><span class="qname" start="1361" select="quick">somewhat</span><span class="whitespace" start="1369"> </span><span class="op" start="1370">and</span><span class="whitespace" start="1373"> </span><span class="qname" start="1374" select="quick">div</span><span class="whitespace" start="1377"> </span><span class="op" start="1378">mod</span><span class="whitespace" start="1381"> </span><span class="qname" start="1382" select="quick">could</span><span class="whitespace" start="1387"> </span><span class="qname" start="1388" select="quick">be</span><span class="whitespace" start="1390"> </span><span class="qname" start="1391" select="quick">tricky</span><span class="step" start="1397">/</span><span class="qname" start="1398" select="quick">awkward</span><span class="filter" start="1405">]</span><span class="filter" start="1406">]</span><span class="op" start="1407">&gt;</span><span class="op" start="1408">&lt;</span><span class="step" start="1409">/</span><span class="qname" start="1410" select="quick">p</span><span class="op" start="1411">&gt;</span><span class="whitespace" start="1412">&#xD;
</span><span class="op" start="1414">&lt;</span><span class="step" start="1415">/</span><span class="qname" start="1416" select="quick">body</span><span class="op" start="1420">&gt;</span><span class="whitespace" start="1421">&#xD;
</span><span class="op" start="1423">&lt;</span><span class="step" start="1424">/</span><span class="qname" start="1425" select="quick">html</span><span class="op" start="1429">&gt;</span><span class="whitespace" start="1430">&#xD;
&#xD;
</span></pre></div></body></html>